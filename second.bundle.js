(()=>{"use strict";var t={d:(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};function e(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function r(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function i(t){let n,i,a;function u(t,e,r=0,o=t.length){if(r<o){if(0!==n(e,e))return o;do{const n=r+o>>>1;i(t[n],e)<0?r=n+1:o=n}while(r<o)}return r}return 2!==t.length?(n=e,i=(n,r)=>e(t(n),r),a=(n,e)=>t(n)-e):(n=t===e||t===r?t:o,i=t,a=t),{left:u,center:function(t,n,e=0,r=t.length){const i=u(t,n,e,r-1);return i>e&&a(t[i-1],n)>-a(t[i],n)?i-1:i},right:function(t,e,r=0,o=t.length){if(r<o){if(0!==n(e,e))return o;do{const n=r+o>>>1;i(t[n],e)<=0?r=n+1:o=n}while(r<o)}return r}}}function o(){return 0}function a(t){return null===t?NaN:+t}t.r(n),t.d(n,{Adder:()=>S,Delaunay:()=>Hu,FormatSpecifier:()=>ff,InternMap:()=>$,InternSet:()=>P,Node:()=>Ig,Path:()=>ua,Voronoi:()=>Du,ZoomTransform:()=>qT,active:()=>lo,arc:()=>kM,area:()=>LM,areaRadial:()=>YM,ascending:()=>e,autoType:()=>Ec,axisBottom:()=>bn,axisLeft:()=>_n,axisRight:()=>vn,axisTop:()=>mn,bin:()=>ht,bisect:()=>l,bisectCenter:()=>f,bisectLeft:()=>s,bisectRight:()=>c,bisector:()=>i,blob:()=>ds,blur:()=>h,blur2:()=>d,blurImage:()=>p,brush:()=>Fo,brushSelection:()=>Oo,brushX:()=>Do,brushY:()=>Uo,buffer:()=>gs,chord:()=>Qo,chordDirected:()=>ta,chordTranspose:()=>Jo,cluster:()=>kg,color:()=>lr,contourDensity:()=>yu,contours:()=>cu,count:()=>b,create:()=>nM,creator:()=>Ae,cross:()=>M,csv:()=>_s,csvFormat:()=>lc,csvFormatBody:()=>hc,csvFormatRow:()=>pc,csvFormatRows:()=>dc,csvFormatValue:()=>gc,csvParse:()=>sc,csvParseRows:()=>fc,cubehelix:()=>Qa,cumsum:()=>E,curveBasis:()=>IE,curveBasisClosed:()=>RE,curveBasisOpen:()=>OE,curveBumpX:()=>GM,curveBumpY:()=>WM,curveBundle:()=>UE,curveCardinal:()=>qE,curveCardinalClosed:()=>HE,curveCardinalOpen:()=>XE,curveCatmullRom:()=>KE,curveCatmullRomClosed:()=>QE,curveCatmullRomOpen:()=>tT,curveLinear:()=>$M,curveLinearClosed:()=>eT,curveMonotoneX:()=>fT,curveMonotoneY:()=>lT,curveNatural:()=>pT,curveStep:()=>yT,curveStepAfter:()=>vT,curveStepBefore:()=>mT,descending:()=>r,deviation:()=>A,difference:()=>Kt,disjoint:()=>Zt,dispatch:()=>An,drag:()=>Qu,dragDisable:()=>He,dragEnable:()=>Ve,dsv:()=>bs,dsvFormat:()=>uc,easeBack:()=>us,easeBackIn:()=>os,easeBackInOut:()=>us,easeBackOut:()=>as,easeBounce:()=>es,easeBounceIn:()=>ns,easeBounceInOut:()=>rs,easeBounceOut:()=>es,easeCircle:()=>Yc,easeCircleIn:()=>jc,easeCircleInOut:()=>Yc,easeCircleOut:()=>qc,easeCubic:()=>uo,easeCubicIn:()=>oo,easeCubicInOut:()=>uo,easeCubicOut:()=>ao,easeElastic:()=>fs,easeElasticIn:()=>ss,easeElasticInOut:()=>ls,easeElasticOut:()=>fs,easeExp:()=>Fc,easeExpIn:()=>Dc,easeExpInOut:()=>Fc,easeExpOut:()=>Uc,easeLinear:()=>Ac,easePoly:()=>Pc,easePolyIn:()=>Cc,easePolyInOut:()=>Pc,easePolyOut:()=>$c,easeQuad:()=>Nc,easeQuadIn:()=>kc,easeQuadInOut:()=>Nc,easeQuadOut:()=>Sc,easeSin:()=>Bc,easeSinIn:()=>Lc,easeSinInOut:()=>Bc,easeSinOut:()=>Rc,every:()=>Yt,extent:()=>k,fcumsum:()=>C,filter:()=>Vt,flatGroup:()=>F,flatRollup:()=>j,forceCenter:()=>Ns,forceCollide:()=>js,forceLink:()=>Hs,forceManyBody:()=>tf,forceRadial:()=>nf,forceSimulation:()=>Js,forceX:()=>ef,forceY:()=>rf,format:()=>gf,formatDefaultLocale:()=>_f,formatLocale:()=>bf,formatPrefix:()=>yf,formatSpecifier:()=>sf,fsum:()=>N,geoAlbers:()=>jp,geoAlbersUsa:()=>qp,geoArea:()=>El,geoAzimuthalEqualArea:()=>Xp,geoAzimuthalEqualAreaRaw:()=>Vp,geoAzimuthalEquidistant:()=>Wp,geoAzimuthalEquidistantRaw:()=>Gp,geoBounds:()=>oh,geoCentroid:()=>mh,geoCircle:()=>Sh,geoClipAntimeridian:()=>Dh,geoClipCircle:()=>Uh,geoClipExtent:()=>Gh,geoClipRectangle:()=>Xh,geoConicConformal:()=>ng,geoConicConformalRaw:()=>tg,geoConicEqualArea:()=>Fp,geoConicEqualAreaRaw:()=>Up,geoConicEquidistant:()=>og,geoConicEquidistantRaw:()=>ig,geoContains:()=>ld,geoDistance:()=>ed,geoEqualEarth:()=>hg,geoEqualEarthRaw:()=>lg,geoEquirectangular:()=>rg,geoEquirectangularRaw:()=>eg,geoGnomonic:()=>pg,geoGnomonicRaw:()=>dg,geoGraticule:()=>pd,geoGraticule10:()=>gd,geoIdentity:()=>gg,geoInterpolate:()=>yd,geoLength:()=>Jh,geoMercator:()=>Zp,geoMercatorRaw:()=>Kp,geoNaturalEarth1:()=>mg,geoNaturalEarth1Raw:()=>yg,geoOrthographic:()=>bg,geoOrthographicRaw:()=>vg,geoPath:()=>Mp,geoProjection:()=>Bp,geoProjectionMutator:()=>Op,geoRotation:()=>Th,geoStereographic:()=>xg,geoStereographicRaw:()=>_g,geoStream:()=>tl,geoTransform:()=>Ep,geoTransverseMercator:()=>Mg,geoTransverseMercatorRaw:()=>wg,gray:()=>Pa,greatest:()=>bt,greatestIndex:()=>Rt,group:()=>O,groupSort:()=>J,groups:()=>D,hcl:()=>Fa,hierarchy:()=>Ng,histogram:()=>ht,hsl:()=>Er,html:()=>ks,image:()=>ws,index:()=>H,indexes:()=>V,interpolate:()=>Kr,interpolateArray:()=>jr,interpolateBasis:()=>Cr,interpolateBasisClosed:()=>$r,interpolateBlues:()=>Sw,interpolateBrBG:()=>Ux,interpolateBuGn:()=>iw,interpolateBuPu:()=>aw,interpolateCividis:()=>Dw,interpolateCool:()=>jw,interpolateCubehelix:()=>Gy,interpolateCubehelixDefault:()=>Uw,interpolateCubehelixLong:()=>Wy,interpolateDate:()=>Yr,interpolateDiscrete:()=>Ly,interpolateGnBu:()=>cw,interpolateGreens:()=>Cw,interpolateGreys:()=>Pw,interpolateHcl:()=>Hy,interpolateHclLong:()=>Vy,interpolateHsl:()=>Fy,interpolateHslLong:()=>jy,interpolateHue:()=>Ry,interpolateInferno:()=>Jw,interpolateLab:()=>qy,interpolateMagma:()=>Qw,interpolateNumber:()=>Hr,interpolateNumberArray:()=>Ur,interpolateObject:()=>Vr,interpolateOrRd:()=>fw,interpolateOranges:()=>Ow,interpolatePRGn:()=>jx,interpolatePiYG:()=>Yx,interpolatePlasma:()=>tM,interpolatePuBu:()=>pw,interpolatePuBuGn:()=>hw,interpolatePuOr:()=>Vx,interpolatePuRd:()=>yw,interpolatePurples:()=>Iw,interpolateRainbow:()=>Yw,interpolateRdBu:()=>Gx,interpolateRdGy:()=>Kx,interpolateRdPu:()=>vw,interpolateRdYlBu:()=>Qx,interpolateRdYlGn:()=>tw,interpolateReds:()=>Rw,interpolateRgb:()=>Rr,interpolateRgbBasis:()=>Or,interpolateRgbBasisClosed:()=>Dr,interpolateRound:()=>By,interpolateSinebow:()=>Gw,interpolateSpectral:()=>ew,interpolateString:()=>Wr,interpolateTransformCss:()=>Ii,interpolateTransformSvg:()=>Li,interpolateTurbo:()=>Ww,interpolateViridis:()=>Zw,interpolateWarm:()=>Fw,interpolateYlGn:()=>ww,interpolateYlGnBu:()=>_w,interpolateYlOrBr:()=>Ew,interpolateYlOrRd:()=>Aw,interpolateZoom:()=>Dy,interrupt:()=>Si,intersection:()=>Qt,interval:()=>UT,isoFormat:()=>BT,isoParse:()=>DT,json:()=>Es,lab:()=>za,lch:()=>Ua,least:()=>It,leastIndex:()=>Lt,line:()=>IM,lineRadial:()=>qM,link:()=>JM,linkHorizontal:()=>tE,linkRadial:()=>eE,linkVertical:()=>nE,local:()=>rM,map:()=>Xt,matcher:()=>Pn,max:()=>dt,maxIndex:()=>pt,mean:()=>Tt,median:()=>At,medianIndex:()=>kt,merge:()=>St,min:()=>gt,minIndex:()=>yt,mode:()=>Nt,namespace:()=>Xn,namespaces:()=>Vn,nice:()=>ft,now:()=>si,pack:()=>oy,packEnclose:()=>qg,packSiblings:()=>ry,pairs:()=>Ct,partition:()=>ly,path:()=>ca,pathRound:()=>sa,permute:()=>W,pie:()=>OM,piecewise:()=>Ky,pointRadial:()=>HM,pointer:()=>Qr,pointers:()=>oM,polygonArea:()=>Qy,polygonCentroid:()=>Jy,polygonContains:()=>im,polygonHull:()=>rm,polygonLength:()=>om,precisionFixed:()=>xf,precisionPrefix:()=>wf,precisionRound:()=>Mf,quadtree:()=>Is,quantile:()=>_t,quantileIndex:()=>wt,quantileSorted:()=>xt,quantize:()=>Zy,quickselect:()=>mt,radialArea:()=>YM,radialLine:()=>qM,randomBates:()=>hm,randomBernoulli:()=>gm,randomBeta:()=>vm,randomBinomial:()=>bm,randomCauchy:()=>xm,randomExponential:()=>dm,randomGamma:()=>mm,randomGeometric:()=>ym,randomInt:()=>cm,randomIrwinHall:()=>lm,randomLcg:()=>km,randomLogNormal:()=>fm,randomLogistic:()=>wm,randomNormal:()=>sm,randomPareto:()=>pm,randomPoisson:()=>Mm,randomUniform:()=>um,randomWeibull:()=>_m,range:()=>Pt,rank:()=>zt,reduce:()=>Gt,reverse:()=>Wt,rgb:()=>gr,ribbon:()=>_a,ribbonArrow:()=>xa,rollup:()=>q,rollups:()=>Y,scaleBand:()=>Pm,scaleDiverging:()=>xx,scaleDivergingLog:()=>wx,scaleDivergingPow:()=>Ex,scaleDivergingSqrt:()=>Tx,scaleDivergingSymlog:()=>Mx,scaleIdentity:()=>Xm,scaleImplicit:()=>Cm,scaleLinear:()=>Vm,scaleLog:()=>ev,scaleOrdinal:()=>$m,scalePoint:()=>Im,scalePow:()=>lv,scaleQuantile:()=>gv,scaleQuantize:()=>yv,scaleRadial:()=>pv,scaleSequential:()=>px,scaleSequentialLog:()=>gx,scaleSequentialPow:()=>mx,scaleSequentialQuantile:()=>bx,scaleSequentialSqrt:()=>vx,scaleSequentialSymlog:()=>yx,scaleSqrt:()=>hv,scaleSymlog:()=>av,scaleThreshold:()=>mv,scaleTime:()=>fx,scaleUtc:()=>lx,scan:()=>Bt,schemeAccent:()=>Sx,schemeBlues:()=>kw,schemeBrBG:()=>Dx,schemeBuGn:()=>rw,schemeBuPu:()=>ow,schemeCategory10:()=>kx,schemeDark2:()=>Nx,schemeGnBu:()=>uw,schemeGreens:()=>Nw,schemeGreys:()=>$w,schemeObservable10:()=>Cx,schemeOrRd:()=>sw,schemeOranges:()=>Bw,schemePRGn:()=>Fx,schemePaired:()=>$x,schemePastel1:()=>Px,schemePastel2:()=>zx,schemePiYG:()=>qx,schemePuBu:()=>dw,schemePuBuGn:()=>lw,schemePuOr:()=>Hx,schemePuRd:()=>gw,schemePurples:()=>zw,schemeRdBu:()=>Xx,schemeRdGy:()=>Wx,schemeRdPu:()=>mw,schemeRdYlBu:()=>Zx,schemeRdYlGn:()=>Jx,schemeReds:()=>Lw,schemeSet1:()=>Ix,schemeSet2:()=>Lx,schemeSet3:()=>Rx,schemeSpectral:()=>nw,schemeTableau10:()=>Bx,schemeYlGn:()=>xw,schemeYlGnBu:()=>bw,schemeYlOrBr:()=>Mw,schemeYlOrRd:()=>Tw,select:()=>Ue,selectAll:()=>aM,selection:()=>De,selector:()=>Sn,selectorAll:()=>$n,shuffle:()=>Ot,shuffler:()=>Dt,some:()=>Ht,sort:()=>K,stack:()=>MT,stackOffsetDiverging:()=>TT,stackOffsetExpand:()=>ET,stackOffsetNone:()=>bT,stackOffsetSilhouette:()=>AT,stackOffsetWiggle:()=>kT,stackOrderAppearance:()=>ST,stackOrderAscending:()=>CT,stackOrderDescending:()=>PT,stackOrderInsideOut:()=>zT,stackOrderNone:()=>_T,stackOrderReverse:()=>IT,stratify:()=>my,style:()=>ie,subset:()=>en,sum:()=>Ut,superset:()=>tn,svg:()=>Ss,symbol:()=>CE,symbolAsterisk:()=>iE,symbolCircle:()=>oE,symbolCross:()=>aE,symbolDiamond:()=>sE,symbolDiamond2:()=>fE,symbolPlus:()=>lE,symbolSquare:()=>hE,symbolSquare2:()=>dE,symbolStar:()=>mE,symbolTimes:()=>kE,symbolTriangle:()=>bE,symbolTriangle2:()=>xE,symbolWye:()=>AE,symbolX:()=>kE,symbols:()=>SE,symbolsFill:()=>SE,symbolsStroke:()=>NE,text:()=>ms,thresholdFreedmanDiaconis:()=>Mt,thresholdScott:()=>Et,thresholdSturges:()=>lt,tickFormat:()=>Ym,tickIncrement:()=>ct,tickStep:()=>st,ticks:()=>ut,timeDay:()=>Dv,timeDays:()=>Uv,timeFormat:()=>Db,timeFormatDefaultLocale:()=>ax,timeFormatLocale:()=>Bb,timeFriday:()=>Zv,timeFridays:()=>ib,timeHour:()=>Lv,timeHours:()=>Rv,timeInterval:()=>Av,timeMillisecond:()=>kv,timeMilliseconds:()=>Sv,timeMinute:()=>$v,timeMinutes:()=>Pv,timeMonday:()=>Xv,timeMondays:()=>tb,timeMonth:()=>xb,timeMonths:()=>wb,timeParse:()=>Ub,timeSaturday:()=>Qv,timeSaturdays:()=>ob,timeSecond:()=>Nv,timeSeconds:()=>Cv,timeSunday:()=>Vv,timeSundays:()=>Jv,timeThursday:()=>Kv,timeThursdays:()=>rb,timeTickInterval:()=>zb,timeTicks:()=>Pb,timeTuesday:()=>Gv,timeTuesdays:()=>nb,timeWednesday:()=>Wv,timeWednesdays:()=>eb,timeWeek:()=>Vv,timeWeeks:()=>Jv,timeYear:()=>Tb,timeYears:()=>Ab,timeout:()=>mi,timer:()=>hi,timerFlush:()=>di,transition:()=>eo,transpose:()=>Ft,tree:()=>Ay,treemap:()=>$y,treemapBinary:()=>Py,treemapDice:()=>fy,treemapResquarify:()=>Iy,treemapSlice:()=>ky,treemapSliceDice:()=>zy,treemapSquarify:()=>Cy,tsv:()=>xs,tsvFormat:()=>bc,tsvFormatBody:()=>_c,tsvFormatRow:()=>wc,tsvFormatRows:()=>xc,tsvFormatValue:()=>Mc,tsvParse:()=>mc,tsvParseRows:()=>vc,union:()=>rn,unixDay:()=>qv,unixDays:()=>Yv,utcDay:()=>Fv,utcDays:()=>jv,utcFormat:()=>Fb,utcFriday:()=>hb,utcFridays:()=>bb,utcHour:()=>Bv,utcHours:()=>Ov,utcMillisecond:()=>kv,utcMilliseconds:()=>Sv,utcMinute:()=>zv,utcMinutes:()=>Iv,utcMonday:()=>cb,utcMondays:()=>gb,utcMonth:()=>Mb,utcMonths:()=>Eb,utcParse:()=>jb,utcSaturday:()=>db,utcSaturdays:()=>_b,utcSecond:()=>Nv,utcSeconds:()=>Cv,utcSunday:()=>ub,utcSundays:()=>pb,utcThursday:()=>lb,utcThursdays:()=>vb,utcTickInterval:()=>$b,utcTicks:()=>Cb,utcTuesday:()=>sb,utcTuesdays:()=>yb,utcWednesday:()=>fb,utcWednesdays:()=>mb,utcWeek:()=>ub,utcWeeks:()=>pb,utcYear:()=>kb,utcYears:()=>Sb,variance:()=>T,window:()=>te,xml:()=>As,zip:()=>qt,zoom:()=>tA,zoomIdentity:()=>YT,zoomTransform:()=>HT});const u=i(e),c=u.right,s=u.left,f=i(a).center,l=c;function h(t,n){if(!((n=+n)>=0))throw new RangeError("invalid r");let e=t.length;if(!((e=Math.floor(e))>=0))throw new RangeError("invalid length");if(!e||!n)return t;const r=v(n),i=t.slice();return r(t,i,0,e,1),r(i,t,0,e,1),r(t,i,0,e,1),t}const d=g(v),p=g((function(t){const n=v(t);return(t,e,r,i,o)=>{n(t,e,0+(r<<=2),0+(i<<=2),o<<=2),n(t,e,r+1,i+1,o),n(t,e,r+2,i+2,o),n(t,e,r+3,i+3,o)}}));function g(t){return function(n,e,r=e){if(!((e=+e)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:o,height:a}=n;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((a=Math.floor(void 0!==a?a:i.length/o))>=0))throw new RangeError("invalid height");if(!o||!a||!e&&!r)return n;const u=e&&t(e),c=r&&t(r),s=i.slice();return u&&c?(y(u,s,i,o,a),y(u,i,s,o,a),y(u,s,i,o,a),m(c,i,s,o,a),m(c,s,i,o,a),m(c,i,s,o,a)):u?(y(u,i,s,o,a),y(u,s,i,o,a),y(u,i,s,o,a)):c&&(m(c,i,s,o,a),m(c,s,i,o,a),m(c,i,s,o,a)),n}}function y(t,n,e,r,i){for(let o=0,a=r*i;o<a;)t(n,e,o,o+=r,1)}function m(t,n,e,r,i){for(let o=0,a=r*i;o<r;++o)t(n,e,o,o+a,r)}function v(t){const n=Math.floor(t);if(n===t)return function(t){const n=2*t+1;return(e,r,i,o,a)=>{if(!((o-=a)>=i))return;let u=t*r[i];const c=a*t;for(let t=i,n=i+c;t<n;t+=a)u+=r[Math.min(o,t)];for(let t=i,s=o;t<=s;t+=a)u+=r[Math.min(o,t+c)],e[t]=u/n,u-=r[Math.max(i,t-c)]}}(t);const e=t-n,r=2*t+1;return(t,i,o,a,u)=>{if(!((a-=u)>=o))return;let c=n*i[o];const s=u*n,f=s+u;for(let t=o,n=o+s;t<n;t+=u)c+=i[Math.min(a,t)];for(let n=o,l=a;n<=l;n+=u)c+=i[Math.min(a,n+s)],t[n]=(c+e*(i[Math.max(o,n-f)]+i[Math.min(a,n+f)]))/r,c-=i[Math.max(o,n-s)]}}function b(t,n){let e=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&++e;else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(i=+i)>=i&&++e}return e}function _(t){return 0|t.length}function x(t){return!(t>0)}function w(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function M(...t){const n="function"==typeof t[t.length-1]&&function(t){return n=>t(...n)}(t.pop()),e=(t=t.map(w)).map(_),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||e.some(x))return o;for(;;){o.push(i.map(((n,e)=>t[e][n])));let a=r;for(;++i[a]===e[a];){if(0===a)return n?o.map(n):o;i[a--]=0}}}function E(t,n){var e=0,r=0;return Float64Array.from(t,void 0===n?t=>e+=+t||0:i=>e+=+n(i,r++,t)||0)}function T(t,n){let e,r=0,i=0,o=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(e=n-i,i+=e/++r,o+=e*(n-i));else{let a=-1;for(let u of t)null!=(u=n(u,++a,t))&&(u=+u)>=u&&(e=u-i,i+=e/++r,o+=e*(u-i))}if(r>1)return o/(r-1)}function A(t,n){const e=T(t,n);return e?Math.sqrt(e):e}function k(t,n){let e,r;if(void 0===n)for(const n of t)null!=n&&(void 0===e?n>=n&&(e=r=n):(e>n&&(e=n),r<n&&(r=n)));else{let i=-1;for(let o of t)null!=(o=n(o,++i,t))&&(void 0===e?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}class S{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const i=n[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(n[e++]=a),t=o}return n[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let n,e,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(n=o,e=t[--i],o=n+e,r=e-(o-n),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(e=2*r,n=o+e,e==n-o&&(o=n))}return o}}function N(t,n){const e=new S;if(void 0===n)for(let n of t)(n=+n)&&e.add(n);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&e.add(i)}return+e}function C(t,n){const e=new S;let r=-1;return Float64Array.from(t,void 0===n?t=>e.add(+t||0):i=>e.add(+n(i,++r,t)||0))}class $ extends Map{constructor(t,n=R){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const[n,e]of t)this.set(n,e)}get(t){return super.get(z(this,t))}has(t){return super.has(z(this,t))}set(t,n){return super.set(I(this,t),n)}delete(t){return super.delete(L(this,t))}}class P extends Set{constructor(t,n=R){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const n of t)this.add(n)}has(t){return super.has(z(this,t))}add(t){return super.add(I(this,t))}delete(t){return super.delete(L(this,t))}}function z({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function I({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function L({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function R(t){return null!==t&&"object"==typeof t?t.valueOf():t}function B(t){return t}function O(t,...n){return G(t,B,B,n)}function D(t,...n){return G(t,Array.from,B,n)}function U(t,n){for(let e=1,r=n.length;e<r;++e)t=t.flatMap((t=>t.pop().map((([n,e])=>[...t,n,e]))));return t}function F(t,...n){return U(D(t,...n),n)}function j(t,n,...e){return U(Y(t,n,...e),e)}function q(t,n,...e){return G(t,B,n,e)}function Y(t,n,...e){return G(t,Array.from,n,e)}function H(t,...n){return G(t,B,X,n)}function V(t,...n){return G(t,Array.from,X,n)}function X(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function G(t,n,e,r){return function t(i,o){if(o>=r.length)return e(i);const a=new $,u=r[o++];let c=-1;for(const t of i){const n=u(t,++c,i),e=a.get(n);e?e.push(t):a.set(n,[t])}for(const[n,e]of a)a.set(n,t(e,o));return n(a)}(t,0)}function W(t,n){return Array.from(n,(n=>t[n]))}function K(t,...n){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&2!==e.length||n.length>1){const r=Uint32Array.from(t,((t,n)=>n));return n.length>1?(n=n.map((n=>t.map(n))),r.sort(((t,e)=>{for(const r of n){const n=Q(r[t],r[e]);if(n)return n}}))):(e=t.map(e),r.sort(((t,n)=>Q(e[t],e[n])))),W(t,r)}return t.sort(Z(e))}function Z(t=e){if(t===e)return Q;if("function"!=typeof t)throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||0===r?r:(0===t(e,e))-(0===t(n,n))}}function Q(t,n){return(null==t||!(t>=t))-(null==n||!(n>=n))||(t<n?-1:t>n?1:0)}function J(t,n,r){return(2!==n.length?K(q(t,n,r),(([t,n],[r,i])=>e(n,i)||e(t,r))):K(O(t,r),(([t,r],[i,o])=>n(r,o)||e(t,i)))).map((([t])=>t))}var tt=Array.prototype,nt=tt.slice;function et(t){return()=>t}tt.map;const rt=Math.sqrt(50),it=Math.sqrt(10),ot=Math.sqrt(2);function at(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=rt?10:o>=it?5:o>=ot?2:1;let u,c,s;return i<0?(s=Math.pow(10,-i)/a,u=Math.round(t*s),c=Math.round(n*s),u/s<t&&++u,c/s>n&&--c,s=-s):(s=Math.pow(10,i)*a,u=Math.round(t/s),c=Math.round(n/s),u*s<t&&++u,c*s>n&&--c),c<u&&.5<=e&&e<2?at(t,n,2*e):[u,c,s]}function ut(t,n,e){if(!((e=+e)>0))return[];if((t=+t)==(n=+n))return[t];const r=n<t,[i,o,a]=r?at(n,t,e):at(t,n,e);if(!(o>=i))return[];const u=o-i+1,c=new Array(u);if(r)if(a<0)for(let t=0;t<u;++t)c[t]=(o-t)/-a;else for(let t=0;t<u;++t)c[t]=(o-t)*a;else if(a<0)for(let t=0;t<u;++t)c[t]=(i+t)/-a;else for(let t=0;t<u;++t)c[t]=(i+t)*a;return c}function ct(t,n,e){return at(t=+t,n=+n,e=+e)[2]}function st(t,n,e){e=+e;const r=(n=+n)<(t=+t),i=r?ct(n,t,e):ct(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function ft(t,n,e){let r;for(;;){const i=ct(t,n,e);if(i===r||0===i||!isFinite(i))return[t,n];i>0?(t=Math.floor(t/i)*i,n=Math.ceil(n/i)*i):i<0&&(t=Math.ceil(t*i)/i,n=Math.floor(n*i)/i),r=i}}function lt(t){return Math.max(1,Math.ceil(Math.log(b(t))/Math.LN2)+1)}function ht(){var t=B,n=k,e=lt;function r(r){Array.isArray(r)||(r=Array.from(r));var i,o,a,u=r.length,c=new Array(u);for(i=0;i<u;++i)c[i]=t(r[i],i,r);var s=n(c),f=s[0],h=s[1],d=e(c,f,h);if(!Array.isArray(d)){const t=h,e=+d;if(n===k&&([f,h]=ft(f,h,e)),(d=ut(f,h,e))[0]<=f&&(a=ct(f,h,e)),d[d.length-1]>=h)if(t>=h&&n===k){const t=ct(f,h,e);isFinite(t)&&(t>0?h=(Math.floor(h/t)+1)*t:t<0&&(h=(Math.ceil(h*-t)+1)/-t))}else d.pop()}for(var p=d.length,g=0,y=p;d[g]<=f;)++g;for(;d[y-1]>h;)--y;(g||y<p)&&(d=d.slice(g,y),p=y-g);var m,v=new Array(p+1);for(i=0;i<=p;++i)(m=v[i]=[]).x0=i>0?d[i-1]:f,m.x1=i<p?d[i]:h;if(isFinite(a)){if(a>0)for(i=0;i<u;++i)null!=(o=c[i])&&f<=o&&o<=h&&v[Math.min(p,Math.floor((o-f)/a))].push(r[i]);else if(a<0)for(i=0;i<u;++i)if(null!=(o=c[i])&&f<=o&&o<=h){const t=Math.floor((f-o)*a);v[Math.min(p,t+(d[t]<=o))].push(r[i])}}else for(i=0;i<u;++i)null!=(o=c[i])&&f<=o&&o<=h&&v[l(d,o,0,p)].push(r[i]);return v}return r.value=function(n){return arguments.length?(t="function"==typeof n?n:et(n),r):t},r.domain=function(t){return arguments.length?(n="function"==typeof t?t:et([t[0],t[1]]),r):n},r.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:et(Array.isArray(t)?nt.call(t):t),r):e},r}function dt(t,n){let e;if(void 0===n)for(const n of t)null!=n&&(e<n||void 0===e&&n>=n)&&(e=n);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e<i||void 0===e&&i>=i)&&(e=i)}return e}function pt(t,n){let e,r=-1,i=-1;if(void 0===n)for(const n of t)++i,null!=n&&(e<n||void 0===e&&n>=n)&&(e=n,r=i);else for(let o of t)null!=(o=n(o,++i,t))&&(e<o||void 0===e&&o>=o)&&(e=o,r=i);return r}function gt(t,n){let e;if(void 0===n)for(const n of t)null!=n&&(e>n||void 0===e&&n>=n)&&(e=n);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e>i||void 0===e&&i>=i)&&(e=i)}return e}function yt(t,n){let e,r=-1,i=-1;if(void 0===n)for(const n of t)++i,null!=n&&(e>n||void 0===e&&n>=n)&&(e=n,r=i);else for(let o of t)null!=(o=n(o,++i,t))&&(e>o||void 0===e&&o>=o)&&(e=o,r=i);return r}function mt(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=void 0===i?Q:Z(i);r>e;){if(r-e>600){const o=r-e+1,a=n-e+1,u=Math.log(o),c=.5*Math.exp(2*u/3),s=.5*Math.sqrt(u*c*(o-c)/o)*(a-o/2<0?-1:1);mt(t,n,Math.max(e,Math.floor(n-a*c/o+s)),Math.min(r,Math.floor(n+(o-a)*c/o+s)),i)}const o=t[n];let a=e,u=r;for(vt(t,e,n),i(t[r],o)>0&&vt(t,e,r);a<u;){for(vt(t,a,u),++a,--u;i(t[a],o)<0;)++a;for(;i(t[u],o)>0;)--u}0===i(t[e],o)?vt(t,e,u):(++u,vt(t,u,r)),u<=n&&(e=u+1),n<=u&&(r=u-1)}return t}function vt(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function bt(t,n=e){let r,i=!1;if(1===n.length){let o;for(const a of t){const t=n(a);(i?e(t,o)>0:0===e(t,t))&&(r=a,o=t,i=!0)}}else for(const e of t)(i?n(e,r)>0:0===n(e,e))&&(r=e,i=!0);return r}function _t(t,n,e){if(t=Float64Array.from(function*(t,n){if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let e=-1;for(let r of t)null!=(r=n(r,++e,t))&&(r=+r)>=r&&(yield r)}}(t,e)),(r=t.length)&&!isNaN(n=+n)){if(n<=0||r<2)return gt(t);if(n>=1)return dt(t);var r,i=(r-1)*n,o=Math.floor(i),a=dt(mt(t,o).subarray(0,o+1));return a+(gt(t.subarray(o+1))-a)*(i-o)}}function xt(t,n,e=a){if((r=t.length)&&!isNaN(n=+n)){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),u=+e(t[o],o,t);return u+(+e(t[o+1],o+1,t)-u)*(i-o)}}function wt(t,n,e=a){if(!isNaN(n=+n)){if(r=Float64Array.from(t,((n,r)=>a(e(t[r],r,t)))),n<=0)return yt(r);if(n>=1)return pt(r);var r,i=Uint32Array.from(t,((t,n)=>n)),o=r.length-1,u=Math.floor(o*n);return mt(i,u,0,o,((t,n)=>Q(r[t],r[n]))),(u=bt(i.subarray(0,u+1),(t=>r[t])))>=0?u:-1}}function Mt(t,n,e){const r=b(t),i=_t(t,.75)-_t(t,.25);return r&&i?Math.ceil((e-n)/(2*i*Math.pow(r,-1/3))):1}function Et(t,n,e){const r=b(t),i=A(t);return r&&i?Math.ceil((e-n)*Math.cbrt(r)/(3.49*i)):1}function Tt(t,n){let e=0,r=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(++e,r+=n);else{let i=-1;for(let o of t)null!=(o=n(o,++i,t))&&(o=+o)>=o&&(++e,r+=o)}if(e)return r/e}function At(t,n){return _t(t,.5,n)}function kt(t,n){return wt(t,.5,n)}function St(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}function Nt(t,n){const e=new $;if(void 0===n)for(let n of t)null!=n&&n>=n&&e.set(n,(e.get(n)||0)+1);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&i>=i&&e.set(i,(e.get(i)||0)+1)}let r,i=0;for(const[t,n]of e)n>i&&(i=n,r=t);return r}function Ct(t,n=$t){const e=[];let r,i=!1;for(const o of t)i&&e.push(n(r,o)),r=o,i=!0;return e}function $t(t,n){return[t,n]}function Pt(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}function zt(t,n=e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");let r=Array.from(t);const i=new Float64Array(r.length);2!==n.length&&(r=r.map(n),n=e);const o=(t,e)=>n(r[t],r[e]);let a,u;return(t=Uint32Array.from(r,((t,n)=>n))).sort(n===e?(t,n)=>Q(r[t],r[n]):Z(o)),t.forEach(((t,n)=>{const e=o(t,void 0===a?t:a);e>=0?((void 0===a||e>0)&&(a=t,u=n),i[t]=u):i[t]=NaN})),i}function It(t,n=e){let r,i=!1;if(1===n.length){let o;for(const a of t){const t=n(a);(i?e(t,o)<0:0===e(t,t))&&(r=a,o=t,i=!0)}}else for(const e of t)(i?n(e,r)<0:0===n(e,e))&&(r=e,i=!0);return r}function Lt(t,n=e){if(1===n.length)return yt(t,n);let r,i=-1,o=-1;for(const e of t)++o,(i<0?0===n(e,e):n(e,r)<0)&&(r=e,i=o);return i}function Rt(t,n=e){if(1===n.length)return pt(t,n);let r,i=-1,o=-1;for(const e of t)++o,(i<0?0===n(e,e):n(e,r)>0)&&(r=e,i=o);return i}function Bt(t,n){const e=Lt(t,n);return e<0?void 0:e}const Ot=Dt(Math.random);function Dt(t){return function(n,e=0,r=n.length){let i=r-(e=+e);for(;i;){const r=t()*i--|0,o=n[i+e];n[i+e]=n[r+e],n[r+e]=o}return n}}function Ut(t,n){let e=0;if(void 0===n)for(let n of t)(n=+n)&&(e+=n);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function Ft(t){if(!(i=t.length))return[];for(var n=-1,e=gt(t,jt),r=new Array(e);++n<e;)for(var i,o=-1,a=r[n]=new Array(i);++o<i;)a[o]=t[o][n];return r}function jt(t){return t.length}function qt(){return Ft(arguments)}function Yt(t,n){if("function"!=typeof n)throw new TypeError("test is not a function");let e=-1;for(const r of t)if(!n(r,++e,t))return!1;return!0}function Ht(t,n){if("function"!=typeof n)throw new TypeError("test is not a function");let e=-1;for(const r of t)if(n(r,++e,t))return!0;return!1}function Vt(t,n){if("function"!=typeof n)throw new TypeError("test is not a function");const e=[];let r=-1;for(const i of t)n(i,++r,t)&&e.push(i);return e}function Xt(t,n){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof n)throw new TypeError("mapper is not a function");return Array.from(t,((e,r)=>n(e,r,t)))}function Gt(t,n,e){if("function"!=typeof n)throw new TypeError("reducer is not a function");const r=t[Symbol.iterator]();let i,o,a=-1;if(arguments.length<3){if(({done:i,value:e}=r.next()),i)return;++a}for(;({done:i,value:o}=r.next()),!i;)e=n(e,o,++a,t);return e}function Wt(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Kt(t,...n){t=new P(t);for(const e of n)for(const n of e)t.delete(n);return t}function Zt(t,n){const e=n[Symbol.iterator](),r=new P;for(const n of t){if(r.has(n))return!1;let t,i;for(;({value:t,done:i}=e.next())&&!i;){if(Object.is(n,t))return!1;r.add(t)}}return!0}function Qt(t,...n){t=new P(t),n=n.map(Jt);t:for(const e of t)for(const r of n)if(!r.has(e)){t.delete(e);continue t}return t}function Jt(t){return t instanceof P?t:new P(t)}function tn(t,n){const e=t[Symbol.iterator](),r=new Set;for(const t of n){const n=nn(t);if(r.has(n))continue;let i,o;for(;({value:i,done:o}=e.next());){if(o)return!1;const t=nn(i);if(r.add(t),Object.is(n,t))break}}return!0}function nn(t){return null!==t&&"object"==typeof t?t.valueOf():t}function en(t,n){return tn(n,t)}function rn(...t){const n=new P;for(const e of t)for(const t of e)n.add(t);return n}function on(t){return t}var an=1,un=2,cn=3,sn=4,fn=1e-6;function ln(t){return"translate("+t+",0)"}function hn(t){return"translate(0,"+t+")"}function dn(t){return n=>+t(n)}function pn(t,n){return n=Math.max(0,t.bandwidth()-2*n)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function gn(){return!this.__axis}function yn(t,n){var e=[],r=null,i=null,o=6,a=6,u=3,c="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,s=t===an||t===sn?-1:1,f=t===sn||t===un?"x":"y",l=t===an||t===cn?ln:hn;function h(h){var d=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,p=null==i?n.tickFormat?n.tickFormat.apply(n,e):on:i,g=Math.max(o,0)+u,y=n.range(),m=+y[0]+c,v=+y[y.length-1]+c,b=(n.bandwidth?pn:dn)(n.copy(),c),_=h.selection?h.selection():h,x=_.selectAll(".domain").data([null]),w=_.selectAll(".tick").data(d,n).order(),M=w.exit(),E=w.enter().append("g").attr("class","tick"),T=w.select("line"),A=w.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(E),T=T.merge(E.append("line").attr("stroke","currentColor").attr(f+"2",s*o)),A=A.merge(E.append("text").attr("fill","currentColor").attr(f,s*g).attr("dy",t===an?"0em":t===cn?"0.71em":"0.32em")),h!==_&&(x=x.transition(h),w=w.transition(h),T=T.transition(h),A=A.transition(h),M=M.transition(h).attr("opacity",fn).attr("transform",(function(t){return isFinite(t=b(t))?l(t+c):this.getAttribute("transform")})),E.attr("opacity",fn).attr("transform",(function(t){var n=this.parentNode.__axis;return l((n&&isFinite(n=n(t))?n:b(t))+c)}))),M.remove(),x.attr("d",t===sn||t===un?a?"M"+s*a+","+m+"H"+c+"V"+v+"H"+s*a:"M"+c+","+m+"V"+v:a?"M"+m+","+s*a+"V"+c+"H"+v+"V"+s*a:"M"+m+","+c+"H"+v),w.attr("opacity",1).attr("transform",(function(t){return l(b(t)+c)})),T.attr(f+"2",s*o),A.attr(f,s*g).text(p),_.filter(gn).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===un?"start":t===sn?"end":"middle"),_.each((function(){this.__axis=b}))}return h.scale=function(t){return arguments.length?(n=t,h):n},h.ticks=function(){return e=Array.from(arguments),h},h.tickArguments=function(t){return arguments.length?(e=null==t?[]:Array.from(t),h):e.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(o=a=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(u=+t,h):u},h.offset=function(t){return arguments.length?(c=+t,h):c},h}function mn(t){return yn(an,t)}function vn(t){return yn(un,t)}function bn(t){return yn(cn,t)}function _n(t){return yn(sn,t)}var xn={value:()=>{}};function wn(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Mn(r)}function Mn(t){this._=t}function En(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function Tn(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=xn,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}Mn.prototype=wn.prototype={constructor:Mn,on:function(t,n){var e,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))),a=-1,u=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<u;)if(e=(t=o[a]).type)i[e]=Tn(i[e],t.name,n);else if(null==n)for(e in i)i[e]=Tn(i[e],t.name,null);return this}for(;++a<u;)if((e=(t=o[a]).type)&&(e=En(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Mn(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};const An=wn;function kn(){}function Sn(t){return null==t?kn:function(){return this.querySelector(t)}}function Nn(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Cn(){return[]}function $n(t){return null==t?Cn:function(){return this.querySelectorAll(t)}}function Pn(t){return function(){return this.matches(t)}}function zn(t){return function(n){return n.matches(t)}}var In=Array.prototype.find;function Ln(){return this.firstElementChild}var Rn=Array.prototype.filter;function Bn(){return Array.from(this.children)}function On(t){return new Array(t.length)}function Dn(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function Un(t,n,e,r,i,o){for(var a,u=0,c=n.length,s=o.length;u<s;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new Dn(t,o[u]);for(;u<c;++u)(a=n[u])&&(i[u]=a)}function Fn(t,n,e,r,i,o,a){var u,c,s,f=new Map,l=n.length,h=o.length,d=new Array(l);for(u=0;u<l;++u)(c=n[u])&&(d[u]=s=a.call(c,c.__data__,u,n)+"",f.has(s)?i[u]=c:f.set(s,c));for(u=0;u<h;++u)s=a.call(t,o[u],u,o)+"",(c=f.get(s))?(r[u]=c,c.__data__=o[u],f.delete(s)):e[u]=new Dn(t,o[u]);for(u=0;u<l;++u)(c=n[u])&&f.get(d[u])===c&&(i[u]=c)}function jn(t){return t.__data__}function qn(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Yn(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}Dn.prototype={constructor:Dn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Hn="http://www.w3.org/1999/xhtml";const Vn={svg:"http://www.w3.org/2000/svg",xhtml:Hn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xn(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Vn.hasOwnProperty(n)?{space:Vn[n],local:t}:t}function Gn(t){return function(){this.removeAttribute(t)}}function Wn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Kn(t,n){return function(){this.setAttribute(t,n)}}function Zn(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Qn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function Jn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function te(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ne(t){return function(){this.style.removeProperty(t)}}function ee(t,n,e){return function(){this.style.setProperty(t,n,e)}}function re(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function ie(t,n){return t.style.getPropertyValue(n)||te(t).getComputedStyle(t,null).getPropertyValue(n)}function oe(t){return function(){delete this[t]}}function ae(t,n){return function(){this[t]=n}}function ue(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function ce(t){return t.trim().split(/^|\s+/)}function se(t){return t.classList||new fe(t)}function fe(t){this._node=t,this._names=ce(t.getAttribute("class")||"")}function le(t,n){for(var e=se(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function he(t,n){for(var e=se(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function de(t){return function(){le(this,t)}}function pe(t){return function(){he(this,t)}}function ge(t,n){return function(){(n.apply(this,arguments)?le:he)(this,t)}}function ye(){this.textContent=""}function me(t){return function(){this.textContent=t}}function ve(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function be(){this.innerHTML=""}function _e(t){return function(){this.innerHTML=t}}function xe(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function we(){this.nextSibling&&this.parentNode.appendChild(this)}function Me(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ee(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Hn&&n.documentElement.namespaceURI===Hn?n.createElement(t):n.createElementNS(e,t)}}function Te(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ae(t){var n=Xn(t);return(n.local?Te:Ee)(n)}function ke(){return null}function Se(){var t=this.parentNode;t&&t.removeChild(this)}function Ne(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Ce(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function $e(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function Pe(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function ze(t,n,e){var r=te(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Ie(t,n){return function(){return ze(this,t,n)}}function Le(t,n){return function(){return ze(this,t,n.apply(this,arguments))}}fe.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Re=[null];function Be(t,n){this._groups=t,this._parents=n}function Oe(){return new Be([[document.documentElement]],Re)}Be.prototype=Oe.prototype={constructor:Be,select:function(t){"function"!=typeof t&&(t=Sn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],c=u.length,s=r[i]=new Array(c),f=0;f<c;++f)(o=u[f])&&(a=t.call(o,o.__data__,f,u))&&("__data__"in o&&(a.__data__=o.__data__),s[f]=a);return new Be(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return Nn(t.apply(this,arguments))}}(t):$n(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],c=u.length,s=0;s<c;++s)(a=u[s])&&(r.push(t.call(a,a.__data__,s,u)),i.push(a));return new Be(r,i)},selectChild:function(t){return this.select(null==t?Ln:function(t){return function(){return In.call(this.children,t)}}("function"==typeof t?t:zn(t)))},selectChildren:function(t){return this.selectAll(null==t?Bn:function(t){return function(){return Rn.call(this.children,t)}}("function"==typeof t?t:zn(t)))},filter:function(t){"function"!=typeof t&&(t=Pn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,c=r[i]=[],s=0;s<u;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&c.push(o);return new Be(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,jn);var e,r=n?Fn:Un,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,u=new Array(a),c=new Array(a),s=new Array(a),f=0;f<a;++f){var l=i[f],h=o[f],d=h.length,p=qn(t.call(l,l&&l.__data__,f,i)),g=p.length,y=c[f]=new Array(g),m=u[f]=new Array(g);r(l,h,y,m,s[f]=new Array(d),p,n);for(var v,b,_=0,x=0;_<g;++_)if(v=y[_]){for(_>=x&&(x=_+1);!(b=m[x])&&++x<g;);v._next=b||null}}return(u=new Be(u,i))._enter=c,u._exit=s,u},enter:function(){return new Be(this._enter||this._groups.map(On),this._parents)},exit:function(){return new Be(this._exit||this._groups.map(On),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),u=new Array(i),c=0;c<a;++c)for(var s,f=e[c],l=r[c],h=f.length,d=u[c]=new Array(h),p=0;p<h;++p)(s=f[p]||l[p])&&(d[p]=s);for(;c<i;++c)u[c]=e[c];return new Be(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=Yn);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],c=u.length,s=i[o]=new Array(c),f=0;f<c;++f)(a=u[f])&&(s[f]=a);s.sort(n)}return new Be(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=Xn(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?Wn:Gn:"function"==typeof n?e.local?Jn:Qn:e.local?Zn:Kn)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?ne:"function"==typeof n?re:ee)(t,n,null==e?"":e)):ie(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?oe:"function"==typeof n?ue:ae)(t,n)):this.node()[t]},classed:function(t,n){var e=ce(t+"");if(arguments.length<2){for(var r=se(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?ge:n?de:pe)(e,n))},text:function(t){return arguments.length?this.each(null==t?ye:("function"==typeof t?ve:me)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?be:("function"==typeof t?xe:_e)(t)):this.node().innerHTML},raise:function(){return this.each(we)},lower:function(){return this.each(Me)},append:function(t){var n="function"==typeof t?t:Ae(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:Ae(t),r=null==n?ke:"function"==typeof n?n:Sn(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Se)},clone:function(t){return this.select(t?Ce:Ne)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?Pe:$e,r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var c,s=0,f=u.length;s<f;++s)for(r=0,c=u[s];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?Le:Ie)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const De=Oe;function Ue(t){return"string"==typeof t?new Be([[document.querySelector(t)]],[document.documentElement]):new Be([[t]],Re)}const Fe={passive:!1},je={capture:!0,passive:!1};function qe(t){t.stopImmediatePropagation()}function Ye(t){t.preventDefault(),t.stopImmediatePropagation()}function He(t){var n=t.document.documentElement,e=Ue(t).on("dragstart.drag",Ye,je);"onselectstart"in n?e.on("selectstart.drag",Ye,je):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Ve(t,n){var e=t.document.documentElement,r=Ue(t).on("dragstart.drag",null);n&&(r.on("click.drag",Ye,je),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function Xe(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Ge(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function We(){}var Ke=.7,Ze=1/Ke,Qe="\\s*([+-]?\\d+)\\s*",Je="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nr=/^#([0-9a-f]{3,8})$/,er=new RegExp(`^rgb\\(${Qe},${Qe},${Qe}\\)$`),rr=new RegExp(`^rgb\\(${tr},${tr},${tr}\\)$`),ir=new RegExp(`^rgba\\(${Qe},${Qe},${Qe},${Je}\\)$`),or=new RegExp(`^rgba\\(${tr},${tr},${tr},${Je}\\)$`),ar=new RegExp(`^hsl\\(${Je},${tr},${tr}\\)$`),ur=new RegExp(`^hsla\\(${Je},${tr},${tr},${Je}\\)$`),cr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function sr(){return this.rgb().formatHex()}function fr(){return this.rgb().formatRgb()}function lr(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=nr.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?hr(n):3===e?new yr(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?dr(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?dr(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=er.exec(t))?new yr(n[1],n[2],n[3],1):(n=rr.exec(t))?new yr(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=ir.exec(t))?dr(n[1],n[2],n[3],n[4]):(n=or.exec(t))?dr(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=ar.exec(t))?wr(n[1],n[2]/100,n[3]/100,1):(n=ur.exec(t))?wr(n[1],n[2]/100,n[3]/100,n[4]):cr.hasOwnProperty(t)?hr(cr[t]):"transparent"===t?new yr(NaN,NaN,NaN,0):null}function hr(t){return new yr(t>>16&255,t>>8&255,255&t,1)}function dr(t,n,e,r){return r<=0&&(t=n=e=NaN),new yr(t,n,e,r)}function pr(t){return t instanceof We||(t=lr(t)),t?new yr((t=t.rgb()).r,t.g,t.b,t.opacity):new yr}function gr(t,n,e,r){return 1===arguments.length?pr(t):new yr(t,n,e,null==r?1:r)}function yr(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function mr(){return`#${xr(this.r)}${xr(this.g)}${xr(this.b)}`}function vr(){const t=br(this.opacity);return`${1===t?"rgb(":"rgba("}${_r(this.r)}, ${_r(this.g)}, ${_r(this.b)}${1===t?")":`, ${t})`}`}function br(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _r(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function xr(t){return((t=_r(t))<16?"0":"")+t.toString(16)}function wr(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Tr(t,n,e,r)}function Mr(t){if(t instanceof Tr)return new Tr(t.h,t.s,t.l,t.opacity);if(t instanceof We||(t=lr(t)),!t)return new Tr;if(t instanceof Tr)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,c=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=c>0&&c<1?0:a,new Tr(a,u,c,t.opacity)}function Er(t,n,e,r){return 1===arguments.length?Mr(t):new Tr(t,n,e,null==r?1:r)}function Tr(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Ar(t){return(t=(t||0)%360)<0?t+360:t}function kr(t){return Math.max(0,Math.min(1,t||0))}function Sr(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Nr(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}function Cr(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<n-1?t[r+2]:2*o-i;return Nr((e-r/n)*n,a,i,o,u)}}function $r(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],u=t[(r+2)%n];return Nr((e-r/n)*n,i,o,a,u)}}Xe(We,lr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:sr,formatHex:sr,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Mr(this).formatHsl()},formatRgb:fr,toString:fr}),Xe(yr,gr,Ge(We,{brighter(t){return t=null==t?Ze:Math.pow(Ze,t),new yr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Ke:Math.pow(Ke,t),new yr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new yr(_r(this.r),_r(this.g),_r(this.b),br(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mr,formatHex:mr,formatHex8:function(){return`#${xr(this.r)}${xr(this.g)}${xr(this.b)}${xr(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:vr,toString:vr})),Xe(Tr,Er,Ge(We,{brighter(t){return t=null==t?Ze:Math.pow(Ze,t),new Tr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Ke:Math.pow(Ke,t),new Tr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new yr(Sr(t>=240?t-240:t+120,i,r),Sr(t,i,r),Sr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Tr(Ar(this.h),kr(this.s),kr(this.l),br(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=br(this.opacity);return`${1===t?"hsl(":"hsla("}${Ar(this.h)}, ${100*kr(this.s)}%, ${100*kr(this.l)}%${1===t?")":`, ${t})`}`}}));const Pr=t=>()=>t;function zr(t,n){return function(e){return t+e*n}}function Ir(t,n){var e=n-t;return e?zr(t,e>180||e<-180?e-360*Math.round(e/360):e):Pr(isNaN(t)?n:t)}function Lr(t,n){var e=n-t;return e?zr(t,e):Pr(isNaN(t)?n:t)}const Rr=function t(n){var e=function(t){return 1==(t=+t)?Lr:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Pr(isNaN(n)?e:n)}}(n);function r(t,n){var r=e((t=gr(t)).r,(n=gr(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=Lr(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function Br(t){return function(n){var e,r,i=n.length,o=new Array(i),a=new Array(i),u=new Array(i);for(e=0;e<i;++e)r=gr(n[e]),o[e]=r.r||0,a[e]=r.g||0,u[e]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}var Or=Br(Cr),Dr=Br($r);function Ur(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function Fr(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function jr(t,n){return(Fr(n)?Ur:qr)(t,n)}function qr(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=Kr(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function Yr(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function Hr(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Vr(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=Kr(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var Xr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gr=new RegExp(Xr.source,"g");function Wr(t,n){var e,r,i,o=Xr.lastIndex=Gr.lastIndex=0,a=-1,u=[],c=[];for(t+="",n+="";(e=Xr.exec(t))&&(r=Gr.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,c.push({i:a,x:Hr(e,r)})),o=Gr.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?c[0]?function(t){return function(n){return t(n)+""}}(c[0].x):function(t){return function(){return t}}(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)u[(e=c[r]).i]=e.x(t);return u.join("")})}function Kr(t,n){var e,r=typeof n;return null==n||"boolean"===r?Pr(n):("number"===r?Hr:"string"===r?(e=lr(n))?(n=e,Rr):Wr:n instanceof lr?Rr:n instanceof Date?Yr:Fr(n)?Ur:Array.isArray(n)?qr:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Vr:Hr)(t,n)}function Zr(t){let n;for(;n=t.sourceEvent;)t=n;return t}function Qr(t,n){if(t=Zr(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}var Jr,ti,ni=0,ei=0,ri=0,ii=0,oi=0,ai=0,ui="object"==typeof performance&&performance.now?performance:Date,ci="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function si(){return oi||(ci(fi),oi=ui.now()+ai)}function fi(){oi=0}function li(){this._call=this._time=this._next=null}function hi(t,n,e){var r=new li;return r.restart(t,n,e),r}function di(){si(),++ni;for(var t,n=Jr;n;)(t=oi-n._time)>=0&&n._call.call(void 0,t),n=n._next;--ni}function pi(){oi=(ii=ui.now())+ai,ni=ei=0;try{di()}finally{ni=0,function(){for(var t,n,e=Jr,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Jr=n);ti=t,yi(r)}(),oi=0}}function gi(){var t=ui.now(),n=t-ii;n>1e3&&(ai-=n,ii=t)}function yi(t){ni||(ei&&(ei=clearTimeout(ei)),t-oi>24?(t<1/0&&(ei=setTimeout(pi,t-ui.now()-ai)),ri&&(ri=clearInterval(ri))):(ri||(ii=ui.now(),ri=setInterval(gi,1e3)),ni=1,ci(pi)))}function mi(t,n,e){var r=new li;return n=null==n?0:+n,r.restart((e=>{r.stop(),t(e+n)}),n,e),r}li.prototype=hi.prototype={constructor:li,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?si():+e)+(null==n?0:+n),this._next||ti===this||(ti?ti._next=this:Jr=this,ti=this),this._call=t,this._time=e,yi()},stop:function(){this._call&&(this._call=null,this._time=1/0,yi())}};var vi=An("start","end","cancel","interrupt"),bi=[],_i=1,xi=2,wi=5,Mi=6;function Ei(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(c){var s,f,l,h;if(e.state!==_i)return u();for(s in i)if((h=i[s]).name===e.name){if(3===h.state)return mi(o);4===h.state?(h.state=Mi,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[s]):+s<n&&(h.state=Mi,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[s])}if(mi((function(){3===e.state&&(e.state=4,e.timer.restart(a,e.delay,e.time),a(c))})),e.state=xi,e.on.call("start",t,t.__data__,e.index,e.group),e.state===xi){for(e.state=3,r=new Array(l=e.tween.length),s=0,f=-1;s<l;++s)(h=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(r[++f]=h);r.length=f+1}}function a(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=wi,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);e.state===wi&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=Mi,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=hi((function(t){e.state=_i,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:vi,tween:bi,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Ti(t,n){var e=ki(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function Ai(t,n){var e=ki(t,n);if(e.state>3)throw new Error("too late; already running");return e}function ki(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Si(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>xi&&e.state<wi,e.state=Mi,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}var Ni,Ci=180/Math.PI,$i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Pi(t,n,e,r,i,o){var a,u,c;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,c/=u),t*r<n*e&&(t=-t,n=-n,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Ci,skewX:Math.atan(c)*Ci,scaleX:a,scaleY:u}}function zi(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],c=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var c=a.push("translate(",null,n,null,e);u.push({i:c-4,x:Hr(t,i)},{i:c-2,x:Hr(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,c),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Hr(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,c),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Hr(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,c),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:Hr(t,e)},{i:u-2,x:Hr(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,c),o=a=null,function(t){for(var n,e=-1,r=c.length;++e<r;)u[(n=c[e]).i]=n.x(t);return u.join("")}}}var Ii=zi((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?$i:Pi(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),Li=zi((function(t){return null==t?$i:(Ni||(Ni=document.createElementNS("http://www.w3.org/2000/svg","g")),Ni.setAttribute("transform",t),(t=Ni.transform.baseVal.consolidate())?Pi((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):$i)}),", ",")",")");function Ri(t,n){var e,r;return function(){var i=Ai(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function Bi(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Ai(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},c=0,s=i.length;c<s;++c)if(i[c].name===n){i[c]=u;break}c===s&&i.push(u)}o.tween=i}}function Oi(t,n,e){var r=t._id;return t.each((function(){var t=Ai(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return ki(t,r).value[n]}}function Di(t,n){var e;return("number"==typeof n?Hr:n instanceof lr?Rr:(e=lr(n))?(n=e,Rr):Wr)(t,n)}function Ui(t){return function(){this.removeAttribute(t)}}function Fi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ji(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function qi(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function Yi(t,n,e){var r,i,o;return function(){var a,u,c=e(this);if(null!=c)return(a=this.getAttribute(t))===(u=c+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,c));this.removeAttribute(t)}}function Hi(t,n,e){var r,i,o;return function(){var a,u,c=e(this);if(null!=c)return(a=this.getAttributeNS(t.space,t.local))===(u=c+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,c));this.removeAttributeNS(t.space,t.local)}}function Vi(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,i)),e}return i._value=n,i}function Xi(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,i)),e}return i._value=n,i}function Gi(t,n){return function(){Ti(this,t).delay=+n.apply(this,arguments)}}function Wi(t,n){return n=+n,function(){Ti(this,t).delay=n}}function Ki(t,n){return function(){Ai(this,t).duration=+n.apply(this,arguments)}}function Zi(t,n){return n=+n,function(){Ai(this,t).duration=n}}var Qi=De.prototype.constructor;function Ji(t){return function(){this.style.removeProperty(t)}}var to=0;function no(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function eo(t){return De().transition(t)}function ro(){return++to}var io=De.prototype;function oo(t){return t*t*t}function ao(t){return--t*t*t+1}function uo(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}no.prototype=eo.prototype={constructor:no,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Sn(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,c,s=r[a],f=s.length,l=o[a]=new Array(f),h=0;h<f;++h)(u=s[h])&&(c=t.call(u,u.__data__,h,s))&&("__data__"in u&&(c.__data__=u.__data__),l[h]=c,Ei(l[h],n,e,h,l,ki(u,e)));return new no(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=$n(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var c,s=r[u],f=s.length,l=0;l<f;++l)if(c=s[l]){for(var h,d=t.call(c,c.__data__,l,s),p=ki(c,e),g=0,y=d.length;g<y;++g)(h=d[g])&&Ei(h,n,e,g,d,p);o.push(d),a.push(c)}return new no(o,a,n,e)},selectChild:io.selectChild,selectChildren:io.selectChildren,filter:function(t){"function"!=typeof t&&(t=Pn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,c=r[i]=[],s=0;s<u;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&c.push(o);return new no(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,s=n[u],f=e[u],l=s.length,h=a[u]=new Array(l),d=0;d<l;++d)(c=s[d]||f[d])&&(h[d]=c);for(;u<r;++u)a[u]=n[u];return new no(a,this._parents,this._name,this._id)},selection:function(){return new Qi(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=ro(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,s=0;s<c;++s)if(a=u[s]){var f=ki(a,n);Ei(a,t,e,s,u,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new no(r,this._parents,t,e)},call:io.call,nodes:io.nodes,node:io.node,size:io.size,empty:io.empty,each:io.each,on:function(t,n){var e=this._id;return arguments.length<2?ki(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Ti:Ai;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}(e,t,n))},attr:function(t,n){var e=Xn(t),r="transform"===e?Li:Di;return this.attrTween(t,"function"==typeof n?(e.local?Hi:Yi)(e,r,Oi(this,"attr."+t,n)):null==n?(e.local?Fi:Ui)(e):(e.local?qi:ji)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=Xn(t);return this.tween(e,(r.local?Vi:Xi)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Ii:Di;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=ie(this,t),a=(this.style.removeProperty(t),ie(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,Ji(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=ie(this,t),u=e(this),c=u+"";return null==u&&(this.style.removeProperty(t),c=u=ie(this,t)),a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,u))}}(t,r,Oi(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,u="end."+a;return function(){var c=Ai(this,t),s=c.on,f=null==c.value[a]?o||(o=Ji(n)):void 0;s===e&&i===f||(r=(e=s).copy()).on(u,i=f),c.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=ie(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}(t,o,e)),r}return o._value=n,o}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Oi(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&function(t){return function(n){this.textContent=t.call(this,n)}}(r)),n}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=ki(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?Ri:Bi)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Gi:Wi)(n,t)):ki(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Ki:Zi)(n,t)):ki(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Ai(this,t).ease=n}}(n,t)):ki(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;Ai(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var u={value:a},c={value:function(){0==--i&&o()}};e.each((function(){var e=Ai(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(c)),e.on=n})),0===i&&o()}))},[Symbol.iterator]:io[Symbol.iterator]};var co={time:null,delay:0,duration:250,ease:uo};function so(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}De.prototype.interrupt=function(t){return this.each((function(){Si(this,t)}))},De.prototype.transition=function(t){var n,e;t instanceof no?(n=t._id,t=t._name):(n=ro(),(e=co).time=si(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,s=0;s<c;++s)(a=u[s])&&Ei(a,t,n,s,u,e||so(a,n));return new no(r,this._parents,t,n)};var fo=[null];function lo(t,n){var e,r,i=t.__transition;if(i)for(r in n=null==n?null:n+"",i)if((e=i[r]).state>_i&&e.name===n)return new no([[t]],fo,n,+r);return null}const ho=t=>()=>t;function po(t,{sourceEvent:n,target:e,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function go(t){t.preventDefault(),t.stopImmediatePropagation()}var yo={name:"drag"},mo={name:"space"},vo={name:"handle"},bo={name:"center"};const{abs:_o,max:xo,min:wo}=Math;function Mo(t){return[+t[0],+t[1]]}function Eo(t){return[Mo(t[0]),Mo(t[1])]}var To={name:"x",handles:["w","e"].map(zo),input:function(t,n){return null==t?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Ao={name:"y",handles:["n","s"].map(zo),input:function(t,n){return null==t?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},ko={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(zo),input:function(t){return null==t?null:Eo(t)},output:function(t){return t}},So={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},No={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Co={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},$o={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Po={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function zo(t){return{type:t}}function Io(t){return!t.ctrlKey&&!t.button}function Lo(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Ro(){return navigator.maxTouchPoints||"ontouchstart"in this}function Bo(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Oo(t){var n=t.__brush;return n?n.dim.output(n.selection):null}function Do(){return jo(To)}function Uo(){return jo(Ao)}function Fo(){return jo(ko)}function jo(t){var n,e=Lo,r=Io,i=Ro,o=!0,a=An("start","brush","end"),u=6;function c(n){var e=n.property("__brush",g).selectAll(".overlay").data([zo("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",So.overlay).merge(e).each((function(){var t=Bo(this).extent;Ue(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),n.selectAll(".selection").data([zo("selection")]).enter().append("rect").attr("class","selection").attr("cursor",So.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=n.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return So[t.type]})),n.each(s).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(i).on("touchstart.brush",h).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function s(){var t=Ue(this),n=Bo(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?n[1][0]-u/2:n[0][0]-u/2})).attr("y",(function(t){return"s"===t.type[0]?n[1][1]-u/2:n[0][1]-u/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+u:u})).attr("height",(function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+u:u}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(t,n,e){var r=t.__brush.emitter;return!r||e&&r.clean?new l(t,n,e):r}function l(t,n,e){this.that=t,this.args=n,this.state=t.__brush,this.active=0,this.clean=e}function h(e){if((!n||e.touches)&&r.apply(this,arguments)){var i,a,u,c,l,h,d,p,g,y,m,v=this,b=e.target.__data__.type,_="selection"===(o&&e.metaKey?b="overlay":b)?yo:o&&e.altKey?bo:vo,x=t===Ao?null:$o[b],w=t===To?null:Po[b],M=Bo(v),E=M.extent,T=M.selection,A=E[0][0],k=E[0][1],S=E[1][0],N=E[1][1],C=0,$=0,P=x&&w&&o&&e.shiftKey,z=Array.from(e.touches||[e],(t=>{const n=t.identifier;return(t=Qr(t,v)).point0=t.slice(),t.identifier=n,t}));Si(v);var I=f(v,arguments,!0).beforestart();if("overlay"===b){T&&(g=!0);const n=[z[0],z[1]||z[0]];M.selection=T=[[i=t===Ao?A:wo(n[0][0],n[1][0]),u=t===To?k:wo(n[0][1],n[1][1])],[l=t===Ao?S:xo(n[0][0],n[1][0]),d=t===To?N:xo(n[0][1],n[1][1])]],z.length>1&&D(e)}else i=T[0][0],u=T[0][1],l=T[1][0],d=T[1][1];a=i,c=u,h=l,p=d;var L=Ue(v).attr("pointer-events","none"),R=L.selectAll(".overlay").attr("cursor",So[b]);if(e.touches)I.moved=O,I.ended=U;else{var B=Ue(e.view).on("mousemove.brush",O,!0).on("mouseup.brush",U,!0);o&&B.on("keydown.brush",(function(t){switch(t.keyCode){case 16:P=x&&w;break;case 18:_===vo&&(x&&(l=h-C*x,i=a+C*x),w&&(d=p-$*w,u=c+$*w),_=bo,D(t));break;case 32:_!==vo&&_!==bo||(x<0?l=h-C:x>0&&(i=a-C),w<0?d=p-$:w>0&&(u=c-$),_=mo,R.attr("cursor",So.selection),D(t));break;default:return}go(t)}),!0).on("keyup.brush",(function(t){switch(t.keyCode){case 16:P&&(y=m=P=!1,D(t));break;case 18:_===bo&&(x<0?l=h:x>0&&(i=a),w<0?d=p:w>0&&(u=c),_=vo,D(t));break;case 32:_===mo&&(t.altKey?(x&&(l=h-C*x,i=a+C*x),w&&(d=p-$*w,u=c+$*w),_=bo):(x<0?l=h:x>0&&(i=a),w<0?d=p:w>0&&(u=c),_=vo),R.attr("cursor",So[b]),D(t));break;default:return}go(t)}),!0),He(e.view)}s.call(v),I.start(e,_.name)}function O(t){for(const n of t.changedTouches||[t])for(const t of z)t.identifier===n.identifier&&(t.cur=Qr(n,v));if(P&&!y&&!m&&1===z.length){const t=z[0];_o(t.cur[0]-t[0])>_o(t.cur[1]-t[1])?m=!0:y=!0}for(const t of z)t.cur&&(t[0]=t.cur[0],t[1]=t.cur[1]);g=!0,go(t),D(t)}function D(t){const n=z[0],e=n.point0;var r;switch(C=n[0]-e[0],$=n[1]-e[1],_){case mo:case yo:x&&(C=xo(A-i,wo(S-l,C)),a=i+C,h=l+C),w&&($=xo(k-u,wo(N-d,$)),c=u+$,p=d+$);break;case vo:z[1]?(x&&(a=xo(A,wo(S,z[0][0])),h=xo(A,wo(S,z[1][0])),x=1),w&&(c=xo(k,wo(N,z[0][1])),p=xo(k,wo(N,z[1][1])),w=1)):(x<0?(C=xo(A-i,wo(S-i,C)),a=i+C,h=l):x>0&&(C=xo(A-l,wo(S-l,C)),a=i,h=l+C),w<0?($=xo(k-u,wo(N-u,$)),c=u+$,p=d):w>0&&($=xo(k-d,wo(N-d,$)),c=u,p=d+$));break;case bo:x&&(a=xo(A,wo(S,i-C*x)),h=xo(A,wo(S,l+C*x))),w&&(c=xo(k,wo(N,u-$*w)),p=xo(k,wo(N,d+$*w)))}h<a&&(x*=-1,r=i,i=l,l=r,r=a,a=h,h=r,b in No&&R.attr("cursor",So[b=No[b]])),p<c&&(w*=-1,r=u,u=d,d=r,r=c,c=p,p=r,b in Co&&R.attr("cursor",So[b=Co[b]])),M.selection&&(T=M.selection),y&&(a=T[0][0],h=T[1][0]),m&&(c=T[0][1],p=T[1][1]),T[0][0]===a&&T[0][1]===c&&T[1][0]===h&&T[1][1]===p||(M.selection=[[a,c],[h,p]],s.call(v),I.brush(t,_.name))}function U(t){if(function(t){t.stopImmediatePropagation()}(t),t.touches){if(t.touches.length)return;n&&clearTimeout(n),n=setTimeout((function(){n=null}),500)}else Ve(t.view,g),B.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);L.attr("pointer-events","all"),R.attr("cursor",So.overlay),M.selection&&(T=M.selection),function(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}(T)&&(M.selection=null,s.call(v)),I.end(t,_.name)}}function d(t){f(this,arguments).moved(t)}function p(t){f(this,arguments).ended(t)}function g(){var n=this.__brush||{selection:null};return n.extent=Eo(e.apply(this,arguments)),n.dim=t,n}return c.move=function(n,e,r){n.tween?n.on("start.brush",(function(t){f(this,arguments).beforestart().start(t)})).on("interrupt.brush end.brush",(function(t){f(this,arguments).end(t)})).tween("brush",(function(){var n=this,r=n.__brush,i=f(n,arguments),o=r.selection,a=t.input("function"==typeof e?e.apply(this,arguments):e,r.extent),u=Kr(o,a);function c(t){r.selection=1===t&&null===a?null:u(t),s.call(n),i.brush()}return null!==o&&null!==a?c:c(1)})):n.each((function(){var n=this,i=arguments,o=n.__brush,a=t.input("function"==typeof e?e.apply(n,i):e,o.extent),u=f(n,i).beforestart();Si(n),o.selection=null===a?null:a,s.call(n),u.start(r).brush(r).end(r)}))},c.clear=function(t,n){c.move(t,null,n)},l.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,n){return this.starting?(this.starting=!1,this.emit("start",t,n)):this.emit("brush",t),this},brush:function(t,n){return this.emit("brush",t,n),this},end:function(t,n){return 0==--this.active&&(delete this.state.emitter,this.emit("end",t,n)),this},emit:function(n,e,r){var i=Ue(this.that).datum();a.call(n,this.that,new po(n,{sourceEvent:e,target:c,selection:t.output(this.state.selection),mode:r,dispatch:a}),i)}},c.extent=function(t){return arguments.length?(e="function"==typeof t?t:ho(Eo(t)),c):e},c.filter=function(t){return arguments.length?(r="function"==typeof t?t:ho(!!t),c):r},c.touchable=function(t){return arguments.length?(i="function"==typeof t?t:ho(!!t),c):i},c.handleSize=function(t){return arguments.length?(u=+t,c):u},c.keyModifiers=function(t){return arguments.length?(o=!!t,c):o},c.on=function(){var t=a.on.apply(a,arguments);return t===a?c:t},c}var qo=Math.abs,Yo=Math.cos,Ho=Math.sin,Vo=Math.PI,Xo=Vo/2,Go=2*Vo,Wo=Math.max,Ko=1e-12;function Zo(t,n){return Array.from({length:n-t},((n,e)=>t+e))}function Qo(){return na(!1,!1)}function Jo(){return na(!1,!0)}function ta(){return na(!0,!1)}function na(t,n){var e=0,r=null,i=null,o=null;function a(a){var u,c=a.length,s=new Array(c),f=Zo(0,c),l=new Array(c*c),h=new Array(c),d=0;a=Float64Array.from({length:c*c},n?(t,n)=>a[n%c][n/c|0]:(t,n)=>a[n/c|0][n%c]);for(let n=0;n<c;++n){let e=0;for(let r=0;r<c;++r)e+=a[n*c+r]+t*a[r*c+n];d+=s[n]=e}u=(d=Wo(0,Go-e*c)/d)?e:Go/c;{let n=0;r&&f.sort(((t,n)=>r(s[t],s[n])));for(const e of f){const r=n;if(t){const t=Zo(1+~c,c).filter((t=>t<0?a[~t*c+e]:a[e*c+t]));i&&t.sort(((t,n)=>i(t<0?-a[~t*c+e]:a[e*c+t],n<0?-a[~n*c+e]:a[e*c+n])));for(const r of t)r<0?(l[~r*c+e]||(l[~r*c+e]={source:null,target:null})).target={index:e,startAngle:n,endAngle:n+=a[~r*c+e]*d,value:a[~r*c+e]}:(l[e*c+r]||(l[e*c+r]={source:null,target:null})).source={index:e,startAngle:n,endAngle:n+=a[e*c+r]*d,value:a[e*c+r]};h[e]={index:e,startAngle:r,endAngle:n,value:s[e]}}else{const t=Zo(0,c).filter((t=>a[e*c+t]||a[t*c+e]));i&&t.sort(((t,n)=>i(a[e*c+t],a[e*c+n])));for(const r of t){let t;if(e<r?(t=l[e*c+r]||(l[e*c+r]={source:null,target:null}),t.source={index:e,startAngle:n,endAngle:n+=a[e*c+r]*d,value:a[e*c+r]}):(t=l[r*c+e]||(l[r*c+e]={source:null,target:null}),t.target={index:e,startAngle:n,endAngle:n+=a[e*c+r]*d,value:a[e*c+r]},e===r&&(t.source=t.target)),t.source&&t.target&&t.source.value<t.target.value){const n=t.source;t.source=t.target,t.target=n}}h[e]={index:e,startAngle:r,endAngle:n,value:s[e]}}n+=u}}return(l=Object.values(l)).groups=h,o?l.sort(o):l}return a.padAngle=function(t){return arguments.length?(e=Wo(0,t),a):e},a.sortGroups=function(t){return arguments.length?(r=t,a):r},a.sortSubgroups=function(t){return arguments.length?(i=t,a):i},a.sortChords=function(t){return arguments.length?(null==t?o=null:(n=t,o=function(t,e){return n(t.source.value+t.target.value,e.source.value+e.target.value)})._=t,a):o&&o._;var n},a}const ea=Math.PI,ra=2*ea,ia=1e-6,oa=ra-ia;function aa(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}class ua{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?aa:function(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return aa;const e=10**n;return function(t){this._+=t[0];for(let n=1,r=t.length;n<r;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,e,r){this._append`Q${+t},${+n},${this._x1=+e},${this._y1=+r}`}bezierCurveTo(t,n,e,r,i,o){this._append`C${+t},${+n},${+e},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,e,r,i){if(t=+t,n=+n,e=+e,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,u=e-t,c=r-n,s=o-t,f=a-n,l=s*s+f*f;if(null===this._x1)this._append`M${this._x1=t},${this._y1=n}`;else if(l>ia)if(Math.abs(f*u-c*s)>ia&&i){let h=e-o,d=r-a,p=u*u+c*c,g=h*h+d*d,y=Math.sqrt(p),m=Math.sqrt(l),v=i*Math.tan((ea-Math.acos((p+l-g)/(2*y*m)))/2),b=v/m,_=v/y;Math.abs(b-1)>ia&&this._append`L${t+b*s},${n+b*f}`,this._append`A${i},${i},0,0,${+(f*h>s*d)},${this._x1=t+_*u},${this._y1=n+_*c}`}else this._append`L${this._x1=t},${this._y1=n}`}arc(t,n,e,r,i,o){if(t=+t,n=+n,o=!!o,(e=+e)<0)throw new Error(`negative radius: ${e}`);let a=e*Math.cos(r),u=e*Math.sin(r),c=t+a,s=n+u,f=1^o,l=o?r-i:i-r;null===this._x1?this._append`M${c},${s}`:(Math.abs(this._x1-c)>ia||Math.abs(this._y1-s)>ia)&&this._append`L${c},${s}`,e&&(l<0&&(l=l%ra+ra),l>oa?this._append`A${e},${e},0,1,${f},${t-a},${n-u}A${e},${e},0,1,${f},${this._x1=c},${this._y1=s}`:l>ia&&this._append`A${e},${e},0,${+(l>=ea)},${f},${this._x1=t+e*Math.cos(i)},${this._y1=n+e*Math.sin(i)}`)}rect(t,n,e,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${e=+e}v${+r}h${-e}Z`}toString(){return this._}}function ca(){return new ua}function sa(t=3){return new ua(+t)}ca.prototype=ua.prototype;var fa=Array.prototype.slice;function la(t){return function(){return t}}function ha(t){return t.source}function da(t){return t.target}function pa(t){return t.radius}function ga(t){return t.startAngle}function ya(t){return t.endAngle}function ma(){return 0}function va(){return 10}function ba(t){var n=ha,e=da,r=pa,i=pa,o=ga,a=ya,u=ma,c=null;function s(){var s,f=n.apply(this,arguments),l=e.apply(this,arguments),h=u.apply(this,arguments)/2,d=fa.call(arguments),p=+r.apply(this,(d[0]=f,d)),g=o.apply(this,d)-Xo,y=a.apply(this,d)-Xo,m=+i.apply(this,(d[0]=l,d)),v=o.apply(this,d)-Xo,b=a.apply(this,d)-Xo;if(c||(c=s=ca()),h>Ko&&(qo(y-g)>2*h+Ko?y>g?(g+=h,y-=h):(g-=h,y+=h):g=y=(g+y)/2,qo(b-v)>2*h+Ko?b>v?(v+=h,b-=h):(v-=h,b+=h):v=b=(v+b)/2),c.moveTo(p*Yo(g),p*Ho(g)),c.arc(0,0,p,g,y),g!==v||y!==b)if(t){var _=m-+t.apply(this,arguments),x=(v+b)/2;c.quadraticCurveTo(0,0,_*Yo(v),_*Ho(v)),c.lineTo(m*Yo(x),m*Ho(x)),c.lineTo(_*Yo(b),_*Ho(b))}else c.quadraticCurveTo(0,0,m*Yo(v),m*Ho(v)),c.arc(0,0,m,v,b);if(c.quadraticCurveTo(0,0,p*Yo(g),p*Ho(g)),c.closePath(),s)return c=null,s+""||null}return t&&(s.headRadius=function(n){return arguments.length?(t="function"==typeof n?n:la(+n),s):t}),s.radius=function(t){return arguments.length?(r=i="function"==typeof t?t:la(+t),s):r},s.sourceRadius=function(t){return arguments.length?(r="function"==typeof t?t:la(+t),s):r},s.targetRadius=function(t){return arguments.length?(i="function"==typeof t?t:la(+t),s):i},s.startAngle=function(t){return arguments.length?(o="function"==typeof t?t:la(+t),s):o},s.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:la(+t),s):a},s.padAngle=function(t){return arguments.length?(u="function"==typeof t?t:la(+t),s):u},s.source=function(t){return arguments.length?(n=t,s):n},s.target=function(t){return arguments.length?(e=t,s):e},s.context=function(t){return arguments.length?(c=null==t?null:t,s):c},s}function _a(){return ba()}function xa(){return ba(va)}const wa=Math.PI/180,Ma=180/Math.PI,Ea=.96422,Ta=1,Aa=.82521,ka=4/29,Sa=6/29,Na=3*Sa*Sa,Ca=Sa*Sa*Sa;function $a(t){if(t instanceof Ia)return new Ia(t.l,t.a,t.b,t.opacity);if(t instanceof ja)return qa(t);t instanceof yr||(t=pr(t));var n,e,r=Oa(t.r),i=Oa(t.g),o=Oa(t.b),a=La((.2225045*r+.7168786*i+.0606169*o)/Ta);return r===i&&i===o?n=e=a:(n=La((.4360747*r+.3850649*i+.1430804*o)/Ea),e=La((.0139322*r+.0971045*i+.7141733*o)/Aa)),new Ia(116*a-16,500*(n-a),200*(a-e),t.opacity)}function Pa(t,n){return new Ia(t,0,0,null==n?1:n)}function za(t,n,e,r){return 1===arguments.length?$a(t):new Ia(t,n,e,null==r?1:r)}function Ia(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function La(t){return t>Ca?Math.pow(t,1/3):t/Na+ka}function Ra(t){return t>Sa?t*t*t:Na*(t-ka)}function Ba(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Oa(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Da(t){if(t instanceof ja)return new ja(t.h,t.c,t.l,t.opacity);if(t instanceof Ia||(t=$a(t)),0===t.a&&0===t.b)return new ja(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Ma;return new ja(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ua(t,n,e,r){return 1===arguments.length?Da(t):new ja(e,n,t,null==r?1:r)}function Fa(t,n,e,r){return 1===arguments.length?Da(t):new ja(t,n,e,null==r?1:r)}function ja(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function qa(t){if(isNaN(t.h))return new Ia(t.l,0,0,t.opacity);var n=t.h*wa;return new Ia(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}Xe(Ia,za,Ge(We,{brighter(t){return new Ia(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new Ia(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new yr(Ba(3.1338561*(n=Ea*Ra(n))-1.6168667*(t=Ta*Ra(t))-.4906146*(e=Aa*Ra(e))),Ba(-.9787684*n+1.9161415*t+.033454*e),Ba(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),Xe(ja,Fa,Ge(We,{brighter(t){return new ja(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new ja(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return qa(this).rgb()}}));var Ya=-.14861,Ha=1.78277,Va=-.29227,Xa=-.90649,Ga=1.97294,Wa=Ga*Xa,Ka=Ga*Ha,Za=Ha*Va-Xa*Ya;function Qa(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Ja)return new Ja(t.h,t.s,t.l,t.opacity);t instanceof yr||(t=pr(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Za*r+Wa*n-Ka*e)/(Za+Wa-Ka),o=r-i,a=(Ga*(e-i)-Va*o)/Xa,u=Math.sqrt(a*a+o*o)/(Ga*i*(1-i)),c=u?Math.atan2(a,o)*Ma-120:NaN;return new Ja(c<0?c+360:c,u,i,t.opacity)}(t):new Ja(t,n,e,null==r?1:r)}function Ja(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Xe(Ja,Qa,Ge(We,{brighter(t){return t=null==t?Ze:Math.pow(Ze,t),new Ja(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Ke:Math.pow(Ke,t),new Ja(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*wa,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new yr(255*(n+e*(Ya*r+Ha*i)),255*(n+e*(Va*r+Xa*i)),255*(n+e*(Ga*r)),this.opacity)}}));var tu=Array.prototype.slice;function nu(t,n){return t-n}const eu=t=>()=>t;function ru(t,n){for(var e,r=-1,i=n.length;++r<i;)if(e=iu(t,n[r]))return e;return 0}function iu(t,n){for(var e=n[0],r=n[1],i=-1,o=0,a=t.length,u=a-1;o<a;u=o++){var c=t[o],s=c[0],f=c[1],l=t[u],h=l[0],d=l[1];if(ou(c,l,n))return 0;f>r!=d>r&&e<(h-s)*(r-f)/(d-f)+s&&(i=-i)}return i}function ou(t,n,e){var r,i,o,a;return function(t,n,e){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])}(t,n,e)&&(i=t[r=+(t[0]===n[0])],o=e[r],a=n[r],i<=o&&o<=a||a<=o&&o<=i)}function au(){}var uu=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function cu(){var t=1,n=1,e=lt,r=u;function i(t){var n=e(t);if(Array.isArray(n))n=n.slice().sort(nu);else{const e=k(t,su);for(n=ut(...ft(e[0],e[1],n),n);n[n.length-1]>=e[1];)n.pop();for(;n[1]<e[0];)n.shift()}return n.map((n=>o(t,n)))}function o(e,i){const o=null==i?NaN:+i;if(isNaN(o))throw new Error(`invalid value: ${i}`);var u=[],c=[];return function(e,r,i){var o,u,c,s,f,l,h=new Array,d=new Array;for(o=u=-1,s=fu(e[0],r),uu[s<<1].forEach(p);++o<t-1;)c=s,s=fu(e[o+1],r),uu[c|s<<1].forEach(p);for(uu[0|s].forEach(p);++u<n-1;){for(o=-1,s=fu(e[u*t+t],r),f=fu(e[u*t],r),uu[s<<1|f<<2].forEach(p);++o<t-1;)c=s,s=fu(e[u*t+t+o+1],r),l=f,f=fu(e[u*t+o+1],r),uu[c|s<<1|f<<2|l<<3].forEach(p);uu[s|f<<3].forEach(p)}for(o=-1,f=e[u*t]>=r,uu[f<<2].forEach(p);++o<t-1;)l=f,f=fu(e[u*t+o+1],r),uu[f<<2|l<<3].forEach(p);function p(t){var n,e,r=[t[0][0]+o,t[0][1]+u],c=[t[1][0]+o,t[1][1]+u],s=a(r),f=a(c);(n=d[s])?(e=h[f])?(delete d[n.end],delete h[e.start],n===e?(n.ring.push(c),i(n.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[n.end],n.ring.push(c),d[n.end=f]=n):(n=h[f])?(e=d[s])?(delete h[n.start],delete d[e.end],n===e?(n.ring.push(c),i(n.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete h[n.start],n.ring.unshift(r),h[n.start=s]=n):h[s]=d[f]={start:s,end:f,ring:[r,c]}}uu[f<<3].forEach(p)}(e,o,(function(t){r(t,e,o),function(t){for(var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r}(t)>0?u.push([t]):c.push(t)})),c.forEach((function(t){for(var n,e=0,r=u.length;e<r;++e)if(-1!==ru((n=u[e])[0],t))return void n.push(t)})),{type:"MultiPolygon",value:i,coordinates:u}}function a(n){return 2*n[0]+n[1]*(t+1)*4}function u(e,r,i){e.forEach((function(e){var o=e[0],a=e[1],u=0|o,c=0|a,s=lu(r[c*t+u]);o>0&&o<t&&u===o&&(e[0]=hu(o,lu(r[c*t+u-1]),s,i)),a>0&&a<n&&c===a&&(e[1]=hu(a,lu(r[(c-1)*t+u]),s,i))}))}return i.contour=o,i.size=function(e){if(!arguments.length)return[t,n];var r=Math.floor(e[0]),o=Math.floor(e[1]);if(!(r>=0&&o>=0))throw new Error("invalid size");return t=r,n=o,i},i.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?eu(tu.call(t)):eu(t),i):e},i.smooth=function(t){return arguments.length?(r=t?u:au,i):r===u},i}function su(t){return isFinite(t)?t:NaN}function fu(t,n){return null!=t&&+t>=n}function lu(t){return null==t||isNaN(t=+t)?-1/0:t}function hu(t,n,e,r){const i=r-n,o=e-n,a=isFinite(i)||isFinite(o)?i/o:Math.sign(i)/Math.sign(o);return isNaN(a)?t:t+a-.5}function du(t){return t[0]}function pu(t){return t[1]}function gu(){return 1}function yu(){var t=du,n=pu,e=gu,r=960,i=500,o=20,a=2,u=3*o,c=r+2*u>>a,s=i+2*u>>a,f=eu(20);function l(r){var i=new Float32Array(c*s),f=Math.pow(2,-a),l=-1;for(const o of r){var h=(t(o,++l,r)+u)*f,p=(n(o,l,r)+u)*f,g=+e(o,l,r);if(g&&h>=0&&h<c&&p>=0&&p<s){var y=Math.floor(h),m=Math.floor(p),v=h-y-.5,b=p-m-.5;i[y+m*c]+=(1-v)*(1-b)*g,i[y+1+m*c]+=v*(1-b)*g,i[y+1+(m+1)*c]+=v*b*g,i[y+(m+1)*c]+=(1-v)*b*g}}return d({data:i,width:c,height:s},o*f),i}function h(t){var n=l(t),e=f(n),r=Math.pow(2,2*a);return Array.isArray(e)||(e=ut(Number.MIN_VALUE,dt(n)/r,e)),cu().size([c,s]).thresholds(e.map((t=>t*r)))(n).map(((t,n)=>(t.value=+e[n],p(t))))}function p(t){return t.coordinates.forEach(g),t}function g(t){t.forEach(y)}function y(t){t.forEach(m)}function m(t){t[0]=t[0]*Math.pow(2,a)-u,t[1]=t[1]*Math.pow(2,a)-u}function v(){return c=r+2*(u=3*o)>>a,s=i+2*u>>a,h}return h.contours=function(t){var n=l(t),e=cu().size([c,s]),r=Math.pow(2,2*a),i=t=>{t=+t;var i=p(e.contour(n,t*r));return i.value=t,i};return Object.defineProperty(i,"max",{get:()=>dt(n)/r}),i},h.x=function(n){return arguments.length?(t="function"==typeof n?n:eu(+n),h):t},h.y=function(t){return arguments.length?(n="function"==typeof t?t:eu(+t),h):n},h.weight=function(t){return arguments.length?(e="function"==typeof t?t:eu(+t),h):e},h.size=function(t){if(!arguments.length)return[r,i];var n=+t[0],e=+t[1];if(!(n>=0&&e>=0))throw new Error("invalid size");return r=n,i=e,v()},h.cellSize=function(t){if(!arguments.length)return 1<<a;if(!((t=+t)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(t)/Math.LN2),v()},h.thresholds=function(t){return arguments.length?(f="function"==typeof t?t:Array.isArray(t)?eu(tu.call(t)):eu(t),h):f},h.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=(Math.sqrt(4*t*t+1)-1)/2,v()},h}const mu=134217729;function vu(t,n,e,r,i){let o,a,u,c,s=n[0],f=r[0],l=0,h=0;f>s==f>-s?(o=s,s=n[++l]):(o=f,f=r[++h]);let d=0;if(l<t&&h<e)for(f>s==f>-s?(a=s+o,u=o-(a-s),s=n[++l]):(a=f+o,u=o-(a-f),f=r[++h]),o=a,0!==u&&(i[d++]=u);l<t&&h<e;)f>s==f>-s?(a=o+s,c=a-o,u=o-(a-c)+(s-c),s=n[++l]):(a=o+f,c=a-o,u=o-(a-c)+(f-c),f=r[++h]),o=a,0!==u&&(i[d++]=u);for(;l<t;)a=o+s,c=a-o,u=o-(a-c)+(s-c),s=n[++l],o=a,0!==u&&(i[d++]=u);for(;h<e;)a=o+f,c=a-o,u=o-(a-c)+(f-c),f=r[++h],o=a,0!==u&&(i[d++]=u);return 0===o&&0!==d||(i[d++]=o),d}function bu(t){return new Float64Array(t)}const _u=bu(4),xu=bu(8),wu=bu(12),Mu=bu(16),Eu=bu(4);function Tu(t,n,e,r,i,o){const a=(n-o)*(e-i),u=(t-i)*(r-o),c=a-u,s=Math.abs(a+u);return Math.abs(c)>=33306690738754716e-32*s?c:-function(t,n,e,r,i,o,a){let u,c,s,f,l,h,d,p,g,y,m,v,b,_,x,w,M,E;const T=t-i,A=e-i,k=n-o,S=r-o;_=T*S,h=mu*T,d=h-(h-T),p=T-d,h=mu*S,g=h-(h-S),y=S-g,x=p*y-(_-d*g-p*g-d*y),w=k*A,h=mu*k,d=h-(h-k),p=k-d,h=mu*A,g=h-(h-A),y=A-g,M=p*y-(w-d*g-p*g-d*y),m=x-M,l=x-m,_u[0]=x-(m+l)+(l-M),v=_+m,l=v-_,b=_-(v-l)+(m-l),m=b-w,l=b-m,_u[1]=b-(m+l)+(l-w),E=v+m,l=E-v,_u[2]=v-(E-l)+(m-l),_u[3]=E;let N=function(t,n){let e=n[0];for(let t=1;t<4;t++)e+=n[t];return e}(0,_u),C=22204460492503146e-32*a;if(N>=C||-N>=C)return N;if(l=t-T,u=t-(T+l)+(l-i),l=e-A,s=e-(A+l)+(l-i),l=n-k,c=n-(k+l)+(l-o),l=r-S,f=r-(S+l)+(l-o),0===u&&0===c&&0===s&&0===f)return N;if(C=11093356479670487e-47*a+33306690738754706e-32*Math.abs(N),N+=T*f+S*u-(k*s+A*c),N>=C||-N>=C)return N;_=u*S,h=mu*u,d=h-(h-u),p=u-d,h=mu*S,g=h-(h-S),y=S-g,x=p*y-(_-d*g-p*g-d*y),w=c*A,h=mu*c,d=h-(h-c),p=c-d,h=mu*A,g=h-(h-A),y=A-g,M=p*y-(w-d*g-p*g-d*y),m=x-M,l=x-m,Eu[0]=x-(m+l)+(l-M),v=_+m,l=v-_,b=_-(v-l)+(m-l),m=b-w,l=b-m,Eu[1]=b-(m+l)+(l-w),E=v+m,l=E-v,Eu[2]=v-(E-l)+(m-l),Eu[3]=E;const $=vu(4,_u,4,Eu,xu);_=T*f,h=mu*T,d=h-(h-T),p=T-d,h=mu*f,g=h-(h-f),y=f-g,x=p*y-(_-d*g-p*g-d*y),w=k*s,h=mu*k,d=h-(h-k),p=k-d,h=mu*s,g=h-(h-s),y=s-g,M=p*y-(w-d*g-p*g-d*y),m=x-M,l=x-m,Eu[0]=x-(m+l)+(l-M),v=_+m,l=v-_,b=_-(v-l)+(m-l),m=b-w,l=b-m,Eu[1]=b-(m+l)+(l-w),E=v+m,l=E-v,Eu[2]=v-(E-l)+(m-l),Eu[3]=E;const P=vu($,xu,4,Eu,wu);_=u*f,h=mu*u,d=h-(h-u),p=u-d,h=mu*f,g=h-(h-f),y=f-g,x=p*y-(_-d*g-p*g-d*y),w=c*s,h=mu*c,d=h-(h-c),p=c-d,h=mu*s,g=h-(h-s),y=s-g,M=p*y-(w-d*g-p*g-d*y),m=x-M,l=x-m,Eu[0]=x-(m+l)+(l-M),v=_+m,l=v-_,b=_-(v-l)+(m-l),m=b-w,l=b-m,Eu[1]=b-(m+l)+(l-w),E=v+m,l=E-v,Eu[2]=v-(E-l)+(m-l),Eu[3]=E;const z=vu(P,wu,4,Eu,Mu);return Mu[z-1]}(t,n,e,r,i,o,s)}bu(4),bu(4),bu(4),bu(4),bu(4),bu(4),bu(4),bu(4),bu(4),bu(8),bu(8),bu(8),bu(4),bu(8),bu(8),bu(8),bu(12),bu(192),bu(192),bu(4),bu(4),bu(4),bu(4),bu(4),bu(4),bu(4),bu(4),bu(8),bu(8),bu(8),bu(8),bu(8),bu(8),bu(8),bu(8),bu(8),bu(4),bu(4),bu(4),bu(8),bu(16),bu(16),bu(16),bu(32),bu(32),bu(48),bu(64),bu(1152),bu(1152),bu(4),bu(4),bu(4),bu(4),bu(4),bu(4),bu(4),bu(4),bu(4),bu(4),bu(24),bu(24),bu(24),bu(24),bu(24),bu(24),bu(24),bu(24),bu(24),bu(24),bu(1152),bu(1152),bu(1152),bu(1152),bu(1152),bu(2304),bu(2304),bu(3456),bu(5760),bu(8),bu(8),bu(8),bu(16),bu(24),bu(48),bu(48),bu(96),bu(192),bu(384),bu(384),bu(384),bu(768),bu(96),bu(96),bu(96),bu(1152);const Au=Math.pow(2,-52),ku=new Uint32Array(512);class Su{static from(t,n=Iu,e=Lu){const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=t[o];i[2*o]=n(r),i[2*o+1]=e(r)}return new Su(i)}constructor(t){const n=t.length>>1;if(n>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const e=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*e),this._halfedges=new Int32Array(3*e),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:e,_hullTri:r,_hullHash:i}=this,o=t.length>>1;let a=1/0,u=1/0,c=-1/0,s=-1/0;for(let n=0;n<o;n++){const e=t[2*n],r=t[2*n+1];e<a&&(a=e),r<u&&(u=r),e>c&&(c=e),r>s&&(s=r),this._ids[n]=n}const f=(a+c)/2,l=(u+s)/2;let h,d,p;for(let n=0,e=1/0;n<o;n++){const r=Nu(f,l,t[2*n],t[2*n+1]);r<e&&(h=n,e=r)}const g=t[2*h],y=t[2*h+1];for(let n=0,e=1/0;n<o;n++){if(n===h)continue;const r=Nu(g,y,t[2*n],t[2*n+1]);r<e&&r>0&&(d=n,e=r)}let m=t[2*d],v=t[2*d+1],b=1/0;for(let n=0;n<o;n++){if(n===h||n===d)continue;const e=$u(g,y,m,v,t[2*n],t[2*n+1]);e<b&&(p=n,b=e)}let _=t[2*p],x=t[2*p+1];if(b===1/0){for(let n=0;n<o;n++)this._dists[n]=t[2*n]-t[0]||t[2*n+1]-t[1];Pu(this._ids,this._dists,0,o-1);const n=new Uint32Array(o);let e=0;for(let t=0,r=-1/0;t<o;t++){const i=this._ids[t],o=this._dists[i];o>r&&(n[e++]=i,r=o)}return this.hull=n.subarray(0,e),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Tu(g,y,m,v,_,x)<0){const t=d,n=m,e=v;d=p,m=_,v=x,p=t,_=n,x=e}const w=function(t,n,e,r,i,o){const a=e-t,u=r-n,c=i-t,s=o-n,f=a*a+u*u,l=c*c+s*s,h=.5/(a*s-u*c);return{x:t+(s*f-u*l)*h,y:n+(a*l-c*f)*h}}(g,y,m,v,_,x);this._cx=w.x,this._cy=w.y;for(let n=0;n<o;n++)this._dists[n]=Nu(t[2*n],t[2*n+1],w.x,w.y);Pu(this._ids,this._dists,0,o-1),this._hullStart=h;let M=3;e[h]=n[p]=d,e[d]=n[h]=p,e[p]=n[d]=h,r[h]=0,r[d]=1,r[p]=2,i.fill(-1),i[this._hashKey(g,y)]=h,i[this._hashKey(m,v)]=d,i[this._hashKey(_,x)]=p,this.trianglesLen=0,this._addTriangle(h,d,p,-1,-1,-1);for(let o,a,u=0;u<this._ids.length;u++){const c=this._ids[u],s=t[2*c],f=t[2*c+1];if(u>0&&Math.abs(s-o)<=Au&&Math.abs(f-a)<=Au)continue;if(o=s,a=f,c===h||c===d||c===p)continue;let l=0;for(let t=0,n=this._hashKey(s,f);t<this._hashSize&&(l=i[(n+t)%this._hashSize],-1===l||l===e[l]);t++);l=n[l];let g,y=l;for(;g=e[y],Tu(s,f,t[2*y],t[2*y+1],t[2*g],t[2*g+1])>=0;)if(y=g,y===l){y=-1;break}if(-1===y)continue;let m=this._addTriangle(y,c,e[y],-1,-1,r[y]);r[c]=this._legalize(m+2),r[y]=m,M++;let v=e[y];for(;g=e[v],Tu(s,f,t[2*v],t[2*v+1],t[2*g],t[2*g+1])<0;)m=this._addTriangle(v,c,g,r[c],-1,r[v]),r[c]=this._legalize(m+2),e[v]=v,M--,v=g;if(y===l)for(;g=n[y],Tu(s,f,t[2*g],t[2*g+1],t[2*y],t[2*y+1])<0;)m=this._addTriangle(g,c,y,-1,r[y],r[g]),this._legalize(m+2),r[g]=m,e[y]=y,M--,y=g;this._hullStart=n[c]=y,e[y]=n[v]=c,e[c]=v,i[this._hashKey(s,f)]=c,i[this._hashKey(t[2*y],t[2*y+1])]=y}this.hull=new Uint32Array(M);for(let t=0,n=this._hullStart;t<M;t++)this.hull[t]=n,n=e[n];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(function(t,n){const e=t/(Math.abs(t)+Math.abs(n));return(n>0?3-e:1+e)/4}(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:e,coords:r}=this;let i=0,o=0;for(;;){const a=e[t],u=t-t%3;if(o=u+(t+2)%3,-1===a){if(0===i)break;t=ku[--i];continue}const c=a-a%3,s=u+(t+1)%3,f=c+(a+2)%3,l=n[o],h=n[t],d=n[s],p=n[f];if(Cu(r[2*l],r[2*l+1],r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*p],r[2*p+1])){n[t]=p,n[a]=l;const r=e[f];if(-1===r){let n=this._hullStart;do{if(this._hullTri[n]===f){this._hullTri[n]=t;break}n=this._hullPrev[n]}while(n!==this._hullStart)}this._link(t,r),this._link(a,e[o]),this._link(o,f);const u=c+(a+1)%3;i<ku.length&&(ku[i++]=u)}else{if(0===i)break;t=ku[--i]}}return o}_link(t,n){this._halfedges[t]=n,-1!==n&&(this._halfedges[n]=t)}_addTriangle(t,n,e,r,i,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=e,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}function Nu(t,n,e,r){const i=t-e,o=n-r;return i*i+o*o}function Cu(t,n,e,r,i,o,a,u){const c=t-a,s=n-u,f=e-a,l=r-u,h=i-a,d=o-u,p=f*f+l*l,g=h*h+d*d;return c*(l*g-p*d)-s*(f*g-p*h)+(c*c+s*s)*(f*d-l*h)<0}function $u(t,n,e,r,i,o){const a=e-t,u=r-n,c=i-t,s=o-n,f=a*a+u*u,l=c*c+s*s,h=.5/(a*s-u*c),d=(s*f-u*l)*h,p=(a*l-c*f)*h;return d*d+p*p}function Pu(t,n,e,r){if(r-e<=20)for(let i=e+1;i<=r;i++){const r=t[i],o=n[r];let a=i-1;for(;a>=e&&n[t[a]]>o;)t[a+1]=t[a--];t[a+1]=r}else{let i=e+1,o=r;zu(t,e+r>>1,i),n[t[e]]>n[t[r]]&&zu(t,e,r),n[t[i]]>n[t[r]]&&zu(t,i,r),n[t[e]]>n[t[i]]&&zu(t,e,i);const a=t[i],u=n[a];for(;;){do{i++}while(n[t[i]]<u);do{o--}while(n[t[o]]>u);if(o<i)break;zu(t,i,o)}t[e+1]=t[o],t[o]=a,r-i+1>=o-e?(Pu(t,n,i,r),Pu(t,n,e,o-1)):(Pu(t,n,e,o-1),Pu(t,n,i,r))}}function zu(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function Iu(t){return t[0]}function Lu(t){return t[1]}const Ru=1e-6;class Bu{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,e){const r=(t=+t)+(e=+e),i=n=+n;if(e<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>Ru||Math.abs(this._y1-i)>Ru)&&(this._+="L"+r+","+i),e&&(this._+=`A${e},${e},0,1,1,${t-e},${n}A${e},${e},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,n,e,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+e}v${+r}h${-e}Z`}value(){return this._||null}}class Ou{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}class Du{constructor(t,[n,e,r,i]=[0,0,960,500]){if(!((r=+r)>=(n=+n)&&(i=+i)>=(e=+e)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=n,this.ymax=i,this.ymin=e,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:e},vectors:r}=this;let i,o;const a=this.circumcenters=this._circumcenters.subarray(0,e.length/3*2);for(let r,u,c=0,s=0,f=e.length;c<f;c+=3,s+=2){const f=2*e[c],l=2*e[c+1],h=2*e[c+2],d=t[f],p=t[f+1],g=t[l],y=t[l+1],m=t[h],v=t[h+1],b=g-d,_=y-p,x=m-d,w=v-p,M=2*(b*w-_*x);if(Math.abs(M)<1e-9){if(void 0===i){i=o=0;for(const e of n)i+=t[2*e],o+=t[2*e+1];i/=n.length,o/=n.length}const e=1e9*Math.sign((i-d)*w-(o-p)*x);r=(d+m)/2-e*w,u=(p+v)/2+e*x}else{const t=1/M,n=b*b+_*_,e=x*x+w*w;r=d+(w*n-_*e)*t,u=p+(b*e-x*n)*t}a[s]=r,a[s+1]=u}let u,c,s,f=n[n.length-1],l=4*f,h=t[2*f],d=t[2*f+1];r.fill(0);for(let e=0;e<n.length;++e)f=n[e],u=l,c=h,s=d,l=4*f,h=t[2*f],d=t[2*f+1],r[u+2]=r[l]=s-d,r[u+3]=r[l+1]=h-c}render(t){const n=null==t?t=new Bu:void 0,{delaunay:{halfedges:e,inedges:r,hull:i},circumcenters:o,vectors:a}=this;if(i.length<=1)return null;for(let n=0,r=e.length;n<r;++n){const r=e[n];if(r<n)continue;const i=2*Math.floor(n/3),a=2*Math.floor(r/3),u=o[i],c=o[i+1],s=o[a],f=o[a+1];this._renderSegment(u,c,s,f,t)}let u,c=i[i.length-1];for(let n=0;n<i.length;++n){u=c,c=i[n];const e=2*Math.floor(r[c]/3),s=o[e],f=o[e+1],l=4*u,h=this._project(s,f,a[l+2],a[l+3]);h&&this._renderSegment(s,f,h[0],h[1],t)}return n&&n.value()}renderBounds(t){const n=null==t?t=new Bu:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const e=null==n?n=new Bu:void 0,r=this._clip(t);if(null===r||!r.length)return;n.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)r[t]===r[t-2]&&r[t+1]===r[t-1]||n.lineTo(r[t],r[t+1]);return n.closePath(),e&&e.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,e=t.length/2;n<e;++n){const t=this.cellPolygon(n);t&&(t.index=n,yield t)}}cellPolygon(t){const n=new Ou;return this.renderCell(t,n),n.value()}_renderSegment(t,n,e,r,i){let o;const a=this._regioncode(t,n),u=this._regioncode(e,r);0===a&&0===u?(i.moveTo(t,n),i.lineTo(e,r)):(o=this._clipSegment(t,n,e,r,a,u))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,n,e){return(n=+n)==n&&(e=+e)==e&&this.delaunay._step(t,n,e)===t}*neighbors(t){const n=this._clip(t);if(n)for(const e of this.delaunay.neighbors(t)){const t=this._clip(e);if(t)t:for(let r=0,i=n.length;r<i;r+=2)for(let o=0,a=t.length;o<a;o+=2)if(n[r]===t[o]&&n[r+1]===t[o+1]&&n[(r+2)%i]===t[(o+a-2)%a]&&n[(r+3)%i]===t[(o+a-1)%a]){yield e;break t}}}_cell(t){const{circumcenters:n,delaunay:{inedges:e,halfedges:r,triangles:i}}=this,o=e[t];if(-1===o)return null;const a=[];let u=o;do{const e=Math.floor(u/3);if(a.push(n[2*e],n[2*e+1]),u=u%3==2?u-2:u+1,i[u]!==t)break;u=r[u]}while(u!==o&&-1!==u);return a}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(null===n)return null;const{vectors:e}=this,r=4*t;return this._simplify(e[r]||e[r+1]?this._clipInfinite(t,n,e[r],e[r+1],e[r+2],e[r+3]):this._clipFinite(t,n))}_clipFinite(t,n){const e=n.length;let r,i,o,a,u=null,c=n[e-2],s=n[e-1],f=this._regioncode(c,s),l=0;for(let h=0;h<e;h+=2)if(r=c,i=s,c=n[h],s=n[h+1],o=f,f=this._regioncode(c,s),0===o&&0===f)a=l,l=0,u?u.push(c,s):u=[c,s];else{let n,e,h,d,p;if(0===o){if(null===(n=this._clipSegment(r,i,c,s,o,f)))continue;[e,h,d,p]=n}else{if(null===(n=this._clipSegment(c,s,r,i,f,o)))continue;[d,p,e,h]=n,a=l,l=this._edgecode(e,h),a&&l&&this._edge(t,a,l,u,u.length),u?u.push(e,h):u=[e,h]}a=l,l=this._edgecode(d,p),a&&l&&this._edge(t,a,l,u,u.length),u?u.push(d,p):u=[d,p]}if(u)a=l,l=this._edgecode(u[0],u[1]),a&&l&&this._edge(t,a,l,u,u.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return u}_clipSegment(t,n,e,r,i,o){const a=i<o;for(a&&([t,n,e,r,i,o]=[e,r,t,n,o,i]);;){if(0===i&&0===o)return a?[e,r,t,n]:[t,n,e,r];if(i&o)return null;let u,c,s=i||o;8&s?(u=t+(e-t)*(this.ymax-n)/(r-n),c=this.ymax):4&s?(u=t+(e-t)*(this.ymin-n)/(r-n),c=this.ymin):2&s?(c=n+(r-n)*(this.xmax-t)/(e-t),u=this.xmax):(c=n+(r-n)*(this.xmin-t)/(e-t),u=this.xmin),i?(t=u,n=c,i=this._regioncode(t,n)):(e=u,r=c,o=this._regioncode(e,r))}}_clipInfinite(t,n,e,r,i,o){let a,u=Array.from(n);if((a=this._project(u[0],u[1],e,r))&&u.unshift(a[0],a[1]),(a=this._project(u[u.length-2],u[u.length-1],i,o))&&u.push(a[0],a[1]),u=this._clipFinite(t,u))for(let n,e=0,r=u.length,i=this._edgecode(u[r-2],u[r-1]);e<r;e+=2)n=i,i=this._edgecode(u[e],u[e+1]),n&&i&&(e=this._edge(t,n,i,u,e),r=u.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}_edge(t,n,e,r,i){for(;n!==e;){let e,o;switch(n){case 5:n=4;continue;case 4:n=6,e=this.xmax,o=this.ymin;break;case 6:n=2;continue;case 2:n=10,e=this.xmax,o=this.ymax;break;case 10:n=8;continue;case 8:n=9,e=this.xmin,o=this.ymax;break;case 9:n=1;continue;case 1:n=5,e=this.xmin,o=this.ymin}r[i]===e&&r[i+1]===o||!this.contains(t,e,o)||(r.splice(i,0,e,o),i+=2)}return i}_project(t,n,e,r){let i,o,a,u=1/0;if(r<0){if(n<=this.ymin)return null;(i=(this.ymin-n)/r)<u&&(a=this.ymin,o=t+(u=i)*e)}else if(r>0){if(n>=this.ymax)return null;(i=(this.ymax-n)/r)<u&&(a=this.ymax,o=t+(u=i)*e)}if(e>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/e)<u&&(o=this.xmax,a=n+(u=i)*r)}else if(e<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/e)<u&&(o=this.xmin,a=n+(u=i)*r)}return[o,a]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const e=(n+2)%t.length,r=(n+4)%t.length;(t[n]===t[e]&&t[e]===t[r]||t[n+1]===t[e+1]&&t[e+1]===t[r+1])&&(t.splice(e,2),n-=2)}t.length||(t=null)}return t}}const Uu=2*Math.PI,Fu=Math.pow;function ju(t){return t[0]}function qu(t){return t[1]}function Yu(t,n,e){return[t+Math.sin(t+n)*e,n+Math.cos(t-n)*e]}class Hu{static from(t,n=ju,e=qu,r){return new Hu("length"in t?function(t,n,e,r){const i=t.length,o=new Float64Array(2*i);for(let a=0;a<i;++a){const i=t[a];o[2*a]=n.call(r,i,a,t),o[2*a+1]=e.call(r,i,a,t)}return o}(t,n,e,r):Float64Array.from(function*(t,n,e,r){let i=0;for(const o of t)yield n.call(r,o,i,t),yield e.call(r,o,i,t),++i}(t,n,e,r)))}constructor(t){this._delaunator=new Su(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:n,coords:e}=t;for(let t=0;t<n.length;t+=3){const r=2*n[t],i=2*n[t+1],o=2*n[t+2];if((e[o]-e[r])*(e[i+1]-e[r+1])-(e[i]-e[r])*(e[o+1]-e[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:n.length/2},((t,n)=>n)).sort(((t,e)=>n[2*t]-n[2*e]||n[2*t+1]-n[2*e+1]));const t=this.collinear[0],e=this.collinear[this.collinear.length-1],r=[n[2*t],n[2*t+1],n[2*e],n[2*e+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let t=0,e=n.length/2;t<e;++t){const e=Yu(n[2*t],n[2*t+1],i);n[2*t]=e[0],n[2*t+1]=e[1]}this._delaunator=new Su(n)}else delete this.collinear;const e=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let t=0,n=e.length;t<n;++t){const n=i[t%3==2?t-2:t+1];-1!==e[t]&&-1!==o[n]||(o[n]=t)}for(let t=0,n=r.length;t<n;++t)a[r[t]]=t;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],o[r[0]]=1,2===r.length&&(o[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(t){return new Du(this,t)}*neighbors(t){const{inedges:n,hull:e,_hullIndex:r,halfedges:i,triangles:o,collinear:a}=this;if(a){const n=a.indexOf(t);return n>0&&(yield a[n-1]),void(n<a.length-1&&(yield a[n+1]))}const u=n[t];if(-1===u)return;let c=u,s=-1;do{if(yield s=o[c],c=c%3==2?c-2:c+1,o[c]!==t)return;if(c=i[c],-1===c){const n=e[(r[t]+1)%e.length];return void(n!==s&&(yield n))}}while(c!==u)}find(t,n,e=0){if((t=+t)!=t||(n=+n)!=n)return-1;const r=e;let i;for(;(i=this._step(e,t,n))>=0&&i!==e&&i!==r;)e=i;return i}_step(t,n,e){const{inedges:r,hull:i,_hullIndex:o,halfedges:a,triangles:u,points:c}=this;if(-1===r[t]||!c.length)return(t+1)%(c.length>>1);let s=t,f=Fu(n-c[2*t],2)+Fu(e-c[2*t+1],2);const l=r[t];let h=l;do{let r=u[h];const l=Fu(n-c[2*r],2)+Fu(e-c[2*r+1],2);if(l<f&&(f=l,s=r),h=h%3==2?h-2:h+1,u[h]!==t)break;if(h=a[h],-1===h){if(h=i[(o[t]+1)%i.length],h!==r&&Fu(n-c[2*h],2)+Fu(e-c[2*h+1],2)<f)return h;break}}while(h!==l);return s}render(t){const n=null==t?t=new Bu:void 0,{points:e,halfedges:r,triangles:i}=this;for(let n=0,o=r.length;n<o;++n){const o=r[n];if(o<n)continue;const a=2*i[n],u=2*i[o];t.moveTo(e[a],e[a+1]),t.lineTo(e[u],e[u+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){void 0!==n||t&&"function"==typeof t.moveTo||(n=t,t=null),n=null==n?2:+n;const e=null==t?t=new Bu:void 0,{points:r}=this;for(let e=0,i=r.length;e<i;e+=2){const i=r[e],o=r[e+1];t.moveTo(i+n,o),t.arc(i,o,n,0,Uu)}return e&&e.value()}renderHull(t){const n=null==t?t=new Bu:void 0,{hull:e,points:r}=this,i=2*e[0],o=e.length;t.moveTo(r[i],r[i+1]);for(let n=1;n<o;++n){const i=2*e[n];t.lineTo(r[i],r[i+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new Ou;return this.renderHull(t),t.value()}renderTriangle(t,n){const e=null==n?n=new Bu:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],a=2*i[t+1],u=2*i[t+2];return n.moveTo(r[o],r[o+1]),n.lineTo(r[a],r[a+1]),n.lineTo(r[u],r[u+1]),n.closePath(),e&&e.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,e=t.length/3;n<e;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new Ou;return this.renderTriangle(t,n),n.value()}}const Vu=t=>()=>t;function Xu(t,{sourceEvent:n,subject:e,target:r,identifier:i,active:o,x:a,y:u,dx:c,dy:s,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:s,enumerable:!0,configurable:!0},_:{value:f}})}function Gu(t){return!t.ctrlKey&&!t.button}function Wu(){return this.parentNode}function Ku(t,n){return null==n?{x:t.x,y:t.y}:n}function Zu(){return navigator.maxTouchPoints||"ontouchstart"in this}function Qu(){var t,n,e,r,i=Gu,o=Wu,a=Ku,u=Zu,c={},s=An("start","drag","end"),f=0,l=0;function h(t){t.on("mousedown.drag",d).filter(u).on("touchstart.drag",y).on("touchmove.drag",m,Fe).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(a,u){if(!r&&i.call(this,a,u)){var c=b(this,o.call(this,a,u),a,u,"mouse");c&&(Ue(a.view).on("mousemove.drag",p,je).on("mouseup.drag",g,je),He(a.view),qe(a),e=!1,t=a.clientX,n=a.clientY,c("start",a))}}function p(r){if(Ye(r),!e){var i=r.clientX-t,o=r.clientY-n;e=i*i+o*o>l}c.mouse("drag",r)}function g(t){Ue(t.view).on("mousemove.drag mouseup.drag",null),Ve(t.view,e),Ye(t),c.mouse("end",t)}function y(t,n){if(i.call(this,t,n)){var e,r,a=t.changedTouches,u=o.call(this,t,n),c=a.length;for(e=0;e<c;++e)(r=b(this,u,t,n,a[e].identifier,a[e]))&&(qe(t),r("start",t,a[e]))}}function m(t){var n,e,r=t.changedTouches,i=r.length;for(n=0;n<i;++n)(e=c[r[n].identifier])&&(Ye(t),e("drag",t,r[n]))}function v(t){var n,e,i=t.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),n=0;n<o;++n)(e=c[i[n].identifier])&&(qe(t),e("end",t,i[n]))}function b(t,n,e,r,i,o){var u,l,d,p=s.copy(),g=Qr(o||e,n);if(null!=(d=a.call(t,new Xu("beforestart",{sourceEvent:e,target:h,identifier:i,active:f,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),r)))return u=d.x-g[0]||0,l=d.y-g[1]||0,function e(o,a,s){var y,m=g;switch(o){case"start":c[i]=e,y=f++;break;case"end":delete c[i],--f;case"drag":g=Qr(s||a,n),y=f}p.call(o,t,new Xu(o,{sourceEvent:a,subject:d,target:h,identifier:i,active:y,x:g[0]+u,y:g[1]+l,dx:g[0]-m[0],dy:g[1]-m[1],dispatch:p}),r)}}return h.filter=function(t){return arguments.length?(i="function"==typeof t?t:Vu(!!t),h):i},h.container=function(t){return arguments.length?(o="function"==typeof t?t:Vu(t),h):o},h.subject=function(t){return arguments.length?(a="function"==typeof t?t:Vu(t),h):a},h.touchable=function(t){return arguments.length?(u="function"==typeof t?t:Vu(!!t),h):u},h.on=function(){var t=s.on.apply(s,arguments);return t===s?h:t},h.clickDistance=function(t){return arguments.length?(l=(t=+t)*t,h):Math.sqrt(l)},h}Xu.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Ju={},tc={},nc=34,ec=10,rc=13;function ic(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function oc(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function ac(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function uc(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,a=0,u=0,c=o<=0,s=!1;function f(){if(c)return tc;if(s)return s=!1,Ju;var n,r,i=a;if(t.charCodeAt(i)===nc){for(;a++<o&&t.charCodeAt(a)!==nc||t.charCodeAt(++a)===nc;);return(n=a)>=o?c=!0:(r=t.charCodeAt(a++))===ec?s=!0:r===rc&&(s=!0,t.charCodeAt(a)===ec&&++a),t.slice(i+1,n-1).replace(/""/g,'"')}for(;a<o;){if((r=t.charCodeAt(n=a++))===ec)s=!0;else if(r===rc)s=!0,t.charCodeAt(a)===ec&&++a;else if(r!==e)continue;return t.slice(i,n)}return c=!0,t.slice(i,o)}for(t.charCodeAt(o-1)===ec&&--o,t.charCodeAt(o-1)===rc&&--o;(r=f())!==tc;){for(var l=[];r!==Ju&&r!==tc;)l.push(r),r=f();n&&null==(l=n(l,u++))||i.push(l)}return i}function i(n,e){return n.map((function(n){return e.map((function(t){return a(n[t])})).join(t)}))}function o(n){return n.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?function(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+ac(-n,6):n>9999?"+"+ac(n,6):ac(n,4))+"-"+ac(t.getUTCMonth()+1,2)+"-"+ac(t.getUTCDate(),2)+(o?"T"+ac(e,2)+":"+ac(r,2)+":"+ac(i,2)+"."+ac(o,3)+"Z":i?"T"+ac(e,2)+":"+ac(r,2)+":"+ac(i,2)+"Z":r||e?"T"+ac(e,2)+":"+ac(r,2)+"Z":"")}(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,(function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=ic(t);return function(r,i){return n(e(r),i,t)}}(t,n):ic(t)}));return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=oc(n)),[e.map(a).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=oc(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}var cc=uc(","),sc=cc.parse,fc=cc.parseRows,lc=cc.format,hc=cc.formatBody,dc=cc.formatRows,pc=cc.formatRow,gc=cc.formatValue,yc=uc("\t"),mc=yc.parse,vc=yc.parseRows,bc=yc.format,_c=yc.formatBody,xc=yc.formatRows,wc=yc.formatRow,Mc=yc.formatValue;function Ec(t){for(var n in t){var e,r,i=t[n].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(e=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Tc&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=e;else i=null;t[n]=i}return t}const Tc=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),Ac=t=>+t;function kc(t){return t*t}function Sc(t){return t*(2-t)}function Nc(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var Cc=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(3),$c=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),Pc=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),zc=Math.PI,Ic=zc/2;function Lc(t){return 1==+t?1:1-Math.cos(t*Ic)}function Rc(t){return Math.sin(t*Ic)}function Bc(t){return(1-Math.cos(zc*t))/2}function Oc(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function Dc(t){return Oc(1-+t)}function Uc(t){return 1-Oc(t)}function Fc(t){return((t*=2)<=1?Oc(1-t):2-Oc(t-1))/2}function jc(t){return 1-Math.sqrt(1-t*t)}function qc(t){return Math.sqrt(1- --t*t)}function Yc(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Hc=4/11,Vc=6/11,Xc=8/11,Gc=3/4,Wc=9/11,Kc=10/11,Zc=15/16,Qc=21/22,Jc=63/64,ts=1/Hc/Hc;function ns(t){return 1-es(1-t)}function es(t){return(t=+t)<Hc?ts*t*t:t<Xc?ts*(t-=Vc)*t+Gc:t<Kc?ts*(t-=Wc)*t+Zc:ts*(t-=Qc)*t+Jc}function rs(t){return((t*=2)<=1?1-es(1-t):es(t-1)+1)/2}var is=1.70158,os=function t(n){function e(t){return(t=+t)*t*(n*(t-1)+t)}return n=+n,e.overshoot=t,e}(is),as=function t(n){function e(t){return--t*t*((t+1)*n+t)+1}return n=+n,e.overshoot=t,e}(is),us=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(is),cs=2*Math.PI,ss=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=cs);function i(t){return n*Oc(- --t)*Math.sin((r-t)/e)}return i.amplitude=function(n){return t(n,e*cs)},i.period=function(e){return t(n,e)},i}(1,.3),fs=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=cs);function i(t){return 1-n*Oc(t=+t)*Math.sin((t+r)/e)}return i.amplitude=function(n){return t(n,e*cs)},i.period=function(e){return t(n,e)},i}(1,.3),ls=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=cs);function i(t){return((t=2*t-1)<0?n*Oc(-t)*Math.sin((r-t)/e):2-n*Oc(t)*Math.sin((r+t)/e))/2}return i.amplitude=function(n){return t(n,e*cs)},i.period=function(e){return t(n,e)},i}(1,.3);function hs(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function ds(t,n){return fetch(t,n).then(hs)}function ps(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function gs(t,n){return fetch(t,n).then(ps)}function ys(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function ms(t,n){return fetch(t,n).then(ys)}function vs(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=void 0),ms(n,e).then((function(n){return t(n,r)}))}}function bs(t,n,e,r){3===arguments.length&&"function"==typeof e&&(r=e,e=void 0);var i=uc(t);return ms(n,e).then((function(t){return i.parse(t,r)}))}var _s=vs(sc),xs=vs(mc);function ws(t,n){return new Promise((function(e,r){var i=new Image;for(var o in n)i[o]=n[o];i.onerror=r,i.onload=function(){e(i)},i.src=t}))}function Ms(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function Es(t,n){return fetch(t,n).then(Ms)}function Ts(t){return(n,e)=>ms(n,e).then((n=>(new DOMParser).parseFromString(n,t)))}const As=Ts("application/xml");var ks=Ts("text/html"),Ss=Ts("image/svg+xml");function Ns(t,n){var e,r=1;function i(){var i,o,a=e.length,u=0,c=0;for(i=0;i<a;++i)u+=(o=e[i]).x,c+=o.y;for(u=(u/a-t)*r,c=(c/a-n)*r,i=0;i<a;++i)(o=e[i]).x-=u,o.y-=c}return null==t&&(t=0),null==n&&(n=0),i.initialize=function(t){e=t},i.x=function(n){return arguments.length?(t=+n,i):t},i.y=function(t){return arguments.length?(n=+t,i):n},i.strength=function(t){return arguments.length?(r=+t,i):r},i}function Cs(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,a,u,c,s,f,l,h,d=t._root,p={data:r},g=t._x0,y=t._y0,m=t._x1,v=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((s=n>=(o=(g+m)/2))?g=o:m=o,(f=e>=(a=(y+v)/2))?y=a:v=a,i=d,!(d=d[l=f<<1|s]))return i[l]=p,t;if(u=+t._x.call(null,d.data),c=+t._y.call(null,d.data),n===u&&e===c)return p.next=d,i?i[l]=p:t._root=p,t;do{i=i?i[l]=new Array(4):t._root=new Array(4),(s=n>=(o=(g+m)/2))?g=o:m=o,(f=e>=(a=(y+v)/2))?y=a:v=a}while((l=f<<1|s)==(h=(c>=a)<<1|u>=o));return i[h]=d,i[l]=p,t}function $s(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function Ps(t){return t[0]}function zs(t){return t[1]}function Is(t,n,e){var r=new Ls(null==n?Ps:n,null==e?zs:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Ls(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Rs(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var Bs=Is.prototype=Ls.prototype;function Os(t){return function(){return t}}function Ds(t){return 1e-6*(t()-.5)}function Us(t){return t.x+t.vx}function Fs(t){return t.y+t.vy}function js(t){var n,e,r,i=1,o=1;function a(){for(var t,a,c,s,f,l,h,d=n.length,p=0;p<o;++p)for(a=Is(n,Us,Fs).visitAfter(u),t=0;t<d;++t)c=n[t],l=e[c.index],h=l*l,s=c.x+c.vx,f=c.y+c.vy,a.visit(g);function g(t,n,e,o,a){var u=t.data,d=t.r,p=l+d;if(!u)return n>s+p||o<s-p||e>f+p||a<f-p;if(u.index>c.index){var g=s-u.x-u.vx,y=f-u.y-u.vy,m=g*g+y*y;m<p*p&&(0===g&&(m+=(g=Ds(r))*g),0===y&&(m+=(y=Ds(r))*y),m=(p-(m=Math.sqrt(m)))/m*i,c.vx+=(g*=m)*(p=(d*=d)/(h+d)),c.vy+=(y*=m)*p,u.vx-=g*(p=1-p),u.vy-=y*p)}}}function u(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function c(){if(n){var r,i,o=n.length;for(e=new Array(o),r=0;r<o;++r)i=n[r],e[i.index]=+t(i,r,n)}}return"function"!=typeof t&&(t=Os(null==t?1:+t)),a.initialize=function(t,e){n=t,r=e,c()},a.iterations=function(t){return arguments.length?(o=+t,a):o},a.strength=function(t){return arguments.length?(i=+t,a):i},a.radius=function(n){return arguments.length?(t="function"==typeof n?n:Os(+n),c(),a):t},a}function qs(t){return t.index}function Ys(t,n){var e=t.get(n);if(!e)throw new Error("node not found: "+n);return e}function Hs(t){var n,e,r,i,o,a,u=qs,c=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},s=Os(30),f=1;function l(r){for(var i=0,u=t.length;i<f;++i)for(var c,s,l,h,d,p,g,y=0;y<u;++y)s=(c=t[y]).source,h=(l=c.target).x+l.vx-s.x-s.vx||Ds(a),d=l.y+l.vy-s.y-s.vy||Ds(a),h*=p=((p=Math.sqrt(h*h+d*d))-e[y])/p*r*n[y],d*=p,l.vx-=h*(g=o[y]),l.vy-=d*g,s.vx+=h*(g=1-g),s.vy+=d*g}function h(){if(r){var a,c,s=r.length,f=t.length,l=new Map(r.map(((t,n)=>[u(t,n,r),t])));for(a=0,i=new Array(s);a<f;++a)(c=t[a]).index=a,"object"!=typeof c.source&&(c.source=Ys(l,c.source)),"object"!=typeof c.target&&(c.target=Ys(l,c.target)),i[c.source.index]=(i[c.source.index]||0)+1,i[c.target.index]=(i[c.target.index]||0)+1;for(a=0,o=new Array(f);a<f;++a)c=t[a],o[a]=i[c.source.index]/(i[c.source.index]+i[c.target.index]);n=new Array(f),d(),e=new Array(f),p()}}function d(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+c(t[e],e,t)}function p(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+s(t[n],n,t)}return null==t&&(t=[]),l.initialize=function(t,n){r=t,a=n,h()},l.links=function(n){return arguments.length?(t=n,h(),l):t},l.id=function(t){return arguments.length?(u=t,l):u},l.iterations=function(t){return arguments.length?(f=+t,l):f},l.strength=function(t){return arguments.length?(c="function"==typeof t?t:Os(+t),d(),l):c},l.distance=function(t){return arguments.length?(s="function"==typeof t?t:Os(+t),p(),l):s},l}Bs.copy=function(){var t,n,e=new Ls(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=Rs(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=Rs(n));return e},Bs.add=function(t){const n=+this._x.call(null,t),e=+this._y.call(null,t);return Cs(this.cover(n,e),n,e,t)},Bs.addAll=function(t){var n,e,r,i,o=t.length,a=new Array(o),u=new Array(o),c=1/0,s=1/0,f=-1/0,l=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(a[e]=r,u[e]=i,r<c&&(c=r),r>f&&(f=r),i<s&&(s=i),i>l&&(l=i));if(c>f||s>l)return this;for(this.cover(c,s).cover(f,l),e=0;e<o;++e)Cs(this,a[e],u[e],t[e]);return this},Bs.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var a,u,c=i-e||1,s=this._root;e>t||t>=i||r>n||n>=o;)switch(u=(n<r)<<1|t<e,(a=new Array(4))[u]=s,s=a,c*=2,u){case 0:i=e+c,o=r+c;break;case 1:e=i-c,o=r+c;break;case 2:i=e+c,r=o-c;break;case 3:e=i-c,r=o-c}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},Bs.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},Bs.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Bs.find=function(t,n,e){var r,i,o,a,u,c,s,f=this._x0,l=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new $s(g,f,l,h,d)),null==e?e=1/0:(f=t-e,l=n-e,h=t+e,d=n+e,e*=e);c=p.pop();)if(!(!(g=c.node)||(i=c.x0)>h||(o=c.y0)>d||(a=c.x1)<f||(u=c.y1)<l))if(g.length){var y=(i+a)/2,m=(o+u)/2;p.push(new $s(g[3],y,m,a,u),new $s(g[2],i,m,y,u),new $s(g[1],y,o,a,m),new $s(g[0],i,o,y,m)),(s=(n>=m)<<1|t>=y)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-s],p[p.length-1-s]=c)}else{var v=t-+this._x.call(null,g.data),b=n-+this._y.call(null,g.data),_=v*v+b*b;if(_<e){var x=Math.sqrt(e=_);f=t-x,l=n-x,h=t+x,d=n+x,r=g.data}}return r},Bs.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,e,r,i,o,a,u,c,s,f,l,h,d=this._root,p=this._x0,g=this._y0,y=this._x1,m=this._y1;if(!d)return this;if(d.length)for(;;){if((s=o>=(u=(p+y)/2))?p=u:y=u,(f=a>=(c=(g+m)/2))?g=c:m=c,n=d,!(d=d[l=f<<1|s]))return this;if(!d.length)break;(n[l+1&3]||n[l+2&3]||n[l+3&3])&&(e=n,h=l)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[l]=i:delete n[l],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)},Bs.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},Bs.root=function(){return this._root},Bs.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},Bs.visit=function(t){var n,e,r,i,o,a,u=[],c=this._root;for(c&&u.push(new $s(c,this._x0,this._y0,this._x1,this._y1));n=u.pop();)if(!t(c=n.node,r=n.x0,i=n.y0,o=n.x1,a=n.y1)&&c.length){var s=(r+o)/2,f=(i+a)/2;(e=c[3])&&u.push(new $s(e,s,f,o,a)),(e=c[2])&&u.push(new $s(e,r,f,s,a)),(e=c[1])&&u.push(new $s(e,s,i,o,f)),(e=c[0])&&u.push(new $s(e,r,i,s,f))}return this},Bs.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new $s(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,a=n.x0,u=n.y0,c=n.x1,s=n.y1,f=(a+c)/2,l=(u+s)/2;(o=i[0])&&e.push(new $s(o,a,u,f,l)),(o=i[1])&&e.push(new $s(o,f,u,c,l)),(o=i[2])&&e.push(new $s(o,a,l,f,s)),(o=i[3])&&e.push(new $s(o,f,l,c,s))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},Bs.x=function(t){return arguments.length?(this._x=t,this):this._x},Bs.y=function(t){return arguments.length?(this._y=t,this):this._y};const Vs=1664525,Xs=1013904223,Gs=4294967296;function Ws(t){return t.x}function Ks(t){return t.y}var Zs=10,Qs=Math.PI*(3-Math.sqrt(5));function Js(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,u=new Map,c=hi(l),s=An("tick","end"),f=function(){let t=1;return()=>(t=(Vs*t+Xs)%Gs)/Gs}();function l(){h(),s.call("tick",n),e<r&&(c.stop(),s.call("end",n))}function h(r){var c,s,f=t.length;void 0===r&&(r=1);for(var l=0;l<r;++l)for(e+=(o-e)*i,u.forEach((function(t){t(e)})),c=0;c<f;++c)null==(s=t[c]).fx?s.x+=s.vx*=a:(s.x=s.fx,s.vx=0),null==s.fy?s.y+=s.vy*=a:(s.y=s.fy,s.vy=0);return n}function d(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var i=Zs*Math.sqrt(.5+e),o=e*Qs;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function p(n){return n.initialize&&n.initialize(t,f),n}return null==t&&(t=[]),d(),n={tick:h,restart:function(){return c.restart(l),n},stop:function(){return c.stop(),n},nodes:function(e){return arguments.length?(t=e,d(),u.forEach(p),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(o=+t,n):o},velocityDecay:function(t){return arguments.length?(a=1-t,n):1-a},randomSource:function(t){return arguments.length?(f=t,u.forEach(p),n):f},force:function(t,e){return arguments.length>1?(null==e?u.delete(t):u.set(t,p(e)),n):u.get(t)},find:function(n,e,r){var i,o,a,u,c,s=0,f=t.length;for(null==r?r=1/0:r*=r,s=0;s<f;++s)(a=(i=n-(u=t[s]).x)*i+(o=e-u.y)*o)<r&&(c=u,r=a);return c},on:function(t,e){return arguments.length>1?(s.on(t,e),n):s.on(t)}}}function tf(){var t,n,e,r,i,o=Os(-30),a=1,u=1/0,c=.81;function s(e){var i,o=t.length,a=Is(t,Ws,Ks).visitAfter(l);for(r=e,i=0;i<o;++i)n=t[i],a.visit(h)}function f(){if(t){var n,e,r=t.length;for(i=new Array(r),n=0;n<r;++n)e=t[n],i[e.index]=+o(e,n,t)}}function l(t){var n,e,r,o,a,u=0,c=0;if(t.length){for(r=o=a=0;a<4;++a)(n=t[a])&&(e=Math.abs(n.value))&&(u+=n.value,c+=e,r+=e*n.x,o+=e*n.y);t.x=r/c,t.y=o/c}else{(n=t).x=n.data.x,n.y=n.data.y;do{u+=i[n.data.index]}while(n=n.next)}t.value=u}function h(t,o,s,f){if(!t.value)return!0;var l=t.x-n.x,h=t.y-n.y,d=f-o,p=l*l+h*h;if(d*d/c<p)return p<u&&(0===l&&(p+=(l=Ds(e))*l),0===h&&(p+=(h=Ds(e))*h),p<a&&(p=Math.sqrt(a*p)),n.vx+=l*t.value*r/p,n.vy+=h*t.value*r/p),!0;if(!(t.length||p>=u)){(t.data!==n||t.next)&&(0===l&&(p+=(l=Ds(e))*l),0===h&&(p+=(h=Ds(e))*h),p<a&&(p=Math.sqrt(a*p)));do{t.data!==n&&(d=i[t.data.index]*r/p,n.vx+=l*d,n.vy+=h*d)}while(t=t.next)}}return s.initialize=function(n,r){t=n,e=r,f()},s.strength=function(t){return arguments.length?(o="function"==typeof t?t:Os(+t),f(),s):o},s.distanceMin=function(t){return arguments.length?(a=t*t,s):Math.sqrt(a)},s.distanceMax=function(t){return arguments.length?(u=t*t,s):Math.sqrt(u)},s.theta=function(t){return arguments.length?(c=t*t,s):Math.sqrt(c)},s}function nf(t,n,e){var r,i,o,a=Os(.1);function u(t){for(var a=0,u=r.length;a<u;++a){var c=r[a],s=c.x-n||1e-6,f=c.y-e||1e-6,l=Math.sqrt(s*s+f*f),h=(o[a]-l)*i[a]*t/l;c.vx+=s*h,c.vy+=f*h}}function c(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)o[n]=+t(r[n],n,r),i[n]=isNaN(o[n])?0:+a(r[n],n,r)}}return"function"!=typeof t&&(t=Os(+t)),null==n&&(n=0),null==e&&(e=0),u.initialize=function(t){r=t,c()},u.strength=function(t){return arguments.length?(a="function"==typeof t?t:Os(+t),c(),u):a},u.radius=function(n){return arguments.length?(t="function"==typeof n?n:Os(+n),c(),u):t},u.x=function(t){return arguments.length?(n=+t,u):n},u.y=function(t){return arguments.length?(e=+t,u):e},u}function ef(t){var n,e,r,i=Os(.1);function o(t){for(var i,o=0,a=n.length;o<a;++o)(i=n[o]).vx+=(r[o]-i.x)*e[o]*t}function a(){if(n){var o,a=n.length;for(e=new Array(a),r=new Array(a),o=0;o<a;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=Os(null==t?0:+t)),o.initialize=function(t){n=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Os(+t),a(),o):i},o.x=function(n){return arguments.length?(t="function"==typeof n?n:Os(+n),a(),o):t},o}function rf(t){var n,e,r,i=Os(.1);function o(t){for(var i,o=0,a=n.length;o<a;++o)(i=n[o]).vy+=(r[o]-i.y)*e[o]*t}function a(){if(n){var o,a=n.length;for(e=new Array(a),r=new Array(a),o=0;o<a;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=Os(null==t?0:+t)),o.initialize=function(t){n=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Os(+t),a(),o):i},o.y=function(n){return arguments.length?(t="function"==typeof n?n:Os(+n),a(),o):t},o}function of(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function af(t){return(t=of(Math.abs(t)))?t[1]:NaN}var uf,cf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sf(t){if(!(n=cf.exec(t)))throw new Error("invalid format: "+t);var n;return new ff({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function ff(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function lf(t,n){var e=of(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}sf.prototype=ff.prototype,ff.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const hf={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>lf(100*t,n),r:lf,s:function(t,n){var e=of(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(uf=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+of(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function df(t){return t}var pf,gf,yf,mf=Array.prototype.map,vf=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bf(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?df:(n=mf.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=n[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(t.substring(i-=u,i+u)),!((c+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?df:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(mf.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"":t.minus+"",f=void 0===t.nan?"NaN":t.nan+"";function l(t){var n=(t=sf(t)).fill,e=t.align,l=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,y=t.precision,m=t.trim,v=t.type;"n"===v?(g=!0,v="g"):hf[v]||(void 0===y&&(y=12),m=!0,v="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",_="$"===h?o:/[%p]/.test(v)?c:"",x=hf[v],w=/[defgprs%]/.test(v);function M(t){var i,o,c,h=b,M=_;if("c"===v)M=x(t)+M,t="";else{var E=(t=+t)<0||1/t<0;if(t=isNaN(t)?f:x(Math.abs(t),y),m&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),E&&0==+t&&"+"!==l&&(E=!1),h=(E?"("===l?l:s:"-"===l||"("===l?"":l)+h,M=("s"===v?vf[8+uf/3]:"")+M+(E&&"("===l?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(c=t.charCodeAt(i))||c>57){M=(46===c?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var T=h.length+t.length+M.length,A=T<p?new Array(p-T+1).join(n):"";switch(g&&d&&(t=r(A+t,A.length?p-M.length:1/0),A=""),e){case"<":t=h+t+M+A;break;case"=":t=h+A+t+M;break;case"^":t=A.slice(0,T=A.length>>1)+h+t+M+A.slice(T);break;default:t=A+h+t+M}return u(t)}return y=void 0===y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),M.toString=function(){return t+""},M}return{format:l,formatPrefix:function(t,n){var e=l(((t=sf(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(af(n)/3))),i=Math.pow(10,-r),o=vf[8+r/3];return function(t){return e(i*t)+o}}}}function _f(t){return pf=bf(t),gf=pf.format,yf=pf.formatPrefix,pf}function xf(t){return Math.max(0,-af(Math.abs(t)))}function wf(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(af(n)/3)))-af(Math.abs(t)))}function Mf(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,af(n)-af(t))+1}_f({thousands:",",grouping:[3],currency:["$",""]});var Ef=1e-6,Tf=1e-12,Af=Math.PI,kf=Af/2,Sf=Af/4,Nf=2*Af,Cf=180/Af,$f=Af/180,Pf=Math.abs,zf=Math.atan,If=Math.atan2,Lf=Math.cos,Rf=Math.ceil,Bf=Math.exp,Of=(Math.floor,Math.hypot),Df=Math.log,Uf=Math.pow,Ff=Math.sin,jf=Math.sign||function(t){return t>0?1:t<0?-1:0},qf=Math.sqrt,Yf=Math.tan;function Hf(t){return t>1?0:t<-1?Af:Math.acos(t)}function Vf(t){return t>1?kf:t<-1?-kf:Math.asin(t)}function Xf(t){return(t=Ff(t/2))*t}function Gf(){}function Wf(t,n){t&&Zf.hasOwnProperty(t.type)&&Zf[t.type](t,n)}var Kf={Feature:function(t,n){Wf(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Wf(e[r].geometry,n)}},Zf={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Qf(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Qf(e[r],n,0)},Polygon:function(t,n){Jf(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Jf(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Wf(e[r],n)}};function Qf(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Jf(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Qf(t[e],n,1);n.polygonEnd()}function tl(t,n){t&&Kf.hasOwnProperty(t.type)?Kf[t.type](t,n):Wf(t,n)}var nl,el,rl,il,ol,al,ul,cl,sl,fl,ll,hl,dl,pl,gl,yl,ml=new S,vl=new S,bl={point:Gf,lineStart:Gf,lineEnd:Gf,polygonStart:function(){ml=new S,bl.lineStart=_l,bl.lineEnd=xl},polygonEnd:function(){var t=+ml;vl.add(t<0?Nf+t:t),this.lineStart=this.lineEnd=this.point=Gf},sphere:function(){vl.add(Nf)}};function _l(){bl.point=wl}function xl(){Ml(nl,el)}function wl(t,n){bl.point=Ml,nl=t,el=n,rl=t*=$f,il=Lf(n=(n*=$f)/2+Sf),ol=Ff(n)}function Ml(t,n){var e=(t*=$f)-rl,r=e>=0?1:-1,i=r*e,o=Lf(n=(n*=$f)/2+Sf),a=Ff(n),u=ol*a,c=il*o+u*Lf(i),s=u*r*Ff(i);ml.add(If(s,c)),rl=t,il=o,ol=a}function El(t){return vl=new S,tl(t,bl),2*vl}function Tl(t){return[If(t[1],t[0]),Vf(t[2])]}function Al(t){var n=t[0],e=t[1],r=Lf(e);return[r*Lf(n),r*Ff(n),Ff(e)]}function kl(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Sl(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Nl(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Cl(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function $l(t){var n=qf(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var Pl,zl,Il,Ll,Rl,Bl,Ol,Dl,Ul,Fl,jl,ql,Yl,Hl,Vl,Xl,Gl={point:Wl,lineStart:Zl,lineEnd:Ql,polygonStart:function(){Gl.point=Jl,Gl.lineStart=th,Gl.lineEnd=nh,pl=new S,bl.polygonStart()},polygonEnd:function(){bl.polygonEnd(),Gl.point=Wl,Gl.lineStart=Zl,Gl.lineEnd=Ql,ml<0?(al=-(cl=180),ul=-(sl=90)):pl>Ef?sl=90:pl<-Ef&&(ul=-90),yl[0]=al,yl[1]=cl},sphere:function(){al=-(cl=180),ul=-(sl=90)}};function Wl(t,n){gl.push(yl=[al=t,cl=t]),n<ul&&(ul=n),n>sl&&(sl=n)}function Kl(t,n){var e=Al([t*$f,n*$f]);if(dl){var r=Sl(dl,e),i=Sl([r[1],-r[0],0],r);$l(i),i=Tl(i);var o,a=t-fl,u=a>0?1:-1,c=i[0]*Cf*u,s=Pf(a)>180;s^(u*fl<c&&c<u*t)?(o=i[1]*Cf)>sl&&(sl=o):s^(u*fl<(c=(c+360)%360-180)&&c<u*t)?(o=-i[1]*Cf)<ul&&(ul=o):(n<ul&&(ul=n),n>sl&&(sl=n)),s?t<fl?eh(al,t)>eh(al,cl)&&(cl=t):eh(t,cl)>eh(al,cl)&&(al=t):cl>=al?(t<al&&(al=t),t>cl&&(cl=t)):t>fl?eh(al,t)>eh(al,cl)&&(cl=t):eh(t,cl)>eh(al,cl)&&(al=t)}else gl.push(yl=[al=t,cl=t]);n<ul&&(ul=n),n>sl&&(sl=n),dl=e,fl=t}function Zl(){Gl.point=Kl}function Ql(){yl[0]=al,yl[1]=cl,Gl.point=Wl,dl=null}function Jl(t,n){if(dl){var e=t-fl;pl.add(Pf(e)>180?e+(e>0?360:-360):e)}else ll=t,hl=n;bl.point(t,n),Kl(t,n)}function th(){bl.lineStart()}function nh(){Jl(ll,hl),bl.lineEnd(),Pf(pl)>Ef&&(al=-(cl=180)),yl[0]=al,yl[1]=cl,dl=null}function eh(t,n){return(n-=t)<0?n+360:n}function rh(t,n){return t[0]-n[0]}function ih(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}function oh(t){var n,e,r,i,o,a,u;if(sl=cl=-(al=ul=1/0),gl=[],tl(t,Gl),e=gl.length){for(gl.sort(rh),n=1,o=[r=gl[0]];n<e;++n)ih(r,(i=gl[n])[0])||ih(r,i[1])?(eh(r[0],i[1])>eh(r[0],r[1])&&(r[1]=i[1]),eh(i[0],r[1])>eh(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=0,r=o[e=o.length-1];n<=e;r=i,++n)i=o[n],(u=eh(r[1],i[0]))>a&&(a=u,al=i[0],cl=r[1])}return gl=yl=null,al===1/0||ul===1/0?[[NaN,NaN],[NaN,NaN]]:[[al,ul],[cl,sl]]}var ah={sphere:Gf,point:uh,lineStart:sh,lineEnd:hh,polygonStart:function(){ah.lineStart=dh,ah.lineEnd=ph},polygonEnd:function(){ah.lineStart=sh,ah.lineEnd=hh}};function uh(t,n){t*=$f;var e=Lf(n*=$f);ch(e*Lf(t),e*Ff(t),Ff(n))}function ch(t,n,e){++Pl,Il+=(t-Il)/Pl,Ll+=(n-Ll)/Pl,Rl+=(e-Rl)/Pl}function sh(){ah.point=fh}function fh(t,n){t*=$f;var e=Lf(n*=$f);Hl=e*Lf(t),Vl=e*Ff(t),Xl=Ff(n),ah.point=lh,ch(Hl,Vl,Xl)}function lh(t,n){t*=$f;var e=Lf(n*=$f),r=e*Lf(t),i=e*Ff(t),o=Ff(n),a=If(qf((a=Vl*o-Xl*i)*a+(a=Xl*r-Hl*o)*a+(a=Hl*i-Vl*r)*a),Hl*r+Vl*i+Xl*o);zl+=a,Bl+=a*(Hl+(Hl=r)),Ol+=a*(Vl+(Vl=i)),Dl+=a*(Xl+(Xl=o)),ch(Hl,Vl,Xl)}function hh(){ah.point=uh}function dh(){ah.point=gh}function ph(){yh(ql,Yl),ah.point=uh}function gh(t,n){ql=t,Yl=n,t*=$f,n*=$f,ah.point=yh;var e=Lf(n);Hl=e*Lf(t),Vl=e*Ff(t),Xl=Ff(n),ch(Hl,Vl,Xl)}function yh(t,n){t*=$f;var e=Lf(n*=$f),r=e*Lf(t),i=e*Ff(t),o=Ff(n),a=Vl*o-Xl*i,u=Xl*r-Hl*o,c=Hl*i-Vl*r,s=Of(a,u,c),f=Vf(s),l=s&&-f/s;Ul.add(l*a),Fl.add(l*u),jl.add(l*c),zl+=f,Bl+=f*(Hl+(Hl=r)),Ol+=f*(Vl+(Vl=i)),Dl+=f*(Xl+(Xl=o)),ch(Hl,Vl,Xl)}function mh(t){Pl=zl=Il=Ll=Rl=Bl=Ol=Dl=0,Ul=new S,Fl=new S,jl=new S,tl(t,ah);var n=+Ul,e=+Fl,r=+jl,i=Of(n,e,r);return i<Tf&&(n=Bl,e=Ol,r=Dl,zl<Ef&&(n=Il,e=Ll,r=Rl),(i=Of(n,e,r))<Tf)?[NaN,NaN]:[If(e,n)*Cf,Vf(r/i)*Cf]}function vh(t){return function(){return t}}function bh(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function _h(t,n){return Pf(t)>Af&&(t-=Math.round(t/Nf)*Nf),[t,n]}function xh(t,n,e){return(t%=Nf)?n||e?bh(Mh(t),Eh(n,e)):Mh(t):n||e?Eh(n,e):_h}function wh(t){return function(n,e){return Pf(n+=t)>Af&&(n-=Math.round(n/Nf)*Nf),[n,e]}}function Mh(t){var n=wh(t);return n.invert=wh(-t),n}function Eh(t,n){var e=Lf(t),r=Ff(t),i=Lf(n),o=Ff(n);function a(t,n){var a=Lf(n),u=Lf(t)*a,c=Ff(t)*a,s=Ff(n),f=s*e+u*r;return[If(c*i-f*o,u*e-s*r),Vf(f*i+c*o)]}return a.invert=function(t,n){var a=Lf(n),u=Lf(t)*a,c=Ff(t)*a,s=Ff(n),f=s*i-c*o;return[If(c*i+s*o,u*e+f*r),Vf(f*e-u*r)]},a}function Th(t){function n(n){return(n=t(n[0]*$f,n[1]*$f))[0]*=Cf,n[1]*=Cf,n}return t=xh(t[0]*$f,t[1]*$f,t.length>2?t[2]*$f:0),n.invert=function(n){return(n=t.invert(n[0]*$f,n[1]*$f))[0]*=Cf,n[1]*=Cf,n},n}function Ah(t,n,e,r,i,o){if(e){var a=Lf(n),u=Ff(n),c=r*e;null==i?(i=n+r*Nf,o=n-c/2):(i=kh(a,i),o=kh(a,o),(r>0?i<o:i>o)&&(i+=r*Nf));for(var s,f=i;r>0?f>o:f<o;f-=c)s=Tl([a,-u*Lf(f),-u*Ff(f)]),t.point(s[0],s[1])}}function kh(t,n){(n=Al(n))[0]-=t,$l(n);var e=Hf(-n[1]);return((-n[2]<0?-e:e)+Nf-Ef)%Nf}function Sh(){var t,n,e=vh([0,0]),r=vh(90),i=vh(2),o={point:function(e,r){t.push(e=n(e,r)),e[0]*=Cf,e[1]*=Cf}};function a(){var a=e.apply(this,arguments),u=r.apply(this,arguments)*$f,c=i.apply(this,arguments)*$f;return t=[],n=xh(-a[0]*$f,-a[1]*$f,0).invert,Ah(o,u,c,1),a={type:"Polygon",coordinates:[t]},t=n=null,a}return a.center=function(t){return arguments.length?(e="function"==typeof t?t:vh([+t[0],+t[1]]),a):e},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:vh(+t),a):r},a.precision=function(t){return arguments.length?(i="function"==typeof t?t:vh(+t),a):i},a}function Nh(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:Gf,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function Ch(t,n){return Pf(t[0]-n[0])<Ef&&Pf(t[1]-n[1])<Ef}function $h(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Ph(t,n,e,r,i){var o,a,u=[],c=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],a=t[n];if(Ch(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2*Ef}u.push(e=new $h(r,t,null,!0)),c.push(e.o=new $h(r,null,e,!1)),u.push(e=new $h(a,t,null,!1)),c.push(e.o=new $h(a,null,e,!0))}})),u.length){for(c.sort(n),zh(u),zh(c),o=0,a=c.length;o<a;++o)c[o].e=e=!e;for(var s,f,l=u[0];;){for(var h=l,d=!0;h.v;)if((h=h.n)===l)return;s=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=s.length;o<a;++o)i.point((f=s[o])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(s=h.p.z,o=s.length-1;o>=0;--o)i.point((f=s[o])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}s=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function zh(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function Ih(t){return Pf(t[0])<=Af?t[0]:jf(t[0])*((Pf(t[0])+Af)%Nf-Af)}function Lh(t,n){var e=Ih(n),r=n[1],i=Ff(r),o=[Ff(e),-Lf(e),0],a=0,u=0,c=new S;1===i?r=kf+Ef:-1===i&&(r=-kf-Ef);for(var s=0,f=t.length;s<f;++s)if(h=(l=t[s]).length)for(var l,h,d=l[h-1],p=Ih(d),g=d[1]/2+Sf,y=Ff(g),m=Lf(g),v=0;v<h;++v,p=_,y=w,m=M,d=b){var b=l[v],_=Ih(b),x=b[1]/2+Sf,w=Ff(x),M=Lf(x),E=_-p,T=E>=0?1:-1,A=T*E,k=A>Af,N=y*w;if(c.add(If(N*T*Ff(A),m*M+N*Lf(A))),a+=k?E+T*Nf:E,k^p>=e^_>=e){var C=Sl(Al(d),Al(b));$l(C);var $=Sl(o,C);$l($);var P=(k^E>=0?-1:1)*Vf($[2]);(r>P||r===P&&(C[0]||C[1]))&&(u+=k^E>=0?1:-1)}}return(a<-Ef||a<Ef&&c<-Tf)^1&u}function Rh(t,n,e,r){return function(i){var o,a,u,c=n(i),s=Nh(),f=n(s),l=!1,h={point:d,lineStart:g,lineEnd:y,polygonStart:function(){h.point=m,h.lineStart=v,h.lineEnd=b,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=y,a=St(a);var t=Lh(o,r);a.length?(l||(i.polygonStart(),l=!0),Ph(a,Oh,t,e,i)):t&&(l||(i.polygonStart(),l=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(n,e){t(n,e)&&i.point(n,e)}function p(t,n){c.point(t,n)}function g(){h.point=p,c.lineStart()}function y(){h.point=d,c.lineEnd()}function m(t,n){u.push([t,n]),f.point(t,n)}function v(){f.lineStart(),u=[]}function b(){m(u[0][0],u[0][1]),f.lineEnd();var t,n,e,r,c=f.clean(),h=s.result(),d=h.length;if(u.pop(),o.push(u),u=null,d)if(1&c){if((n=(e=h[0]).length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else d>1&&2&c&&h.push(h.pop().concat(h.shift())),a.push(h.filter(Bh))}return h}}function Bh(t){return t.length>1}function Oh(t,n){return((t=t.x)[0]<0?t[1]-kf-Ef:kf-t[1])-((n=n.x)[0]<0?n[1]-kf-Ef:kf-n[1])}_h.invert=_h;const Dh=Rh((function(){return!0}),(function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var u=o>0?Af:-Af,c=Pf(o-e);Pf(c-Af)<Ef?(t.point(e,r=(r+a)/2>0?kf:-kf),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),n=0):i!==u&&c>=Af&&(Pf(e-i)<Ef&&(e-=i*Ef),Pf(o-u)<Ef&&(o-=u*Ef),r=function(t,n,e,r){var i,o,a=Ff(t-e);return Pf(a)>Ef?zf((Ff(n)*(o=Lf(r))*Ff(e)-Ff(r)*(i=Lf(n))*Ff(t))/(i*o*a)):(n+r)/2}(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),n=0),t.point(e=o,r=a),i=u},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var i;if(null==t)i=e*kf,r.point(-Af,i),r.point(0,i),r.point(Af,i),r.point(Af,0),r.point(Af,-i),r.point(0,-i),r.point(-Af,-i),r.point(-Af,0),r.point(-Af,i);else if(Pf(t[0]-n[0])>Ef){var o=t[0]<n[0]?Af:-Af;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}),[-Af,-kf]);function Uh(t){var n=Lf(t),e=2*$f,r=n>0,i=Pf(n)>Ef;function o(t,e){return Lf(t)*Lf(e)>n}function a(t,e,r){var i=[1,0,0],o=Sl(Al(t),Al(e)),a=kl(o,o),u=o[0],c=a-u*u;if(!c)return!r&&t;var s=n*a/c,f=-n*u/c,l=Sl(i,o),h=Cl(i,s);Nl(h,Cl(o,f));var d=l,p=kl(h,d),g=kl(d,d),y=p*p-g*(kl(h,h)-1);if(!(y<0)){var m=qf(y),v=Cl(d,(-p-m)/g);if(Nl(v,h),v=Tl(v),!r)return v;var b,_=t[0],x=e[0],w=t[1],M=e[1];x<_&&(b=_,_=x,x=b);var E=x-_,T=Pf(E-Af)<Ef;if(!T&&M<w&&(b=w,w=M,M=b),T||E<Ef?T?w+M>0^v[1]<(Pf(v[0]-_)<Ef?w:M):w<=v[1]&&v[1]<=M:E>Af^(_<=v[0]&&v[0]<=x)){var A=Cl(d,(-p+m)/g);return Nl(A,h),[v,Tl(A)]}}}function u(n,e){var i=r?t:Af-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return Rh(o,(function(t){var n,e,c,s,f;return{lineStart:function(){s=c=!1,f=1},point:function(l,h){var d,p=[l,h],g=o(l,h),y=r?g?0:u(l,h):g?u(l+(l<0?Af:-Af),h):0;if(!n&&(s=c=g)&&t.lineStart(),g!==c&&(!(d=a(n,p))||Ch(n,d)||Ch(p,d))&&(p[2]=1),g!==c)f=0,g?(t.lineStart(),d=a(p,n),t.point(d[0],d[1])):(d=a(n,p),t.point(d[0],d[1],2),t.lineEnd()),n=d;else if(i&&n&&r^g){var m;y&e||!(m=a(p,n,!0))||(f=0,r?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1],3)))}!g||n&&Ch(n,p)||t.point(p[0],p[1]),n=p,c=g,e=y},lineEnd:function(){c&&t.lineEnd(),n=null},clean:function(){return f|(s&&c)<<1}}}),(function(n,r,i,o){Ah(o,t,e,i,n,r)}),r?[0,-t]:[-Af,t-Af])}var Fh,jh,qh,Yh,Hh=1e9,Vh=-Hh;function Xh(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,u,s){var f=0,l=0;if(null==i||(f=a(i,u))!==(l=a(o,u))||c(i,o)<0^u>0)do{s.point(0===f||3===f?t:e,f>1?r:n)}while((f=(f+u+4)%4)!==l);else s.point(o[0],o[1])}function a(r,i){return Pf(r[0]-t)<Ef?i>0?0:3:Pf(r[0]-e)<Ef?i>0?2:1:Pf(r[1]-n)<Ef?i>0?1:0:i>0?3:2}function u(t,n){return c(t.x,n.x)}function c(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var c,s,f,l,h,d,p,g,y,m,v,b=a,_=Nh(),x={point:w,lineStart:function(){x.point=M,s&&s.push(f=[]),m=!0,y=!1,p=g=NaN},lineEnd:function(){c&&(M(l,h),d&&y&&_.rejoin(),c.push(_.result())),x.point=w,y&&b.lineEnd()},polygonStart:function(){b=_,c=[],s=[],v=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=s.length;e<i;++e)for(var o,a,u=s[e],c=1,f=u.length,l=u[0],h=l[0],d=l[1];c<f;++c)o=h,a=d,h=(l=u[c])[0],d=l[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++n:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--n;return n}(),e=v&&n,i=(c=St(c)).length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&Ph(c,u,n,o,a),a.polygonEnd()),b=a,c=s=f=null}};function w(t,n){i(t,n)&&b.point(t,n)}function M(o,a){var u=i(o,a);if(s&&f.push([o,a]),m)l=o,h=a,d=u,m=!1,u&&(b.lineStart(),b.point(o,a));else if(u&&y)b.point(o,a);else{var c=[p=Math.max(Vh,Math.min(Hh,p)),g=Math.max(Vh,Math.min(Hh,g))],_=[o=Math.max(Vh,Math.min(Hh,o)),a=Math.max(Vh,Math.min(Hh,a))];!function(t,n,e,r,i,o){var a,u=t[0],c=t[1],s=0,f=1,l=n[0]-u,h=n[1]-c;if(a=e-u,l||!(a>0)){if(a/=l,l<0){if(a<s)return;a<f&&(f=a)}else if(l>0){if(a>f)return;a>s&&(s=a)}if(a=i-u,l||!(a<0)){if(a/=l,l<0){if(a>f)return;a>s&&(s=a)}else if(l>0){if(a<s)return;a<f&&(f=a)}if(a=r-c,h||!(a>0)){if(a/=h,h<0){if(a<s)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>s&&(s=a)}if(a=o-c,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>s&&(s=a)}else if(h>0){if(a<s)return;a<f&&(f=a)}return s>0&&(t[0]=u+s*l,t[1]=c+s*h),f<1&&(n[0]=u+f*l,n[1]=c+f*h),!0}}}}}(c,_,t,n,e,r)?u&&(b.lineStart(),b.point(o,a),v=!1):(y||(b.lineStart(),b.point(c[0],c[1])),b.point(_[0],_[1]),u||b.lineEnd(),v=!1)}p=o,g=a,y=u}return x}}function Gh(){var t,n,e,r=0,i=0,o=960,a=500;return e={stream:function(e){return t&&n===e?t:t=Xh(r,i,o,a)(n=e)},extent:function(u){return arguments.length?(r=+u[0][0],i=+u[0][1],o=+u[1][0],a=+u[1][1],t=n=null,e):[[r,i],[o,a]]}}}var Wh={sphere:Gf,point:Gf,lineStart:function(){Wh.point=Zh,Wh.lineEnd=Kh},lineEnd:Gf,polygonStart:Gf,polygonEnd:Gf};function Kh(){Wh.point=Wh.lineEnd=Gf}function Zh(t,n){jh=t*=$f,qh=Ff(n*=$f),Yh=Lf(n),Wh.point=Qh}function Qh(t,n){t*=$f;var e=Ff(n*=$f),r=Lf(n),i=Pf(t-jh),o=Lf(i),a=r*Ff(i),u=Yh*e-qh*r*o,c=qh*e+Yh*r*o;Fh.add(If(qf(a*a+u*u),c)),jh=t,qh=e,Yh=r}function Jh(t){return Fh=new S,tl(t,Wh),+Fh}var td=[null,null],nd={type:"LineString",coordinates:td};function ed(t,n){return td[0]=t,td[1]=n,Jh(nd)}var rd={Feature:function(t,n){return od(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(od(e[r].geometry,n))return!0;return!1}},id={Sphere:function(){return!0},Point:function(t,n){return ad(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(ad(e[r],n))return!0;return!1},LineString:function(t,n){return ud(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(ud(e[r],n))return!0;return!1},Polygon:function(t,n){return cd(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(cd(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(od(e[r],n))return!0;return!1}};function od(t,n){return!(!t||!id.hasOwnProperty(t.type))&&id[t.type](t,n)}function ad(t,n){return 0===ed(t,n)}function ud(t,n){for(var e,r,i,o=0,a=t.length;o<a;o++){if(0===(r=ed(t[o],n)))return!0;if(o>0&&(i=ed(t[o],t[o-1]))>0&&e<=i&&r<=i&&(e+r-i)*(1-Math.pow((e-r)/i,2))<Tf*i)return!0;e=r}return!1}function cd(t,n){return!!Lh(t.map(sd),fd(n))}function sd(t){return(t=t.map(fd)).pop(),t}function fd(t){return[t[0]*$f,t[1]*$f]}function ld(t,n){return(t&&rd.hasOwnProperty(t.type)?rd[t.type]:od)(t,n)}function hd(t,n,e){var r=Pt(t,n-Ef,e).concat(n);return function(t){return r.map((function(n){return[t,n]}))}}function dd(t,n,e){var r=Pt(t,n-Ef,e).concat(n);return function(t){return r.map((function(n){return[n,t]}))}}function pd(){var t,n,e,r,i,o,a,u,c,s,f,l,h=10,d=h,p=90,g=360,y=2.5;function m(){return{type:"MultiLineString",coordinates:v()}}function v(){return Pt(Rf(r/p)*p,e,p).map(f).concat(Pt(Rf(u/g)*g,a,g).map(l)).concat(Pt(Rf(n/h)*h,t,h).filter((function(t){return Pf(t%p)>Ef})).map(c)).concat(Pt(Rf(o/d)*d,i,d).filter((function(t){return Pf(t%g)>Ef})).map(s))}return m.lines=function(){return v().map((function(t){return{type:"LineString",coordinates:t}}))},m.outline=function(){return{type:"Polygon",coordinates:[f(r).concat(l(a).slice(1),f(e).reverse().slice(1),l(u).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.extentMajor(t).extentMinor(t):m.extentMinor()},m.extentMajor=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],u=+t[0][1],a=+t[1][1],r>e&&(t=r,r=e,e=t),u>a&&(t=u,u=a,a=t),m.precision(y)):[[r,u],[e,a]]},m.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],o=+e[0][1],i=+e[1][1],n>t&&(e=n,n=t,t=e),o>i&&(e=o,o=i,i=e),m.precision(y)):[[n,o],[t,i]]},m.step=function(t){return arguments.length?m.stepMajor(t).stepMinor(t):m.stepMinor()},m.stepMajor=function(t){return arguments.length?(p=+t[0],g=+t[1],m):[p,g]},m.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],m):[h,d]},m.precision=function(h){return arguments.length?(y=+h,c=hd(o,i,90),s=dd(n,t,y),f=hd(u,a,90),l=dd(r,e,y),m):y},m.extentMajor([[-180,-90+Ef],[180,90-Ef]]).extentMinor([[-180,-80-Ef],[180,80+Ef]])}function gd(){return pd()()}function yd(t,n){var e=t[0]*$f,r=t[1]*$f,i=n[0]*$f,o=n[1]*$f,a=Lf(r),u=Ff(r),c=Lf(o),s=Ff(o),f=a*Lf(e),l=a*Ff(e),h=c*Lf(i),d=c*Ff(i),p=2*Vf(qf(Xf(o-r)+a*c*Xf(i-e))),g=Ff(p),y=p?function(t){var n=Ff(t*=p)/g,e=Ff(p-t)/g,r=e*f+n*h,i=e*l+n*d,o=e*u+n*s;return[If(i,r)*Cf,If(o,qf(r*r+i*i))*Cf]}:function(){return[e*Cf,r*Cf]};return y.distance=p,y}const md=t=>t;var vd,bd,_d,xd,wd=new S,Md=new S,Ed={point:Gf,lineStart:Gf,lineEnd:Gf,polygonStart:function(){Ed.lineStart=Td,Ed.lineEnd=Sd},polygonEnd:function(){Ed.lineStart=Ed.lineEnd=Ed.point=Gf,wd.add(Pf(Md)),Md=new S},result:function(){var t=wd/2;return wd=new S,t}};function Td(){Ed.point=Ad}function Ad(t,n){Ed.point=kd,vd=_d=t,bd=xd=n}function kd(t,n){Md.add(xd*t-_d*n),_d=t,xd=n}function Sd(){kd(vd,bd)}const Nd=Ed;var Cd=1/0,$d=Cd,Pd=-Cd,zd=Pd,Id={point:function(t,n){t<Cd&&(Cd=t),t>Pd&&(Pd=t),n<$d&&($d=n),n>zd&&(zd=n)},lineStart:Gf,lineEnd:Gf,polygonStart:Gf,polygonEnd:Gf,result:function(){var t=[[Cd,$d],[Pd,zd]];return Pd=zd=-($d=Cd=1/0),t}};const Ld=Id;var Rd,Bd,Od,Dd,Ud=0,Fd=0,jd=0,qd=0,Yd=0,Hd=0,Vd=0,Xd=0,Gd=0,Wd={point:Kd,lineStart:Zd,lineEnd:tp,polygonStart:function(){Wd.lineStart=np,Wd.lineEnd=ep},polygonEnd:function(){Wd.point=Kd,Wd.lineStart=Zd,Wd.lineEnd=tp},result:function(){var t=Gd?[Vd/Gd,Xd/Gd]:Hd?[qd/Hd,Yd/Hd]:jd?[Ud/jd,Fd/jd]:[NaN,NaN];return Ud=Fd=jd=qd=Yd=Hd=Vd=Xd=Gd=0,t}};function Kd(t,n){Ud+=t,Fd+=n,++jd}function Zd(){Wd.point=Qd}function Qd(t,n){Wd.point=Jd,Kd(Od=t,Dd=n)}function Jd(t,n){var e=t-Od,r=n-Dd,i=qf(e*e+r*r);qd+=i*(Od+t)/2,Yd+=i*(Dd+n)/2,Hd+=i,Kd(Od=t,Dd=n)}function tp(){Wd.point=Kd}function np(){Wd.point=rp}function ep(){ip(Rd,Bd)}function rp(t,n){Wd.point=ip,Kd(Rd=Od=t,Bd=Dd=n)}function ip(t,n){var e=t-Od,r=n-Dd,i=qf(e*e+r*r);qd+=i*(Od+t)/2,Yd+=i*(Dd+n)/2,Hd+=i,Vd+=(i=Dd*t-Od*n)*(Od+t),Xd+=i*(Dd+n),Gd+=3*i,Kd(Od=t,Dd=n)}const op=Wd;function ap(t){this._context=t}ap.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Nf)}},result:Gf};var up,cp,sp,fp,lp,hp=new S,dp={point:Gf,lineStart:function(){dp.point=pp},lineEnd:function(){up&&gp(cp,sp),dp.point=Gf},polygonStart:function(){up=!0},polygonEnd:function(){up=null},result:function(){var t=+hp;return hp=new S,t}};function pp(t,n){dp.point=gp,cp=fp=t,sp=lp=n}function gp(t,n){fp-=t,lp-=n,hp.add(qf(fp*fp+lp*lp)),fp=t,lp=n}const yp=dp;let mp,vp,bp,_p;class xp{constructor(t){this._append=null==t?wp:function(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return wp;if(n!==mp){const t=10**n;mp=n,vp=function(n){let e=1;this._+=n[0];for(const r=n.length;e<r;++e)this._+=Math.round(arguments[e]*t)/t+n[e]}}return vp}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:this._append`M${t},${n}`,this._point=1;break;case 1:this._append`L${t},${n}`;break;default:if(this._append`M${t},${n}`,this._radius!==bp||this._append!==vp){const t=this._radius,n=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,bp=t,vp=this._append,_p=this._,this._=n}this._+=_p}}result(){const t=this._;return this._="",t.length?t:null}}function wp(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Mp(t,n){let e,r,i=3,o=4.5;function a(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),tl(t,e(r))),r.result()}return a.area=function(t){return tl(t,e(Nd)),Nd.result()},a.measure=function(t){return tl(t,e(yp)),yp.result()},a.bounds=function(t){return tl(t,e(Ld)),Ld.result()},a.centroid=function(t){return tl(t,e(op)),op.result()},a.projection=function(n){return arguments.length?(e=null==n?(t=null,md):(t=n).stream,a):t},a.context=function(t){return arguments.length?(r=null==t?(n=null,new xp(i)):new ap(n=t),"function"!=typeof o&&r.pointRadius(o),a):n},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),a):o},a.digits=function(t){if(!arguments.length)return i;if(null==t)i=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);i=n}return null===n&&(r=new xp(i)),a},a.projection(t).digits(i).context(n)}function Ep(t){return{stream:Tp(t)}}function Tp(t){return function(n){var e=new Ap;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Ap(){}function kp(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),tl(e,t.stream(Ld)),n(Ld.result()),null!=r&&t.clipExtent(r),t}function Sp(t,n,e){return kp(t,(function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),a=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,u=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,u])}),e)}function Np(t,n,e){return Sp(t,[[0,0],n],e)}function Cp(t,n,e){return kp(t,(function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,a=-i*e[0][1];t.scale(150*i).translate([o,a])}),e)}function $p(t,n,e){return kp(t,(function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],a=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,a])}),e)}Ap.prototype={constructor:Ap,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Pp=16,zp=Lf(30*$f);function Ip(t,n){return+n?function(t,n){function e(r,i,o,a,u,c,s,f,l,h,d,p,g,y){var m=s-r,v=f-i,b=m*m+v*v;if(b>4*n&&g--){var _=a+h,x=u+d,w=c+p,M=qf(_*_+x*x+w*w),E=Vf(w/=M),T=Pf(Pf(w)-1)<Ef||Pf(o-l)<Ef?(o+l)/2:If(x,_),A=t(T,E),k=A[0],S=A[1],N=k-r,C=S-i,$=v*N-m*C;($*$/b>n||Pf((m*N+v*C)/b-.5)>.3||a*h+u*d+c*p<zp)&&(e(r,i,o,a,u,c,k,S,T,_/=M,x/=M,w,g,y),y.point(k,S),e(k,S,T,_,x,w,s,f,l,h,d,p,g,y))}}return function(n){var r,i,o,a,u,c,s,f,l,h,d,p,g={point:y,lineStart:m,lineEnd:b,polygonStart:function(){n.polygonStart(),g.lineStart=_},polygonEnd:function(){n.polygonEnd(),g.lineStart=m}};function y(e,r){e=t(e,r),n.point(e[0],e[1])}function m(){f=NaN,g.point=v,n.lineStart()}function v(r,i){var o=Al([r,i]),a=t(r,i);e(f,l,s,h,d,p,f=a[0],l=a[1],s=r,h=o[0],d=o[1],p=o[2],Pp,n),n.point(f,l)}function b(){g.point=y,n.lineEnd()}function _(){m(),g.point=x,g.lineEnd=w}function x(t,n){v(r=t,n),i=f,o=l,a=h,u=d,c=p,g.point=v}function w(){e(f,l,s,h,d,p,i,o,r,a,u,c,Pp,n),g.lineEnd=b,b()}return g}}(t,n):function(t){return Tp({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var Lp=Tp({point:function(t,n){this.stream.point(t*$f,n*$f)}});function Rp(t,n,e,r,i,o){if(!o)return function(t,n,e,r,i){function o(o,a){return[n+t*(o*=r),e-t*(a*=i)]}return o.invert=function(o,a){return[(o-n)/t*r,(e-a)/t*i]},o}(t,n,e,r,i);var a=Lf(o),u=Ff(o),c=a*t,s=u*t,f=a/t,l=u/t,h=(u*e-a*n)/t,d=(u*n+a*e)/t;function p(t,o){return[c*(t*=r)-s*(o*=i)+n,e-s*t-c*o]}return p.invert=function(t,n){return[r*(f*t-l*n+h),i*(d-l*t-f*n)]},p}function Bp(t){return Op((function(){return t}))()}function Op(t){var n,e,r,i,o,a,u,c,s,f,l=150,h=480,d=250,p=0,g=0,y=0,m=0,v=0,b=0,_=1,x=1,w=null,M=Dh,E=null,T=md,A=.5;function k(t){return c(t[0]*$f,t[1]*$f)}function S(t){return(t=c.invert(t[0],t[1]))&&[t[0]*Cf,t[1]*Cf]}function N(){var t=Rp(l,0,0,_,x,b).apply(null,n(p,g)),r=Rp(l,h-t[0],d-t[1],_,x,b);return e=xh(y,m,v),u=bh(n,r),c=bh(e,u),a=Ip(u,A),C()}function C(){return s=f=null,k}return k.stream=function(t){return s&&f===t?s:s=Lp(function(t){return Tp({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(M(a(T(f=t)))))},k.preclip=function(t){return arguments.length?(M=t,w=void 0,C()):M},k.postclip=function(t){return arguments.length?(T=t,E=r=i=o=null,C()):T},k.clipAngle=function(t){return arguments.length?(M=+t?Uh(w=t*$f):(w=null,Dh),C()):w*Cf},k.clipExtent=function(t){return arguments.length?(T=null==t?(E=r=i=o=null,md):Xh(E=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),C()):null==E?null:[[E,r],[i,o]]},k.scale=function(t){return arguments.length?(l=+t,N()):l},k.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],N()):[h,d]},k.center=function(t){return arguments.length?(p=t[0]%360*$f,g=t[1]%360*$f,N()):[p*Cf,g*Cf]},k.rotate=function(t){return arguments.length?(y=t[0]%360*$f,m=t[1]%360*$f,v=t.length>2?t[2]%360*$f:0,N()):[y*Cf,m*Cf,v*Cf]},k.angle=function(t){return arguments.length?(b=t%360*$f,N()):b*Cf},k.reflectX=function(t){return arguments.length?(_=t?-1:1,N()):_<0},k.reflectY=function(t){return arguments.length?(x=t?-1:1,N()):x<0},k.precision=function(t){return arguments.length?(a=Ip(u,A=t*t),C()):qf(A)},k.fitExtent=function(t,n){return Sp(k,t,n)},k.fitSize=function(t,n){return Np(k,t,n)},k.fitWidth=function(t,n){return Cp(k,t,n)},k.fitHeight=function(t,n){return $p(k,t,n)},function(){return n=t.apply(this,arguments),k.invert=n.invert&&S,N()}}function Dp(t){var n=0,e=Af/3,r=Op(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*$f,e=t[1]*$f):[n*Cf,e*Cf]},i}function Up(t,n){var e=Ff(t),r=(e+Ff(n))/2;if(Pf(r)<Ef)return function(t){var n=Lf(t);function e(t,e){return[t*n,Ff(e)/n]}return e.invert=function(t,e){return[t/n,Vf(e*n)]},e}(t);var i=1+e*(2*r-e),o=qf(i)/r;function a(t,n){var e=qf(i-2*r*Ff(n))/r;return[e*Ff(t*=r),o-e*Lf(t)]}return a.invert=function(t,n){var e=o-n,a=If(t,Pf(e))*jf(e);return e*r<0&&(a-=Af*jf(t)*jf(e)),[a/r,Vf((i-(t*t+e*e)*r*r)/(2*r))]},a}function Fp(){return Dp(Up).scale(155.424).center([0,33.6442])}function jp(){return Fp().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function qp(){var t,n,e,r,i,o,a=jp(),u=Fp().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=Fp().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(t,n){o=[t,n]}};function f(t){var n=t[0],a=t[1];return o=null,e.point(n,a),o||(r.point(n,a),o)||(i.point(n,a),o)}function l(){return t=n=null,f}return f.invert=function(t){var n=a.scale(),e=a.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:a).invert(t)},f.stream=function(e){return t&&n===e?t:(r=[a.stream(n=e),u.stream(e),c.stream(e)],i=r.length,t={point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},f.precision=function(t){return arguments.length?(a.precision(t),u.precision(t),c.precision(t),l()):a.precision()},f.scale=function(t){return arguments.length?(a.scale(t),u.scale(.35*t),c.scale(t),f.translate(a.translate())):a.scale()},f.translate=function(t){if(!arguments.length)return a.translate();var n=a.scale(),o=+t[0],f=+t[1];return e=a.translate(t).clipExtent([[o-.455*n,f-.238*n],[o+.455*n,f+.238*n]]).stream(s),r=u.translate([o-.307*n,f+.201*n]).clipExtent([[o-.425*n+Ef,f+.12*n+Ef],[o-.214*n-Ef,f+.234*n-Ef]]).stream(s),i=c.translate([o-.205*n,f+.212*n]).clipExtent([[o-.214*n+Ef,f+.166*n+Ef],[o-.115*n-Ef,f+.234*n-Ef]]).stream(s),l()},f.fitExtent=function(t,n){return Sp(f,t,n)},f.fitSize=function(t,n){return Np(f,t,n)},f.fitWidth=function(t,n){return Cp(f,t,n)},f.fitHeight=function(t,n){return $p(f,t,n)},f.scale(1070)}function Yp(t){return function(n,e){var r=Lf(n),i=Lf(e),o=t(r*i);return o===1/0?[2,0]:[o*i*Ff(n),o*Ff(e)]}}function Hp(t){return function(n,e){var r=qf(n*n+e*e),i=t(r),o=Ff(i),a=Lf(i);return[If(n*o,r*a),Vf(r&&e*o/r)]}}var Vp=Yp((function(t){return qf(2/(1+t))}));function Xp(){return Bp(Vp).scale(124.75).clipAngle(179.999)}Vp.invert=Hp((function(t){return 2*Vf(t/2)}));var Gp=Yp((function(t){return(t=Hf(t))&&t/Ff(t)}));function Wp(){return Bp(Gp).scale(79.4188).clipAngle(179.999)}function Kp(t,n){return[t,Df(Yf((kf+n)/2))]}function Zp(){return Qp(Kp).scale(961/Nf)}function Qp(t){var n,e,r,i=Bp(t),o=i.center,a=i.scale,u=i.translate,c=i.clipExtent,s=null;function f(){var o=Af*a(),u=i(Th(i.rotate()).invert([0,0]));return c(null==s?[[u[0]-o,u[1]-o],[u[0]+o,u[1]+o]]:t===Kp?[[Math.max(u[0]-o,s),n],[Math.min(u[0]+o,e),r]]:[[s,Math.max(u[1]-o,n)],[e,Math.min(u[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),f()):a()},i.translate=function(t){return arguments.length?(u(t),f()):u()},i.center=function(t){return arguments.length?(o(t),f()):o()},i.clipExtent=function(t){return arguments.length?(null==t?s=n=e=r=null:(s=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),f()):null==s?null:[[s,n],[e,r]]},f()}function Jp(t){return Yf((kf+t)/2)}function tg(t,n){var e=Lf(t),r=t===n?Ff(t):Df(e/Lf(n))/Df(Jp(n)/Jp(t)),i=e*Uf(Jp(t),r)/r;if(!r)return Kp;function o(t,n){i>0?n<-kf+Ef&&(n=-kf+Ef):n>kf-Ef&&(n=kf-Ef);var e=i/Uf(Jp(n),r);return[e*Ff(r*t),i-e*Lf(r*t)]}return o.invert=function(t,n){var e=i-n,o=jf(r)*qf(t*t+e*e),a=If(t,Pf(e))*jf(e);return e*r<0&&(a-=Af*jf(t)*jf(e)),[a/r,2*zf(Uf(i/o,1/r))-kf]},o}function ng(){return Dp(tg).scale(109.5).parallels([30,30])}function eg(t,n){return[t,n]}function rg(){return Bp(eg).scale(152.63)}function ig(t,n){var e=Lf(t),r=t===n?Ff(t):(e-Lf(n))/(n-t),i=e/r+t;if(Pf(r)<Ef)return eg;function o(t,n){var e=i-n,o=r*t;return[e*Ff(o),i-e*Lf(o)]}return o.invert=function(t,n){var e=i-n,o=If(t,Pf(e))*jf(e);return e*r<0&&(o-=Af*jf(t)*jf(e)),[o/r,i-jf(r)*qf(t*t+e*e)]},o}function og(){return Dp(ig).scale(131.154).center([0,13.9389])}Gp.invert=Hp((function(t){return t})),Kp.invert=function(t,n){return[t,2*zf(Bf(n))-kf]},eg.invert=eg;var ag=1.340264,ug=-.081106,cg=893e-6,sg=.003796,fg=qf(3)/2;function lg(t,n){var e=Vf(fg*Ff(n)),r=e*e,i=r*r*r;return[t*Lf(e)/(fg*(ag+3*ug*r+i*(7*cg+9*sg*r))),e*(ag+ug*r+i*(cg+sg*r))]}function hg(){return Bp(lg).scale(177.158)}function dg(t,n){var e=Lf(n),r=Lf(t)*e;return[e*Ff(t)/r,Ff(n)/r]}function pg(){return Bp(dg).scale(144.049).clipAngle(60)}function gg(){var t,n,e,r,i,o,a,u=1,c=0,s=0,f=1,l=1,h=0,d=null,p=1,g=1,y=Tp({point:function(t,n){var e=b([t,n]);this.stream.point(e[0],e[1])}}),m=md;function v(){return p=u*f,g=u*l,o=a=null,b}function b(e){var r=e[0]*p,i=e[1]*g;if(h){var o=i*t-r*n;r=r*t+i*n,i=o}return[r+c,i+s]}return b.invert=function(e){var r=e[0]-c,i=e[1]-s;if(h){var o=i*t+r*n;r=r*t-i*n,i=o}return[r/p,i/g]},b.stream=function(t){return o&&a===t?o:o=y(m(a=t))},b.postclip=function(t){return arguments.length?(m=t,d=e=r=i=null,v()):m},b.clipExtent=function(t){return arguments.length?(m=null==t?(d=e=r=i=null,md):Xh(d=+t[0][0],e=+t[0][1],r=+t[1][0],i=+t[1][1]),v()):null==d?null:[[d,e],[r,i]]},b.scale=function(t){return arguments.length?(u=+t,v()):u},b.translate=function(t){return arguments.length?(c=+t[0],s=+t[1],v()):[c,s]},b.angle=function(e){return arguments.length?(n=Ff(h=e%360*$f),t=Lf(h),v()):h*Cf},b.reflectX=function(t){return arguments.length?(f=t?-1:1,v()):f<0},b.reflectY=function(t){return arguments.length?(l=t?-1:1,v()):l<0},b.fitExtent=function(t,n){return Sp(b,t,n)},b.fitSize=function(t,n){return Np(b,t,n)},b.fitWidth=function(t,n){return Cp(b,t,n)},b.fitHeight=function(t,n){return $p(b,t,n)},b}function yg(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function mg(){return Bp(yg).scale(175.295)}function vg(t,n){return[Lf(n)*Ff(t),Ff(n)]}function bg(){return Bp(vg).scale(249.5).clipAngle(90+Ef)}function _g(t,n){var e=Lf(n),r=1+Lf(t)*e;return[e*Ff(t)/r,Ff(n)/r]}function xg(){return Bp(_g).scale(250).clipAngle(142)}function wg(t,n){return[Df(Yf((kf+n)/2)),-t]}function Mg(){var t=Qp(wg),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)}function Eg(t,n){return t.parent===n.parent?1:2}function Tg(t,n){return t+n.x}function Ag(t,n){return Math.max(t,n.y)}function kg(){var t=Eg,n=1,e=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(n){var e=n.children;e?(n.x=function(t){return t.reduce(Tg,0)/t.length}(e),n.y=function(t){return 1+t.reduce(Ag,0)}(e)):(n.x=o?a+=t(n,o):0,n.y=0,o=n)}));var u=function(t){for(var n;n=t.children;)t=n[0];return t}(i),c=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(i),s=u.x-t(u,c)/2,f=c.x+t(c,u)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*n,t.y=(i.y-t.y)*e}:function(t){t.x=(t.x-s)/(f-s)*n,t.y=(1-(i.y?t.y/i.y:1))*e})}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i}function Sg(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function Ng(t,n){t instanceof Map?(t=[void 0,t],void 0===n&&(n=$g)):void 0===n&&(n=Cg);for(var e,r,i,o,a,u=new Ig(t),c=[u];e=c.pop();)if((i=n(e.data))&&(a=(i=Array.from(i)).length))for(e.children=i,o=a-1;o>=0;--o)c.push(r=i[o]=new Ig(i[o])),r.parent=e,r.depth=e.depth+1;return u.eachBefore(zg)}function Cg(t){return t.children}function $g(t){return Array.isArray(t)?t[1]:null}function Pg(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function zg(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function Ig(t){this.data=t,this.depth=this.height=0,this.parent=null}function Lg(t){return null==t?null:Rg(t)}function Rg(t){if("function"!=typeof t)throw new Error;return t}function Bg(){return 0}function Og(t){return function(){return t}}lg.invert=function(t,n){for(var e,r=n,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=e=(r*(ag+ug*i+o*(cg+sg*i))-n)/(ag+3*ug*i+o*(7*cg+9*sg*i)))*r)*i*i,!(Pf(e)<Tf));++a);return[fg*t*(ag+3*ug*i+o*(7*cg+9*sg*i))/Lf(r),Vf(Ff(r)/fg)]},dg.invert=Hp(zf),yg.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,a=o*o;r-=e=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-n)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Pf(e)>Ef&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},vg.invert=Hp(Vf),_g.invert=Hp((function(t){return 2*zf(t)})),wg.invert=function(t,n){return[-n,2*zf(Bf(t))-kf]},Ig.prototype=Ng.prototype={constructor:Ig,count:function(){return this.eachAfter(Sg)},each:function(t,n){let e=-1;for(const r of this)t.call(n,r,++e,this);return this},eachAfter:function(t,n){for(var e,r,i,o=this,a=[o],u=[],c=-1;o=a.pop();)if(u.push(o),e=o.children)for(r=0,i=e.length;r<i;++r)a.push(e[r]);for(;o=u.pop();)t.call(n,o,++c,this);return this},eachBefore:function(t,n){for(var e,r,i=this,o=[i],a=-1;i=o.pop();)if(t.call(n,i,++a,this),e=i.children)for(r=e.length-1;r>=0;--r)o.push(e[r]);return this},find:function(t,n){let e=-1;for(const r of this)if(t.call(n,r,++e,this))return r},sum:function(t){return this.eachAfter((function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e}))},sort:function(t){return this.eachBefore((function(n){n.children&&n.children.sort(t)}))},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(n){n.children||t.push(n)})),t},links:function(){var t=this,n=[];return t.each((function(e){e!==t&&n.push({source:e.parent,target:e})})),n},copy:function(){return Ng(this).eachBefore(Pg)},[Symbol.iterator]:function*(){var t,n,e,r,i=this,o=[i];do{for(t=o.reverse(),o=[];i=t.pop();)if(yield i,n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e])}while(o.length)}};const Dg=1664525,Ug=1013904223,Fg=4294967296;function jg(){let t=1;return()=>(t=(Dg*t+Ug)%Fg)/Fg}function qg(t){return Yg(t,jg())}function Yg(t,n){for(var e,r,i=0,o=(t=function(t,n){let e,r,i=t.length;for(;i;)r=n()*i--|0,e=t[i],t[i]=t[r],t[r]=e;return t}(Array.from(t),n)).length,a=[];i<o;)e=t[i],r&&Xg(r,e)?++i:(r=Wg(a=Hg(a,e)),i=0);return r}function Hg(t,n){var e,r;if(Gg(n,t))return[n];for(e=0;e<t.length;++e)if(Vg(n,t[e])&&Gg(Kg(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(Vg(Kg(t[e],t[r]),n)&&Vg(Kg(t[e],n),t[r])&&Vg(Kg(t[r],n),t[e])&&Gg(Zg(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function Vg(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function Xg(t,n){var e=t.r-n.r+1e-9*Math.max(t.r,n.r,1),r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function Gg(t,n){for(var e=0;e<n.length;++e)if(!Xg(t,n[e]))return!1;return!0}function Wg(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return Kg(t[0],t[1]);case 3:return Zg(t[0],t[1],t[2])}}function Kg(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,a=n.y,u=n.r,c=o-e,s=a-r,f=u-i,l=Math.sqrt(c*c+s*s);return{x:(e+o+c/l*f)/2,y:(r+a+s/l*f)/2,r:(l+i+u)/2}}function Zg(t,n,e){var r=t.x,i=t.y,o=t.r,a=n.x,u=n.y,c=n.r,s=e.x,f=e.y,l=e.r,h=r-a,d=r-s,p=i-u,g=i-f,y=c-o,m=l-o,v=r*r+i*i-o*o,b=v-a*a-u*u+c*c,_=v-s*s-f*f+l*l,x=d*p-h*g,w=(p*_-g*b)/(2*x)-r,M=(g*y-p*m)/x,E=(d*b-h*_)/(2*x)-i,T=(h*m-d*y)/x,A=M*M+T*T-1,k=2*(o+w*M+E*T),S=w*w+E*E-o*o,N=-(Math.abs(A)>1e-6?(k+Math.sqrt(k*k-4*A*S))/(2*A):S/k);return{x:r+w+M*N,y:i+E+T*N,r:N}}function Qg(t,n,e){var r,i,o,a,u=t.x-n.x,c=t.y-n.y,s=u*u+c*c;s?(i=n.r+e.r,i*=i,a=t.r+e.r,i>(a*=a)?(r=(s+a-i)/(2*s),o=Math.sqrt(Math.max(0,a/s-r*r)),e.x=t.x-r*u-o*c,e.y=t.y-r*c+o*u):(r=(s+i-a)/(2*s),o=Math.sqrt(Math.max(0,i/s-r*r)),e.x=n.x+r*u-o*c,e.y=n.y+r*c+o*u)):(e.x=n.x+e.r,e.y=n.y)}function Jg(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function ty(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function ny(t){this._=t,this.next=null,this.previous=null}function ey(t,n){if(!(a=(e=t,t="object"==typeof e&&"length"in e?e:Array.from(e)).length))return 0;var e,r,i,o,a,u,c,s,f,l,h,d;if((r=t[0]).x=0,r.y=0,!(a>1))return r.r;if(i=t[1],r.x=-i.r,i.x=r.r,i.y=0,!(a>2))return r.r+i.r;Qg(i,r,o=t[2]),r=new ny(r),i=new ny(i),o=new ny(o),r.next=o.previous=i,i.next=r.previous=o,o.next=i.previous=r;t:for(s=3;s<a;++s){Qg(r._,i._,o=t[s]),o=new ny(o),f=i.next,l=r.previous,h=i._.r,d=r._.r;do{if(h<=d){if(Jg(f._,o._)){i=f,r.next=i,i.previous=r,--s;continue t}h+=f._.r,f=f.next}else{if(Jg(l._,o._)){(r=l).next=i,i.previous=r,--s;continue t}d+=l._.r,l=l.previous}}while(f!==l.next);for(o.previous=r,o.next=i,r.next=i.previous=i=o,u=ty(r);(o=o.next)!==i;)(c=ty(o))<u&&(r=o,u=c);i=r.next}for(r=[i._],o=i;(o=o.next)!==i;)r.push(o._);for(o=Yg(r,n),s=0;s<a;++s)(r=t[s]).x-=o.x,r.y-=o.y;return o.r}function ry(t){return ey(t,jg()),t}function iy(t){return Math.sqrt(t.value)}function oy(){var t=null,n=1,e=1,r=Bg;function i(i){const o=jg();return i.x=n/2,i.y=e/2,t?i.eachBefore(ay(t)).eachAfter(uy(r,.5,o)).eachBefore(cy(1)):i.eachBefore(ay(iy)).eachAfter(uy(Bg,1,o)).eachAfter(uy(r,i.r/Math.min(n,e),o)).eachBefore(cy(Math.min(n,e)/(2*i.r))),i}return i.radius=function(n){return arguments.length?(t=Lg(n),i):t},i.size=function(t){return arguments.length?(n=+t[0],e=+t[1],i):[n,e]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:Og(+t),i):r},i}function ay(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function uy(t,n,e){return function(r){if(i=r.children){var i,o,a,u=i.length,c=t(r)*n||0;if(c)for(o=0;o<u;++o)i[o].r+=c;if(a=ey(i,e),c)for(o=0;o<u;++o)i[o].r-=c;r.r=a+c}}}function cy(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function sy(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function fy(t,n,e,r,i){for(var o,a=t.children,u=-1,c=a.length,s=t.value&&(r-n)/t.value;++u<c;)(o=a[u]).y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*s}function ly(){var t=1,n=1,e=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=e,i.x1=t,i.y1=n/o,i.eachBefore(function(t,n){return function(r){r.children&&fy(r,r.x0,t*(r.depth+1)/n,r.x1,t*(r.depth+2)/n);var i=r.x0,o=r.y0,a=r.x1-e,u=r.y1-e;a<i&&(i=a=(i+a)/2),u<o&&(o=u=(o+u)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=u}}(n,o)),r&&i.eachBefore(sy),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(t){return arguments.length?(e=+t,i):e},i}var hy={depth:-1},dy={},py={};function gy(t){return t.id}function yy(t){return t.parentId}function my(){var t,n=gy,e=yy;function r(r){var i,o,a,u,c,s,f,l,h=Array.from(r),d=n,p=e,g=new Map;if(null!=t){const n=h.map(((n,e)=>function(t){let n=(t=`${t}`).length;return by(t,n-1)&&!by(t,n-2)&&(t=t.slice(0,-1)),"/"===t[0]?t:`/${t}`}(t(n,e,r)))),e=n.map(vy),i=new Set(n).add("");for(const t of e)i.has(t)||(i.add(t),n.push(t),e.push(vy(t)),h.push(py));d=(t,e)=>n[e],p=(t,n)=>e[n]}for(a=0,i=h.length;a<i;++a)o=h[a],s=h[a]=new Ig(o),null!=(f=d(o,a,r))&&(f+="")&&(l=s.id=f,g.set(l,g.has(l)?dy:s)),null!=(f=p(o,a,r))&&(f+="")&&(s.parent=f);for(a=0;a<i;++a)if(f=(s=h[a]).parent){if(!(c=g.get(f)))throw new Error("missing: "+f);if(c===dy)throw new Error("ambiguous: "+f);c.children?c.children.push(s):c.children=[s],s.parent=c}else{if(u)throw new Error("multiple roots");u=s}if(!u)throw new Error("no root");if(null!=t){for(;u.data===py&&1===u.children.length;)u=u.children[0],--i;for(let t=h.length-1;t>=0&&(s=h[t]).data===py;--t)s.data=null}if(u.parent=hy,u.eachBefore((function(t){t.depth=t.parent.depth+1,--i})).eachBefore(zg),u.parent=null,i>0)throw new Error("cycle");return u}return r.id=function(t){return arguments.length?(n=Lg(t),r):n},r.parentId=function(t){return arguments.length?(e=Lg(t),r):e},r.path=function(n){return arguments.length?(t=Lg(n),r):t},r}function vy(t){let n=t.length;if(n<2)return"";for(;--n>1&&!by(t,n););return t.slice(0,n)}function by(t,n){if("/"===t[n]){let e=0;for(;n>0&&"\\"===t[--n];)++e;if(!(1&e))return!0}return!1}function _y(t,n){return t.parent===n.parent?1:2}function xy(t){var n=t.children;return n?n[0]:t.t}function wy(t){var n=t.children;return n?n[n.length-1]:t.t}function My(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function Ey(t,n,e){return t.a.parent===n.parent?t.a:e}function Ty(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function Ay(){var t=_y,n=1,e=1,r=null;function i(i){var c=function(t){for(var n,e,r,i,o,a=new Ty(t,0),u=[a];n=u.pop();)if(r=n._.children)for(n.children=new Array(o=r.length),i=o-1;i>=0;--i)u.push(e=n.children[i]=new Ty(r[i],i)),e.parent=n;return(a.parent=new Ty(null,0)).children=[a],a}(i);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(a),r)i.eachBefore(u);else{var s=i,f=i,l=i;i.eachBefore((function(t){t.x<s.x&&(s=t),t.x>f.x&&(f=t),t.depth>l.depth&&(l=t)}));var h=s===f?1:t(s,f)/2,d=h-s.x,p=n/(f.x+h+d),g=e/(l.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*p,t.y=t.depth*g}))}return i}function o(n){var e=n.children,r=n.parent.children,i=n.i?r[n.i-1]:null;if(e){!function(t){for(var n,e=0,r=0,i=t.children,o=i.length;--o>=0;)(n=i[o]).z+=e,n.m+=e,e+=n.s+(r+=n.c)}(n);var o=(e[0].z+e[e.length-1].z)/2;i?(n.z=i.z+t(n._,i._),n.m=n.z-o):n.z=o}else i&&(n.z=i.z+t(n._,i._));n.parent.A=function(n,e,r){if(e){for(var i,o=n,a=n,u=e,c=o.parent.children[0],s=o.m,f=a.m,l=u.m,h=c.m;u=wy(u),o=xy(o),u&&o;)c=xy(c),(a=wy(a)).a=n,(i=u.z+l-o.z-s+t(u._,o._))>0&&(My(Ey(u,n,r),n,i),s+=i,f+=i),l+=u.m,s+=o.m,h+=c.m,f+=a.m;u&&!wy(a)&&(a.t=u,a.m+=l-f),o&&!xy(c)&&(c.t=o,c.m+=s-h,r=n)}return r}(n,i,n.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t){t.x*=n,t.y=t.depth*e}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i}function ky(t,n,e,r,i){for(var o,a=t.children,u=-1,c=a.length,s=t.value&&(i-e)/t.value;++u<c;)(o=a[u]).x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*s}Ty.prototype=Object.create(Ig.prototype);var Sy=(1+Math.sqrt(5))/2;function Ny(t,n,e,r,i,o){for(var a,u,c,s,f,l,h,d,p,g,y,m=[],v=n.children,b=0,_=0,x=v.length,w=n.value;b<x;){c=i-e,s=o-r;do{f=v[_++].value}while(!f&&_<x);for(l=h=f,y=f*f*(g=Math.max(s/c,c/s)/(w*t)),p=Math.max(h/y,y/l);_<x;++_){if(f+=u=v[_].value,u<l&&(l=u),u>h&&(h=u),y=f*f*g,(d=Math.max(h/y,y/l))>p){f-=u;break}p=d}m.push(a={value:f,dice:c<s,children:v.slice(b,_)}),a.dice?fy(a,e,r,i,w?r+=s*f/w:o):ky(a,e,r,w?e+=c*f/w:i,o),w-=f,b=_}return m}const Cy=function t(n){function e(t,e,r,i,o){Ny(n,t,e,r,i,o)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Sy);function $y(){var t=Cy,n=!1,e=1,r=1,i=[0],o=Bg,a=Bg,u=Bg,c=Bg,s=Bg;function f(t){return t.x0=t.y0=0,t.x1=e,t.y1=r,t.eachBefore(l),i=[0],n&&t.eachBefore(sy),t}function l(n){var e=i[n.depth],r=n.x0+e,f=n.y0+e,l=n.x1-e,h=n.y1-e;l<r&&(r=l=(r+l)/2),h<f&&(f=h=(f+h)/2),n.x0=r,n.y0=f,n.x1=l,n.y1=h,n.children&&(e=i[n.depth+1]=o(n)/2,r+=s(n)-e,f+=a(n)-e,(l-=u(n)-e)<r&&(r=l=(r+l)/2),(h-=c(n)-e)<f&&(f=h=(f+h)/2),t(n,r,f,l,h))}return f.round=function(t){return arguments.length?(n=!!t,f):n},f.size=function(t){return arguments.length?(e=+t[0],r=+t[1],f):[e,r]},f.tile=function(n){return arguments.length?(t=Rg(n),f):t},f.padding=function(t){return arguments.length?f.paddingInner(t).paddingOuter(t):f.paddingInner()},f.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:Og(+t),f):o},f.paddingOuter=function(t){return arguments.length?f.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):f.paddingTop()},f.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:Og(+t),f):a},f.paddingRight=function(t){return arguments.length?(u="function"==typeof t?t:Og(+t),f):u},f.paddingBottom=function(t){return arguments.length?(c="function"==typeof t?t:Og(+t),f):c},f.paddingLeft=function(t){return arguments.length?(s="function"==typeof t?t:Og(+t),f):s},f}function Py(t,n,e,r,i){var o,a,u=t.children,c=u.length,s=new Array(c+1);for(s[0]=a=o=0;o<c;++o)s[o+1]=a+=u[o].value;!function t(n,e,r,i,o,a,c){if(n>=e-1){var f=u[n];return f.x0=i,f.y0=o,f.x1=a,void(f.y1=c)}for(var l=s[n],h=r/2+l,d=n+1,p=e-1;d<p;){var g=d+p>>>1;s[g]<h?d=g+1:p=g}h-s[d-1]<s[d]-h&&n+1<d&&--d;var y=s[d]-l,m=r-y;if(a-i>c-o){var v=r?(i*m+a*y)/r:a;t(n,d,y,i,o,v,c),t(d,e,m,v,o,a,c)}else{var b=r?(o*m+c*y)/r:c;t(n,d,y,i,o,a,b),t(d,e,m,i,b,a,c)}}(0,c,t.value,n,e,r,i)}function zy(t,n,e,r,i){(1&t.depth?ky:fy)(t,n,e,r,i)}const Iy=function t(n){function e(t,e,r,i,o){if((a=t._squarify)&&a.ratio===n)for(var a,u,c,s,f,l=-1,h=a.length,d=t.value;++l<h;){for(c=(u=a[l]).children,s=u.value=0,f=c.length;s<f;++s)u.value+=c[s].value;u.dice?fy(u,e,r,i,d?r+=(o-r)*u.value/d:o):ky(u,e,r,d?e+=(i-e)*u.value/d:i,o),d-=u.value}else t._squarify=a=Ny(n,t,e,r,i,o),a.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Sy);function Ly(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}function Ry(t,n){var e=Ir(+t,+n);return function(t){var n=e(t);return n-360*Math.floor(n/360)}}function By(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function Oy(t){return((t=Math.exp(t))+1/t)/2}const Dy=function t(n,e,r){function i(t,i){var o,a,u=t[0],c=t[1],s=t[2],f=i[0],l=i[1],h=i[2],d=f-u,p=l-c,g=d*d+p*p;if(g<1e-12)a=Math.log(h/s)/n,o=function(t){return[u+t*d,c+t*p,s*Math.exp(n*t*a)]};else{var y=Math.sqrt(g),m=(h*h-s*s+r*g)/(2*s*e*y),v=(h*h-s*s-r*g)/(2*h*e*y),b=Math.log(Math.sqrt(m*m+1)-m),_=Math.log(Math.sqrt(v*v+1)-v);a=(_-b)/n,o=function(t){var r,i=t*a,o=Oy(b),f=s/(e*y)*(o*(r=n*i+b,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(b));return[u+f*d,c+f*p,s*o/Oy(n*i+b)]}}return o.duration=1e3*a*n/Math.SQRT2,o}return i.rho=function(n){var e=Math.max(.001,+n),r=e*e;return t(e,r,r*r)},i}(Math.SQRT2,2,4);function Uy(t){return function(n,e){var r=t((n=Er(n)).h,(e=Er(e)).h),i=Lr(n.s,e.s),o=Lr(n.l,e.l),a=Lr(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=o(t),n.opacity=a(t),n+""}}}const Fy=Uy(Ir);var jy=Uy(Lr);function qy(t,n){var e=Lr((t=za(t)).l,(n=za(n)).l),r=Lr(t.a,n.a),i=Lr(t.b,n.b),o=Lr(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=o(n),t+""}}function Yy(t){return function(n,e){var r=t((n=Fa(n)).h,(e=Fa(e)).h),i=Lr(n.c,e.c),o=Lr(n.l,e.l),a=Lr(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=a(t),n+""}}}const Hy=Yy(Ir);var Vy=Yy(Lr);function Xy(t){return function n(e){function r(n,r){var i=t((n=Qa(n)).h,(r=Qa(r)).h),o=Lr(n.s,r.s),a=Lr(n.l,r.l),u=Lr(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(Math.pow(t,e)),n.opacity=u(t),n+""}}return e=+e,r.gamma=n,r}(1)}const Gy=Xy(Ir);var Wy=Xy(Lr);function Ky(t,n){void 0===n&&(n=t,t=Kr);for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[n](t-n)}}function Zy(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}function Qy(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[1]*i[0]-n[0]*i[1];return o/2}function Jy(t){for(var n,e,r=-1,i=t.length,o=0,a=0,u=t[i-1],c=0;++r<i;)n=u,u=t[r],c+=e=n[0]*u[1]-u[0]*n[1],o+=(n[0]+u[0])*e,a+=(n[1]+u[1])*e;return[o/(c*=3),a/c]}function tm(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])}function nm(t,n){return t[0]-n[0]||t[1]-n[1]}function em(t){const n=t.length,e=[0,1];let r,i=2;for(r=2;r<n;++r){for(;i>1&&tm(t[e[i-2]],t[e[i-1]],t[r])<=0;)--i;e[i++]=r}return e.slice(0,i)}function rm(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort(nm),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var o=em(r),a=em(i),u=a[0]===o[0],c=a[a.length-1]===o[o.length-1],s=[];for(n=o.length-1;n>=0;--n)s.push(t[r[o[n]][2]]);for(n=+u;n<a.length-c;++n)s.push(t[r[a[n]][2]]);return s}function im(t,n){for(var e,r,i=t.length,o=t[i-1],a=n[0],u=n[1],c=o[0],s=o[1],f=!1,l=0;l<i;++l)e=(o=t[l])[0],(r=o[1])>u!=s>u&&a<(c-e)*(u-r)/(s-r)+e&&(f=!f),c=e,s=r;return f}function om(t){for(var n,e,r=-1,i=t.length,o=t[i-1],a=o[0],u=o[1],c=0;++r<i;)n=a,e=u,n-=a=(o=t[r])[0],e-=u=o[1],c+=Math.hypot(n,e);return c}const am=Math.random,um=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(am),cm=function t(n){function e(t,e){return arguments.length<2&&(e=t,t=0),t=Math.floor(t),e=Math.floor(e)-t,function(){return Math.floor(n()*e+t)}}return e.source=t,e}(am),sm=function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do{r=2*n()-1,o=2*n()-1,i=r*r+o*o}while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(am),fm=function t(n){var e=sm.source(n);function r(){var t=e.apply(this,arguments);return function(){return Math.exp(t())}}return r.source=t,r}(am),lm=function t(n){function e(t){return(t=+t)<=0?()=>0:function(){for(var e=0,r=t;r>1;--r)e+=n();return e+r*n()}}return e.source=t,e}(am),hm=function t(n){var e=lm.source(n);function r(t){if(0==(t=+t))return n;var r=e(t);return function(){return r()/t}}return r.source=t,r}(am),dm=function t(n){function e(t){return function(){return-Math.log1p(-n())/t}}return e.source=t,e}(am),pm=function t(n){function e(t){if((t=+t)<0)throw new RangeError("invalid alpha");return t=1/-t,function(){return Math.pow(1-n(),t)}}return e.source=t,e}(am),gm=function t(n){function e(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return function(){return Math.floor(n()+t)}}return e.source=t,e}(am),ym=function t(n){function e(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return 0===t?()=>1/0:1===t?()=>1:(t=Math.log1p(-t),function(){return 1+Math.floor(Math.log1p(-n())/t)})}return e.source=t,e}(am),mm=function t(n){var e=sm.source(n)();function r(t,r){if((t=+t)<0)throw new RangeError("invalid k");if(0===t)return()=>0;if(r=null==r?1:+r,1===t)return()=>-Math.log1p(-n())*r;var i=(t<1?t+1:t)-1/3,o=1/(3*Math.sqrt(i)),a=t<1?()=>Math.pow(n(),1/t):()=>1;return function(){do{do{var t=e(),u=1+o*t}while(u<=0);u*=u*u;var c=1-n()}while(c>=1-.0331*t*t*t*t&&Math.log(c)>=.5*t*t+i*(1-u+Math.log(u)));return i*u*a()*r}}return r.source=t,r}(am),vm=function t(n){var e=mm.source(n);function r(t,n){var r=e(t),i=e(n);return function(){var t=r();return 0===t?0:t/(t+i())}}return r.source=t,r}(am),bm=function t(n){var e=ym.source(n),r=vm.source(n);function i(t,n){return t=+t,(n=+n)>=1?()=>t:n<=0?()=>0:function(){for(var i=0,o=t,a=n;o*a>16&&o*(1-a)>16;){var u=Math.floor((o+1)*a),c=r(u,o-u+1)();c<=a?(i+=u,o-=u,a=(a-c)/(1-c)):(o=u-1,a/=c)}for(var s=a<.5,f=e(s?a:1-a),l=f(),h=0;l<=o;++h)l+=f();return i+(s?h:o-h)}}return i.source=t,i}(am),_m=function t(n){function e(t,e,r){var i;return 0==(t=+t)?i=t=>-Math.log(t):(t=1/t,i=n=>Math.pow(n,t)),e=null==e?0:+e,r=null==r?1:+r,function(){return e+r*i(-Math.log1p(-n()))}}return e.source=t,e}(am),xm=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,function(){return t+e*Math.tan(Math.PI*n())}}return e.source=t,e}(am),wm=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,function(){var r=n();return t+e*Math.log(r/(1-r))}}return e.source=t,e}(am),Mm=function t(n){var e=mm.source(n),r=bm.source(n);function i(t){return function(){for(var i=0,o=t;o>16;){var a=Math.floor(.875*o),u=e(a)();if(u>o)return i+r(a-1,o/u)();i+=a,o-=u}for(var c=-Math.log1p(-n()),s=0;c<=o;++s)c-=Math.log1p(-n());return i+s}}return i.source=t,i}(am),Em=1664525,Tm=1013904223,Am=1/4294967296;function km(t=Math.random()){let n=0|(0<=t&&t<1?t/Am:Math.abs(t));return()=>(n=Em*n+Tm|0,Am*(n>>>0))}function Sm(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function Nm(t,n){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof n?this.interpolator(n):this.range(n)}return this}const Cm=Symbol("implicit");function $m(){var t=new $,n=[],e=[],r=Cm;function i(i){let o=t.get(i);if(void 0===o){if(r!==Cm)return r;t.set(i,o=n.push(i)-1)}return e[o%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new $;for(const r of e)t.has(r)||t.set(r,n.push(r)-1);return i},i.range=function(t){return arguments.length?(e=Array.from(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return $m(n,e).unknown(r)},Sm.apply(i,arguments),i}function Pm(){var t,n,e=$m().unknown(void 0),r=e.domain,i=e.range,o=0,a=1,u=!1,c=0,s=0,f=.5;function l(){var e=r().length,l=a<o,h=l?a:o,d=l?o:a;t=(d-h)/Math.max(1,e-c+2*s),u&&(t=Math.floor(t)),h+=(d-h-t*(e-c))*f,n=t*(1-c),u&&(h=Math.round(h),n=Math.round(n));var p=Pt(e).map((function(n){return h+t*n}));return i(l?p.reverse():p)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),l()):r()},e.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,l()):[o,a]},e.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,u=!0,l()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(u=!!t,l()):u},e.padding=function(t){return arguments.length?(c=Math.min(1,s=+t),l()):c},e.paddingInner=function(t){return arguments.length?(c=Math.min(1,t),l()):c},e.paddingOuter=function(t){return arguments.length?(s=+t,l()):s},e.align=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),l()):f},e.copy=function(){return Pm(r(),[o,a]).round(u).paddingInner(c).paddingOuter(s).align(f)},Sm.apply(l(),arguments)}function zm(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return zm(n())},t}function Im(){return zm(Pm.apply(null,arguments).paddingInner(1))}function Lm(t){return+t}var Rm=[0,1];function Bm(t){return t}function Om(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function Dm(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=Om(i,r),o=e(a,o)):(r=Om(r,i),o=e(o,a)),function(t){return o(r(t))}}function Um(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=Om(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=l(t,n,1,r)-1;return o[e](i[e](n))}}function Fm(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function jm(){var t,n,e,r,i,o,a=Rm,u=Rm,c=Kr,s=Bm;function f(){var t=Math.min(a.length,u.length);return s!==Bm&&(s=function(t,n){var e;return t>n&&(e=t,t=n,n=e),function(e){return Math.max(t,Math.min(n,e))}}(a[0],a[t-1])),r=t>2?Um:Dm,i=o=null,l}function l(n){return null==n||isNaN(n=+n)?e:(i||(i=r(a.map(t),u,c)))(t(s(n)))}return l.invert=function(e){return s(n((o||(o=r(u,a.map(t),Hr)))(e)))},l.domain=function(t){return arguments.length?(a=Array.from(t,Lm),f()):a.slice()},l.range=function(t){return arguments.length?(u=Array.from(t),f()):u.slice()},l.rangeRound=function(t){return u=Array.from(t),c=By,f()},l.clamp=function(t){return arguments.length?(s=!!t||Bm,f()):s!==Bm},l.interpolate=function(t){return arguments.length?(c=t,f()):c},l.unknown=function(t){return arguments.length?(e=t,l):e},function(e,r){return t=e,n=r,f()}}function qm(){return jm()(Bm,Bm)}function Ym(t,n,e,r){var i,o=st(t,n,e);switch((r=sf(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=wf(o,a))||(r.precision=i),yf(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Mf(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=xf(o))||(r.precision=i-2*("%"===r.type))}return gf(r)}function Hm(t){var n=t.domain;return t.ticks=function(t){var e=n();return ut(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Ym(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),a=0,u=o.length-1,c=o[a],s=o[u],f=10;for(s<c&&(i=c,c=s,s=i,i=a,a=u,u=i);f-- >0;){if((i=ct(c,s,e))===r)return o[a]=c,o[u]=s,n(o);if(i>0)c=Math.floor(c/i)*i,s=Math.ceil(s/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,s=Math.floor(s*i)/i}r=i}return t},t}function Vm(){var t=qm();return t.copy=function(){return Fm(t,Vm())},Sm.apply(t,arguments),Hm(t)}function Xm(t){var n;function e(t){return null==t||isNaN(t=+t)?n:t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=Array.from(n,Lm),e):t.slice()},e.unknown=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return Xm(t).unknown(n)},t=arguments.length?Array.from(t,Lm):[0,1],Hm(e)}function Gm(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(e=r,r=i,i=e,e=o,o=a,a=e),t[r]=n.floor(o),t[i]=n.ceil(a),t}function Wm(t){return Math.log(t)}function Km(t){return Math.exp(t)}function Zm(t){return-Math.log(-t)}function Qm(t){return-Math.exp(-t)}function Jm(t){return isFinite(t)?+("1e"+t):t<0?0:t}function tv(t){return(n,e)=>-t(-n,e)}function nv(t){const n=t(Wm,Km),e=n.domain;let r,i,o=10;function a(){return r=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}(o),i=function(t){return 10===t?Jm:t===Math.E?Math.exp:n=>Math.pow(t,n)}(o),e()[0]<0?(r=tv(r),i=tv(i),t(Zm,Qm)):t(Wm,Km),n}return n.base=function(t){return arguments.length?(o=+t,a()):o},n.domain=function(t){return arguments.length?(e(t),a()):e()},n.ticks=t=>{const n=e();let a=n[0],u=n[n.length-1];const c=u<a;c&&([a,u]=[u,a]);let s,f,l=r(a),h=r(u);const d=null==t?10:+t;let p=[];if(!(o%1)&&h-l<d){if(l=Math.floor(l),h=Math.ceil(h),a>0){for(;l<=h;++l)for(s=1;s<o;++s)if(f=l<0?s/i(-l):s*i(l),!(f<a)){if(f>u)break;p.push(f)}}else for(;l<=h;++l)for(s=o-1;s>=1;--s)if(f=l>0?s/i(-l):s*i(l),!(f<a)){if(f>u)break;p.push(f)}2*p.length<d&&(p=ut(a,u,d))}else p=ut(l,h,Math.min(h-l,d)).map(i);return c?p.reverse():p},n.tickFormat=(t,e)=>{if(null==t&&(t=10),null==e&&(e=10===o?"s":","),"function"!=typeof e&&(o%1||null!=(e=sf(e)).precision||(e.trim=!0),e=gf(e)),t===1/0)return e;const a=Math.max(1,o*t/n.ticks().length);return t=>{let n=t/i(Math.round(r(t)));return n*o<o-.5&&(n*=o),n<=a?e(t):""}},n.nice=()=>e(Gm(e(),{floor:t=>i(Math.floor(r(t))),ceil:t=>i(Math.ceil(r(t)))})),n}function ev(){const t=nv(jm()).domain([1,10]);return t.copy=()=>Fm(t,ev()).base(t.base()),Sm.apply(t,arguments),t}function rv(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function iv(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function ov(t){var n=1,e=t(rv(n),iv(n));return e.constant=function(e){return arguments.length?t(rv(n=+e),iv(n)):n},Hm(e)}function av(){var t=ov(jm());return t.copy=function(){return Fm(t,av()).constant(t.constant())},Sm.apply(t,arguments)}function uv(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function cv(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function sv(t){return t<0?-t*t:t*t}function fv(t){var n=t(Bm,Bm),e=1;return n.exponent=function(n){return arguments.length?1==(e=+n)?t(Bm,Bm):.5===e?t(cv,sv):t(uv(e),uv(1/e)):e},Hm(n)}function lv(){var t=fv(jm());return t.copy=function(){return Fm(t,lv()).exponent(t.exponent())},Sm.apply(t,arguments),t}function hv(){return lv.apply(null,arguments).exponent(.5)}function dv(t){return Math.sign(t)*t*t}function pv(){var t,n=qm(),e=[0,1],r=!1;function i(e){var i=function(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}(n(e));return isNaN(i)?t:r?Math.round(i):i}return i.invert=function(t){return n.invert(dv(t))},i.domain=function(t){return arguments.length?(n.domain(t),i):n.domain()},i.range=function(t){return arguments.length?(n.range((e=Array.from(t,Lm)).map(dv)),i):e.slice()},i.rangeRound=function(t){return i.range(t).round(!0)},i.round=function(t){return arguments.length?(r=!!t,i):r},i.clamp=function(t){return arguments.length?(n.clamp(t),i):n.clamp()},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return pv(n.domain(),e).round(r).clamp(n.clamp()).unknown(t)},Sm.apply(i,arguments),Hm(i)}function gv(){var t,n=[],r=[],i=[];function o(){var t=0,e=Math.max(1,r.length);for(i=new Array(e-1);++t<e;)i[t-1]=xt(n,t/e);return a}function a(n){return null==n||isNaN(n=+n)?t:r[l(i,n)]}return a.invertExtent=function(t){var e=r.indexOf(t);return e<0?[NaN,NaN]:[e>0?i[e-1]:n[0],e<i.length?i[e]:n[n.length-1]]},a.domain=function(t){if(!arguments.length)return n.slice();n=[];for(let e of t)null==e||isNaN(e=+e)||n.push(e);return n.sort(e),o()},a.range=function(t){return arguments.length?(r=Array.from(t),o()):r.slice()},a.unknown=function(n){return arguments.length?(t=n,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return gv().domain(n).range(r).unknown(t)},Sm.apply(a,arguments)}function yv(){var t,n=0,e=1,r=1,i=[.5],o=[0,1];function a(n){return null!=n&&n<=n?o[l(i,n,0,r)]:t}function u(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*e-(t-r)*n)/(r+1);return a}return a.domain=function(t){return arguments.length?([n,e]=t,n=+n,e=+e,u()):[n,e]},a.range=function(t){return arguments.length?(r=(o=Array.from(t)).length-1,u()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[n,i[0]]:a>=r?[i[r-1],e]:[i[a-1],i[a]]},a.unknown=function(n){return arguments.length?(t=n,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return yv().domain([n,e]).range(o).unknown(t)},Sm.apply(Hm(a),arguments)}function mv(){var t,n=[.5],e=[0,1],r=1;function i(i){return null!=i&&i<=i?e[l(n,i,0,r)]:t}return i.domain=function(t){return arguments.length?(n=Array.from(t),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(t){return arguments.length?(e=Array.from(t),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return mv().domain(n).range(e).unknown(t)},Sm.apply(i,arguments)}const vv=1e3,bv=6e4,_v=36e5,xv=864e5,wv=6048e5,Mv=31536e6,Ev=new Date,Tv=new Date;function Av(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=n=>(t(n=new Date(+n)),n),i.ceil=e=>(t(e=new Date(e-1)),n(e,1),t(e),e),i.round=t=>{const n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=(t,e)=>(n(t=new Date(+t),null==e?1:Math.floor(e)),t),i.range=(e,r,o)=>{const a=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return a;let u;do{a.push(u=new Date(+e)),n(e,o),t(e)}while(u<e&&e<r);return a},i.filter=e=>Av((n=>{if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})),e&&(i.count=(n,r)=>(Ev.setTime(+n),Tv.setTime(+r),t(Ev),t(Tv),Math.floor(e(Ev,Tv))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?n=>r(n)%t==0:n=>i.count(0,n)%t==0):i:null)),i}const kv=Av((()=>{}),((t,n)=>{t.setTime(+t+n)}),((t,n)=>n-t));kv.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?Av((n=>{n.setTime(Math.floor(n/t)*t)}),((n,e)=>{n.setTime(+n+e*t)}),((n,e)=>(e-n)/t)):kv:null);const Sv=kv.range,Nv=Av((t=>{t.setTime(t-t.getMilliseconds())}),((t,n)=>{t.setTime(+t+n*vv)}),((t,n)=>(n-t)/vv),(t=>t.getUTCSeconds())),Cv=Nv.range,$v=Av((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vv)}),((t,n)=>{t.setTime(+t+n*bv)}),((t,n)=>(n-t)/bv),(t=>t.getMinutes())),Pv=$v.range,zv=Av((t=>{t.setUTCSeconds(0,0)}),((t,n)=>{t.setTime(+t+n*bv)}),((t,n)=>(n-t)/bv),(t=>t.getUTCMinutes())),Iv=zv.range,Lv=Av((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vv-t.getMinutes()*bv)}),((t,n)=>{t.setTime(+t+n*_v)}),((t,n)=>(n-t)/_v),(t=>t.getHours())),Rv=Lv.range,Bv=Av((t=>{t.setUTCMinutes(0,0,0)}),((t,n)=>{t.setTime(+t+n*_v)}),((t,n)=>(n-t)/_v),(t=>t.getUTCHours())),Ov=Bv.range,Dv=Av((t=>t.setHours(0,0,0,0)),((t,n)=>t.setDate(t.getDate()+n)),((t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*bv)/xv),(t=>t.getDate()-1)),Uv=Dv.range,Fv=Av((t=>{t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCDate(t.getUTCDate()+n)}),((t,n)=>(n-t)/xv),(t=>t.getUTCDate()-1)),jv=Fv.range,qv=Av((t=>{t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCDate(t.getUTCDate()+n)}),((t,n)=>(n-t)/xv),(t=>Math.floor(t/xv))),Yv=qv.range;function Hv(t){return Av((n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),((t,n)=>{t.setDate(t.getDate()+7*n)}),((t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*bv)/wv))}const Vv=Hv(0),Xv=Hv(1),Gv=Hv(2),Wv=Hv(3),Kv=Hv(4),Zv=Hv(5),Qv=Hv(6),Jv=Vv.range,tb=Xv.range,nb=Gv.range,eb=Wv.range,rb=Kv.range,ib=Zv.range,ob=Qv.range;function ab(t){return Av((n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCDate(t.getUTCDate()+7*n)}),((t,n)=>(n-t)/wv))}const ub=ab(0),cb=ab(1),sb=ab(2),fb=ab(3),lb=ab(4),hb=ab(5),db=ab(6),pb=ub.range,gb=cb.range,yb=sb.range,mb=fb.range,vb=lb.range,bb=hb.range,_b=db.range,xb=Av((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,n)=>{t.setMonth(t.getMonth()+n)}),((t,n)=>n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())),(t=>t.getMonth())),wb=xb.range,Mb=Av((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)}),((t,n)=>n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth())),Eb=Mb.range,Tb=Av((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n)}),((t,n)=>n.getFullYear()-t.getFullYear()),(t=>t.getFullYear()));Tb.every=t=>isFinite(t=Math.floor(t))&&t>0?Av((n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),((n,e)=>{n.setFullYear(n.getFullYear()+e*t)})):null;const Ab=Tb.range,kb=Av((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)}),((t,n)=>n.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));kb.every=t=>isFinite(t=Math.floor(t))&&t>0?Av((n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),((n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null;const Sb=kb.range;function Nb(t,n,e,r,o,a){const u=[[Nv,1,vv],[Nv,5,5e3],[Nv,15,15e3],[Nv,30,3e4],[a,1,bv],[a,5,3e5],[a,15,9e5],[a,30,18e5],[o,1,_v],[o,3,108e5],[o,6,216e5],[o,12,432e5],[r,1,xv],[r,2,1728e5],[e,1,wv],[n,1,2592e6],[n,3,7776e6],[t,1,Mv]];function c(n,e,r){const o=Math.abs(e-n)/r,a=i((([,,t])=>t)).right(u,o);if(a===u.length)return t.every(st(n/Mv,e/Mv,r));if(0===a)return kv.every(Math.max(st(n,e,r),1));const[c,s]=u[o/u[a-1][2]<u[a][2]/o?a-1:a];return c.every(s)}return[function(t,n,e){const r=n<t;r&&([t,n]=[n,t]);const i=e&&"function"==typeof e.range?e:c(t,n,e),o=i?i.range(t,+n+1):[];return r?o.reverse():o},c]}const[Cb,$b]=Nb(kb,Mb,ub,qv,Bv,zv),[Pb,zb]=Nb(Tb,xb,Vv,Dv,Lv,$v);function Ib(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Lb(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Rb(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function Bb(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,c=t.shortMonths,s=Wb(i),f=Kb(i),l=Wb(o),h=Kb(o),d=Wb(a),p=Kb(a),g=Wb(u),y=Kb(u),m=Wb(c),v=Kb(c),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:m_,e:m_,f:w_,g:z_,G:L_,H:v_,I:b_,j:__,L:x_,m:M_,M:E_,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:ix,s:ox,S:T_,u:A_,U:k_,V:N_,w:C_,W:$_,x:null,X:null,y:P_,Y:I_,Z:R_,"%":rx},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:B_,e:B_,f:j_,g:J_,G:nx,H:O_,I:D_,j:U_,L:F_,m:q_,M:Y_,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:ix,s:ox,S:H_,u:V_,U:X_,V:W_,w:K_,W:Z_,x:null,X:null,y:Q_,Y:tx,Z:ex,"%":rx},x={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(t,n,e){var r=l.exec(n.slice(e));return r?(t.w=h.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(t,n,e){var r=m.exec(n.slice(e));return r?(t.m=v.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=y.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(t,e,r){return E(t,n,e,r)},d:u_,e:u_,f:d_,g:r_,G:e_,H:s_,I:s_,j:c_,L:h_,m:a_,M:f_,p:function(t,n,e){var r=s.exec(n.slice(e));return r?(t.p=f.get(r[0].toLowerCase()),e+r[0].length):-1},q:o_,Q:g_,s:y_,S:l_,u:Qb,U:Jb,V:t_,w:Zb,W:n_,x:function(t,n,r){return E(t,e,n,r)},X:function(t,n,e){return E(t,r,n,e)},y:r_,Y:e_,Z:i_,"%":p_};function w(t,n){return function(e){var r,i,o,a=[],u=-1,c=0,s=t.length;for(e instanceof Date||(e=new Date(+e));++u<s;)37===t.charCodeAt(u)&&(a.push(t.slice(c,u)),null!=(i=qb[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),a.push(r),c=u+1);return a.push(t.slice(c,u)),a.join("")}}function M(t,n){return function(e){var r,i,o=Rb(1900,void 0,1);if(E(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(n&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Lb(Rb(o.y,0,1))).getUTCDay(),r=i>4||0===i?cb.ceil(r):cb(r),r=Fv.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Ib(Rb(o.y,0,1))).getDay(),r=i>4||0===i?Xv.ceil(r):Xv(r),r=Dv.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Lb(Rb(o.y,0,1)).getUTCDay():Ib(Rb(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Lb(o)):Ib(o)}}function E(t,n,e,r){for(var i,o,a=0,u=n.length,c=e.length;a<u;){if(r>=c)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=x[i in qb?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return b.x=w(e,b),b.X=w(r,b),b.c=w(n,b),_.x=w(e,_),_.X=w(r,_),_.c=w(n,_),{format:function(t){var n=w(t+="",b);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",_);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t+="",!0);return n.toString=function(){return t},n}}}var Ob,Db,Ub,Fb,jb,qb={"-":"",_:" ",0:"0"},Yb=/^\s*\d+/,Hb=/^%/,Vb=/[\\^$*+?|[\]().{}]/g;function Xb(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Gb(t){return t.replace(Vb,"\\$&")}function Wb(t){return new RegExp("^(?:"+t.map(Gb).join("|")+")","i")}function Kb(t){return new Map(t.map(((t,n)=>[t.toLowerCase(),n])))}function Zb(t,n,e){var r=Yb.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Qb(t,n,e){var r=Yb.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Jb(t,n,e){var r=Yb.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function t_(t,n,e){var r=Yb.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function n_(t,n,e){var r=Yb.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function e_(t,n,e){var r=Yb.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function r_(t,n,e){var r=Yb.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function i_(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function o_(t,n,e){var r=Yb.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function a_(t,n,e){var r=Yb.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function u_(t,n,e){var r=Yb.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function c_(t,n,e){var r=Yb.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function s_(t,n,e){var r=Yb.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function f_(t,n,e){var r=Yb.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function l_(t,n,e){var r=Yb.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function h_(t,n,e){var r=Yb.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function d_(t,n,e){var r=Yb.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function p_(t,n,e){var r=Hb.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function g_(t,n,e){var r=Yb.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function y_(t,n,e){var r=Yb.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function m_(t,n){return Xb(t.getDate(),n,2)}function v_(t,n){return Xb(t.getHours(),n,2)}function b_(t,n){return Xb(t.getHours()%12||12,n,2)}function __(t,n){return Xb(1+Dv.count(Tb(t),t),n,3)}function x_(t,n){return Xb(t.getMilliseconds(),n,3)}function w_(t,n){return x_(t,n)+"000"}function M_(t,n){return Xb(t.getMonth()+1,n,2)}function E_(t,n){return Xb(t.getMinutes(),n,2)}function T_(t,n){return Xb(t.getSeconds(),n,2)}function A_(t){var n=t.getDay();return 0===n?7:n}function k_(t,n){return Xb(Vv.count(Tb(t)-1,t),n,2)}function S_(t){var n=t.getDay();return n>=4||0===n?Kv(t):Kv.ceil(t)}function N_(t,n){return t=S_(t),Xb(Kv.count(Tb(t),t)+(4===Tb(t).getDay()),n,2)}function C_(t){return t.getDay()}function $_(t,n){return Xb(Xv.count(Tb(t)-1,t),n,2)}function P_(t,n){return Xb(t.getFullYear()%100,n,2)}function z_(t,n){return Xb((t=S_(t)).getFullYear()%100,n,2)}function I_(t,n){return Xb(t.getFullYear()%1e4,n,4)}function L_(t,n){var e=t.getDay();return Xb((t=e>=4||0===e?Kv(t):Kv.ceil(t)).getFullYear()%1e4,n,4)}function R_(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Xb(n/60|0,"0",2)+Xb(n%60,"0",2)}function B_(t,n){return Xb(t.getUTCDate(),n,2)}function O_(t,n){return Xb(t.getUTCHours(),n,2)}function D_(t,n){return Xb(t.getUTCHours()%12||12,n,2)}function U_(t,n){return Xb(1+Fv.count(kb(t),t),n,3)}function F_(t,n){return Xb(t.getUTCMilliseconds(),n,3)}function j_(t,n){return F_(t,n)+"000"}function q_(t,n){return Xb(t.getUTCMonth()+1,n,2)}function Y_(t,n){return Xb(t.getUTCMinutes(),n,2)}function H_(t,n){return Xb(t.getUTCSeconds(),n,2)}function V_(t){var n=t.getUTCDay();return 0===n?7:n}function X_(t,n){return Xb(ub.count(kb(t)-1,t),n,2)}function G_(t){var n=t.getUTCDay();return n>=4||0===n?lb(t):lb.ceil(t)}function W_(t,n){return t=G_(t),Xb(lb.count(kb(t),t)+(4===kb(t).getUTCDay()),n,2)}function K_(t){return t.getUTCDay()}function Z_(t,n){return Xb(cb.count(kb(t)-1,t),n,2)}function Q_(t,n){return Xb(t.getUTCFullYear()%100,n,2)}function J_(t,n){return Xb((t=G_(t)).getUTCFullYear()%100,n,2)}function tx(t,n){return Xb(t.getUTCFullYear()%1e4,n,4)}function nx(t,n){var e=t.getUTCDay();return Xb((t=e>=4||0===e?lb(t):lb.ceil(t)).getUTCFullYear()%1e4,n,4)}function ex(){return"+0000"}function rx(){return"%"}function ix(t){return+t}function ox(t){return Math.floor(+t/1e3)}function ax(t){return Ob=Bb(t),Db=Ob.format,Ub=Ob.parse,Fb=Ob.utcFormat,jb=Ob.utcParse,Ob}function ux(t){return new Date(t)}function cx(t){return t instanceof Date?+t:+new Date(+t)}function sx(t,n,e,r,i,o,a,u,c,s){var f=qm(),l=f.invert,h=f.domain,d=s(".%L"),p=s(":%S"),g=s("%I:%M"),y=s("%I %p"),m=s("%a %d"),v=s("%b %d"),b=s("%B"),_=s("%Y");function x(t){return(c(t)<t?d:u(t)<t?p:a(t)<t?g:o(t)<t?y:r(t)<t?i(t)<t?m:v:e(t)<t?b:_)(t)}return f.invert=function(t){return new Date(l(t))},f.domain=function(t){return arguments.length?h(Array.from(t,cx)):h().map(ux)},f.ticks=function(n){var e=h();return t(e[0],e[e.length-1],null==n?10:n)},f.tickFormat=function(t,n){return null==n?x:s(n)},f.nice=function(t){var e=h();return t&&"function"==typeof t.range||(t=n(e[0],e[e.length-1],null==t?10:t)),t?h(Gm(e,t)):f},f.copy=function(){return Fm(f,sx(t,n,e,r,i,o,a,u,c,s))},f}function fx(){return Sm.apply(sx(Pb,zb,Tb,xb,Vv,Dv,Lv,$v,Nv,Db).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lx(){return Sm.apply(sx(Cb,$b,kb,Mb,ub,Fv,Bv,zv,Nv,Fb).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function hx(){var t,n,e,r,i,o=0,a=1,u=Bm,c=!1;function s(n){return null==n||isNaN(n=+n)?i:u(0===e?.5:(n=(r(n)-t)*e,c?Math.max(0,Math.min(1,n)):n))}function f(t){return function(n){var e,r;return arguments.length?([e,r]=n,u=t(e,r),s):[u(0),u(1)]}}return s.domain=function(i){return arguments.length?([o,a]=i,t=r(o=+o),n=r(a=+a),e=t===n?0:1/(n-t),s):[o,a]},s.clamp=function(t){return arguments.length?(c=!!t,s):c},s.interpolator=function(t){return arguments.length?(u=t,s):u},s.range=f(Kr),s.rangeRound=f(By),s.unknown=function(t){return arguments.length?(i=t,s):i},function(i){return r=i,t=i(o),n=i(a),e=t===n?0:1/(n-t),s}}function dx(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function px(){var t=Hm(hx()(Bm));return t.copy=function(){return dx(t,px())},Nm.apply(t,arguments)}function gx(){var t=nv(hx()).domain([1,10]);return t.copy=function(){return dx(t,gx()).base(t.base())},Nm.apply(t,arguments)}function yx(){var t=ov(hx());return t.copy=function(){return dx(t,yx()).constant(t.constant())},Nm.apply(t,arguments)}function mx(){var t=fv(hx());return t.copy=function(){return dx(t,mx()).exponent(t.exponent())},Nm.apply(t,arguments)}function vx(){return mx.apply(null,arguments).exponent(.5)}function bx(){var t=[],n=Bm;function r(e){if(null!=e&&!isNaN(e=+e))return n((l(t,e,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let e of n)null==e||isNaN(e=+e)||t.push(e);return t.sort(e),r},r.interpolator=function(t){return arguments.length?(n=t,r):n},r.range=function(){return t.map(((e,r)=>n(r/(t.length-1))))},r.quantiles=function(n){return Array.from({length:n+1},((e,r)=>_t(t,r/n)))},r.copy=function(){return bx(n).domain(t)},Nm.apply(r,arguments)}function _x(){var t,n,e,r,i,o,a,u=0,c=.5,s=1,f=1,l=Bm,h=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-n)*(f*t<f*n?r:i),l(h?Math.max(0,Math.min(1,t)):t))}function p(t){return function(n){var e,r,i;return arguments.length?([e,r,i]=n,l=Ky(t,[e,r,i]),d):[l(0),l(.5),l(1)]}}return d.domain=function(a){return arguments.length?([u,c,s]=a,t=o(u=+u),n=o(c=+c),e=o(s=+s),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),f=n<t?-1:1,d):[u,c,s]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(l=t,d):l},d.range=p(Kr),d.rangeRound=p(By),d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return o=a,t=a(u),n=a(c),e=a(s),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),f=n<t?-1:1,d}}function xx(){var t=Hm(_x()(Bm));return t.copy=function(){return dx(t,xx())},Nm.apply(t,arguments)}function wx(){var t=nv(_x()).domain([.1,1,10]);return t.copy=function(){return dx(t,wx()).base(t.base())},Nm.apply(t,arguments)}function Mx(){var t=ov(_x());return t.copy=function(){return dx(t,Mx()).constant(t.constant())},Nm.apply(t,arguments)}function Ex(){var t=fv(_x());return t.copy=function(){return dx(t,Ex()).exponent(t.exponent())},Nm.apply(t,arguments)}function Tx(){return Ex.apply(null,arguments).exponent(.5)}function Ax(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}ax({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const kx=Ax("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Sx=Ax("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Nx=Ax("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Cx=Ax("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),$x=Ax("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Px=Ax("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),zx=Ax("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Ix=Ax("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Lx=Ax("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Rx=Ax("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Bx=Ax("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Ox=t=>Or(t[t.length-1]);var Dx=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Ax);const Ux=Ox(Dx);var Fx=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Ax);const jx=Ox(Fx);var qx=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Ax);const Yx=Ox(qx);var Hx=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Ax);const Vx=Ox(Hx);var Xx=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Ax);const Gx=Ox(Xx);var Wx=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Ax);const Kx=Ox(Wx);var Zx=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Ax);const Qx=Ox(Zx);var Jx=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Ax);const tw=Ox(Jx);var nw=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Ax);const ew=Ox(nw);var rw=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Ax);const iw=Ox(rw);var ow=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Ax);const aw=Ox(ow);var uw=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Ax);const cw=Ox(uw);var sw=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Ax);const fw=Ox(sw);var lw=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Ax);const hw=Ox(lw);var dw=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Ax);const pw=Ox(dw);var gw=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Ax);const yw=Ox(gw);var mw=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Ax);const vw=Ox(mw);var bw=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Ax);const _w=Ox(bw);var xw=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Ax);const ww=Ox(xw);var Mw=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Ax);const Ew=Ox(Mw);var Tw=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Ax);const Aw=Ox(Tw);var kw=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Ax);const Sw=Ox(kw);var Nw=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Ax);const Cw=Ox(Nw);var $w=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Ax);const Pw=Ox($w);var zw=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Ax);const Iw=Ox(zw);var Lw=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Ax);const Rw=Ox(Lw);var Bw=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Ax);const Ow=Ox(Bw);function Dw(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}const Uw=Wy(Qa(300,.5,0),Qa(-240,.5,1));var Fw=Wy(Qa(-100,.75,.35),Qa(80,1.5,.8)),jw=Wy(Qa(260,.75,.35),Qa(80,1.5,.8)),qw=Qa();function Yw(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return qw.h=360*t-100,qw.s=1.5-1.5*n,qw.l=.8-.9*n,qw+""}var Hw=gr(),Vw=Math.PI/3,Xw=2*Math.PI/3;function Gw(t){var n;return t=(.5-t)*Math.PI,Hw.r=255*(n=Math.sin(t))*n,Hw.g=255*(n=Math.sin(t+Vw))*n,Hw.b=255*(n=Math.sin(t+Xw))*n,Hw+""}function Ww(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function Kw(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}const Zw=Kw(Ax("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Qw=Kw(Ax("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Jw=Kw(Ax("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),tM=Kw(Ax("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function nM(t){return Ue(Ae(t).call(document.documentElement))}var eM=0;function rM(){return new iM}function iM(){this._="@"+(++eM).toString(36)}function oM(t,n){return t.target&&(t=Zr(t),void 0===n&&(n=t.currentTarget),t=t.touches||[t]),Array.from(t,(t=>Qr(t,n)))}function aM(t){return"string"==typeof t?new Be([document.querySelectorAll(t)],[document.documentElement]):new Be([Nn(t)],Re)}function uM(t){return function(){return t}}iM.prototype=rM.prototype={constructor:iM,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};const cM=Math.abs,sM=Math.atan2,fM=Math.cos,lM=Math.max,hM=Math.min,dM=Math.sin,pM=Math.sqrt,gM=1e-12,yM=Math.PI,mM=yM/2,vM=2*yM;function bM(t){return t>=1?mM:t<=-1?-mM:Math.asin(t)}function _M(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(null==e)n=null;else{const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);n=t}return t},()=>new ua(n)}function xM(t){return t.innerRadius}function wM(t){return t.outerRadius}function MM(t){return t.startAngle}function EM(t){return t.endAngle}function TM(t){return t&&t.padAngle}function AM(t,n,e,r,i,o,a){var u=t-e,c=n-r,s=(a?o:-o)/pM(u*u+c*c),f=s*c,l=-s*u,h=t+f,d=n+l,p=e+f,g=r+l,y=(h+p)/2,m=(d+g)/2,v=p-h,b=g-d,_=v*v+b*b,x=i-o,w=h*g-p*d,M=(b<0?-1:1)*pM(lM(0,x*x*_-w*w)),E=(w*b-v*M)/_,T=(-w*v-b*M)/_,A=(w*b+v*M)/_,k=(-w*v+b*M)/_,S=E-y,N=T-m,C=A-y,$=k-m;return S*S+N*N>C*C+$*$&&(E=A,T=k),{cx:E,cy:T,x01:-f,y01:-l,x11:E*(i/x-1),y11:T*(i/x-1)}}function kM(){var t=xM,n=wM,e=uM(0),r=null,i=MM,o=EM,a=TM,u=null,c=_M(s);function s(){var s,f,l,h=+t.apply(this,arguments),d=+n.apply(this,arguments),p=i.apply(this,arguments)-mM,g=o.apply(this,arguments)-mM,y=cM(g-p),m=g>p;if(u||(u=s=c()),d<h&&(f=d,d=h,h=f),d>gM)if(y>vM-gM)u.moveTo(d*fM(p),d*dM(p)),u.arc(0,0,d,p,g,!m),h>gM&&(u.moveTo(h*fM(g),h*dM(g)),u.arc(0,0,h,g,p,m));else{var v,b,_=p,x=g,w=p,M=g,E=y,T=y,A=a.apply(this,arguments)/2,k=A>gM&&(r?+r.apply(this,arguments):pM(h*h+d*d)),S=hM(cM(d-h)/2,+e.apply(this,arguments)),N=S,C=S;if(k>gM){var $=bM(k/h*dM(A)),P=bM(k/d*dM(A));(E-=2*$)>gM?(w+=$*=m?1:-1,M-=$):(E=0,w=M=(p+g)/2),(T-=2*P)>gM?(_+=P*=m?1:-1,x-=P):(T=0,_=x=(p+g)/2)}var z=d*fM(_),I=d*dM(_),L=h*fM(M),R=h*dM(M);if(S>gM){var B,O=d*fM(x),D=d*dM(x),U=h*fM(w),F=h*dM(w);if(y<yM)if(B=function(t,n,e,r,i,o,a,u){var c=e-t,s=r-n,f=a-i,l=u-o,h=l*c-f*s;if(!(h*h<gM))return[t+(h=(f*(n-o)-l*(t-i))/h)*c,n+h*s]}(z,I,U,F,O,D,L,R)){var j=z-B[0],q=I-B[1],Y=O-B[0],H=D-B[1],V=1/dM(((l=(j*Y+q*H)/(pM(j*j+q*q)*pM(Y*Y+H*H)))>1?0:l<-1?yM:Math.acos(l))/2),X=pM(B[0]*B[0]+B[1]*B[1]);N=hM(S,(h-X)/(V-1)),C=hM(S,(d-X)/(V+1))}else N=C=0}T>gM?C>gM?(v=AM(U,F,z,I,d,C,m),b=AM(O,D,L,R,d,C,m),u.moveTo(v.cx+v.x01,v.cy+v.y01),C<S?u.arc(v.cx,v.cy,C,sM(v.y01,v.x01),sM(b.y01,b.x01),!m):(u.arc(v.cx,v.cy,C,sM(v.y01,v.x01),sM(v.y11,v.x11),!m),u.arc(0,0,d,sM(v.cy+v.y11,v.cx+v.x11),sM(b.cy+b.y11,b.cx+b.x11),!m),u.arc(b.cx,b.cy,C,sM(b.y11,b.x11),sM(b.y01,b.x01),!m))):(u.moveTo(z,I),u.arc(0,0,d,_,x,!m)):u.moveTo(z,I),h>gM&&E>gM?N>gM?(v=AM(L,R,O,D,h,-N,m),b=AM(z,I,U,F,h,-N,m),u.lineTo(v.cx+v.x01,v.cy+v.y01),N<S?u.arc(v.cx,v.cy,N,sM(v.y01,v.x01),sM(b.y01,b.x01),!m):(u.arc(v.cx,v.cy,N,sM(v.y01,v.x01),sM(v.y11,v.x11),!m),u.arc(0,0,h,sM(v.cy+v.y11,v.cx+v.x11),sM(b.cy+b.y11,b.cx+b.x11),m),u.arc(b.cx,b.cy,N,sM(b.y11,b.x11),sM(b.y01,b.x01),!m))):u.arc(0,0,h,M,w,m):u.lineTo(L,R)}else u.moveTo(0,0);if(u.closePath(),s)return u=null,s+""||null}return s.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-yM/2;return[fM(r)*e,dM(r)*e]},s.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:uM(+n),s):t},s.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:uM(+t),s):n},s.cornerRadius=function(t){return arguments.length?(e="function"==typeof t?t:uM(+t),s):e},s.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:uM(+t),s):r},s.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:uM(+t),s):i},s.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:uM(+t),s):o},s.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:uM(+t),s):a},s.context=function(t){return arguments.length?(u=null==t?null:t,s):u},s}var SM=Array.prototype.slice;function NM(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function CM(t){this._context=t}function $M(t){return new CM(t)}function PM(t){return t[0]}function zM(t){return t[1]}function IM(t,n){var e=uM(!0),r=null,i=$M,o=null,a=_M(u);function u(u){var c,s,f,l=(u=NM(u)).length,h=!1;for(null==r&&(o=i(f=a())),c=0;c<=l;++c)!(c<l&&e(s=u[c],c,u))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(s,c,u),+n(s,c,u));if(f)return o=null,f+""||null}return t="function"==typeof t?t:void 0===t?PM:uM(t),n="function"==typeof n?n:void 0===n?zM:uM(n),u.x=function(n){return arguments.length?(t="function"==typeof n?n:uM(+n),u):t},u.y=function(t){return arguments.length?(n="function"==typeof t?t:uM(+t),u):n},u.defined=function(t){return arguments.length?(e="function"==typeof t?t:uM(!!t),u):e},u.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),u):i},u.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),u):r},u}function LM(t,n,e){var r=null,i=uM(!0),o=null,a=$M,u=null,c=_M(s);function s(s){var f,l,h,d,p,g=(s=NM(s)).length,y=!1,m=new Array(g),v=new Array(g);for(null==o&&(u=a(p=c())),f=0;f<=g;++f){if(!(f<g&&i(d=s[f],f,s))===y)if(y=!y)l=f,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),h=f-1;h>=l;--h)u.point(m[h],v[h]);u.lineEnd(),u.areaEnd()}y&&(m[f]=+t(d,f,s),v[f]=+n(d,f,s),u.point(r?+r(d,f,s):m[f],e?+e(d,f,s):v[f]))}if(p)return u=null,p+""||null}function f(){return IM().defined(i).curve(a).context(o)}return t="function"==typeof t?t:void 0===t?PM:uM(+t),n="function"==typeof n?n:uM(void 0===n?0:+n),e="function"==typeof e?e:void 0===e?zM:uM(+e),s.x=function(n){return arguments.length?(t="function"==typeof n?n:uM(+n),r=null,s):t},s.x0=function(n){return arguments.length?(t="function"==typeof n?n:uM(+n),s):t},s.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:uM(+t),s):r},s.y=function(t){return arguments.length?(n="function"==typeof t?t:uM(+t),e=null,s):n},s.y0=function(t){return arguments.length?(n="function"==typeof t?t:uM(+t),s):n},s.y1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:uM(+t),s):e},s.lineX0=s.lineY0=function(){return f().x(t).y(n)},s.lineY1=function(){return f().x(t).y(e)},s.lineX1=function(){return f().x(r).y(n)},s.defined=function(t){return arguments.length?(i="function"==typeof t?t:uM(!!t),s):i},s.curve=function(t){return arguments.length?(a=t,null!=o&&(u=a(o)),s):a},s.context=function(t){return arguments.length?(null==t?o=u=null:u=a(o=t),s):o},s}function RM(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function BM(t){return t}function OM(){var t=BM,n=RM,e=null,r=uM(0),i=uM(vM),o=uM(0);function a(a){var u,c,s,f,l,h=(a=NM(a)).length,d=0,p=new Array(h),g=new Array(h),y=+r.apply(this,arguments),m=Math.min(vM,Math.max(-vM,i.apply(this,arguments)-y)),v=Math.min(Math.abs(m)/h,o.apply(this,arguments)),b=v*(m<0?-1:1);for(u=0;u<h;++u)(l=g[p[u]=u]=+t(a[u],u,a))>0&&(d+=l);for(null!=n?p.sort((function(t,e){return n(g[t],g[e])})):null!=e&&p.sort((function(t,n){return e(a[t],a[n])})),u=0,s=d?(m-h*b)/d:0;u<h;++u,y=f)c=p[u],f=y+((l=g[c])>0?l*s:0)+b,g[c]={data:a[c],index:u,value:l,startAngle:y,endAngle:f,padAngle:v};return g}return a.value=function(n){return arguments.length?(t="function"==typeof n?n:uM(+n),a):t},a.sortValues=function(t){return arguments.length?(n=t,e=null,a):n},a.sort=function(t){return arguments.length?(e=t,n=null,a):e},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:uM(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:uM(+t),a):i},a.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:uM(+t),a):o},a}CM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var DM=FM($M);function UM(t){this._curve=t}function FM(t){function n(n){return new UM(t(n))}return n._curve=t,n}function jM(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(FM(t)):n()._curve},t}function qM(){return jM(IM().curve(DM))}function YM(){var t=LM().curve(DM),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return jM(e())},delete t.lineX0,t.lineEndAngle=function(){return jM(r())},delete t.lineX1,t.lineInnerRadius=function(){return jM(i())},delete t.lineY0,t.lineOuterRadius=function(){return jM(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(FM(t)):n()._curve},t}function HM(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}UM.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};class VM{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n)}this._x0=t,this._y0=n}}class XM{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,n){if(t=+t,n=+n,0===this._point)this._point=1;else{const e=HM(this._x0,this._y0),r=HM(this._x0,this._y0=(this._y0+n)/2),i=HM(t,this._y0),o=HM(t,n);this._context.moveTo(...e),this._context.bezierCurveTo(...r,...i,...o)}this._x0=t,this._y0=n}}function GM(t){return new VM(t,!0)}function WM(t){return new VM(t,!1)}function KM(t){return new XM(t)}function ZM(t){return t.source}function QM(t){return t.target}function JM(t){let n=ZM,e=QM,r=PM,i=zM,o=null,a=null,u=_M(c);function c(){let c;const s=SM.call(arguments),f=n.apply(this,s),l=e.apply(this,s);if(null==o&&(a=t(c=u())),a.lineStart(),s[0]=f,a.point(+r.apply(this,s),+i.apply(this,s)),s[0]=l,a.point(+r.apply(this,s),+i.apply(this,s)),a.lineEnd(),c)return a=null,c+""||null}return c.source=function(t){return arguments.length?(n=t,c):n},c.target=function(t){return arguments.length?(e=t,c):e},c.x=function(t){return arguments.length?(r="function"==typeof t?t:uM(+t),c):r},c.y=function(t){return arguments.length?(i="function"==typeof t?t:uM(+t),c):i},c.context=function(n){return arguments.length?(null==n?o=a=null:a=t(o=n),c):o},c}function tE(){return JM(GM)}function nE(){return JM(WM)}function eE(){const t=JM(KM);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const rE=pM(3),iE={draw(t,n){const e=.59436*pM(n+hM(n/28,.75)),r=e/2,i=r*rE;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},oE={draw(t,n){const e=pM(n/yM);t.moveTo(e,0),t.arc(0,0,e,0,vM)}},aE={draw(t,n){const e=pM(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},uE=pM(1/3),cE=2*uE,sE={draw(t,n){const e=pM(n/cE),r=e*uE;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},fE={draw(t,n){const e=.62625*pM(n);t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},lE={draw(t,n){const e=.87559*pM(n-hM(n/7,2));t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},hE={draw(t,n){const e=pM(n),r=-e/2;t.rect(r,r,e,e)}},dE={draw(t,n){const e=.4431*pM(n);t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}},pE=dM(yM/10)/dM(7*yM/10),gE=dM(vM/10)*pE,yE=-fM(vM/10)*pE,mE={draw(t,n){const e=pM(.8908130915292852*n),r=gE*e,i=yE*e;t.moveTo(0,-e),t.lineTo(r,i);for(let n=1;n<5;++n){const o=vM*n/5,a=fM(o),u=dM(o);t.lineTo(u*e,-a*e),t.lineTo(a*r-u*i,u*r+a*i)}t.closePath()}},vE=pM(3),bE={draw(t,n){const e=-pM(n/(3*vE));t.moveTo(0,2*e),t.lineTo(-vE*e,-e),t.lineTo(vE*e,-e),t.closePath()}},_E=pM(3),xE={draw(t,n){const e=.6824*pM(n),r=e/2,i=e*_E/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},wE=-.5,ME=pM(3)/2,EE=1/pM(12),TE=3*(EE/2+1),AE={draw(t,n){const e=pM(n/TE),r=e/2,i=e*EE,o=r,a=e*EE+e,u=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,c),t.lineTo(wE*r-ME*i,ME*r+wE*i),t.lineTo(wE*o-ME*a,ME*o+wE*a),t.lineTo(wE*u-ME*c,ME*u+wE*c),t.lineTo(wE*r+ME*i,wE*i-ME*r),t.lineTo(wE*o+ME*a,wE*a-ME*o),t.lineTo(wE*u+ME*c,wE*c-ME*u),t.closePath()}},kE={draw(t,n){const e=.6189*pM(n-hM(n/6,1.7));t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}},SE=[oE,aE,sE,hE,mE,bE,AE],NE=[oE,lE,kE,xE,iE,dE,fE];function CE(t,n){let e=null,r=_M(i);function i(){let i;if(e||(e=i=r()),t.apply(this,arguments).draw(e,+n.apply(this,arguments)),i)return e=null,i+""||null}return t="function"==typeof t?t:uM(t||oE),n="function"==typeof n?n:uM(void 0===n?64:+n),i.type=function(n){return arguments.length?(t="function"==typeof n?n:uM(n),i):t},i.size=function(t){return arguments.length?(n="function"==typeof t?t:uM(+t),i):n},i.context=function(t){return arguments.length?(e=null==t?null:t,i):e},i}function $E(){}function PE(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function zE(t){this._context=t}function IE(t){return new zE(t)}function LE(t){this._context=t}function RE(t){return new LE(t)}function BE(t){this._context=t}function OE(t){return new BE(t)}function DE(t,n){this._basis=new zE(t),this._beta=n}zE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:PE(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:PE(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},LE.prototype={areaStart:$E,areaEnd:$E,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:PE(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},BE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:PE(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},DE.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],a=t[e]-i,u=n[e]-o,c=-1;++c<=e;)r=c/e,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*a),this._beta*n[c]+(1-this._beta)*(o+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};const UE=function t(n){function e(t){return 1===n?new zE(t):new DE(t,n)}return e.beta=function(n){return t(+n)},e}(.85);function FE(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function jE(t,n){this._context=t,this._k=(1-n)/6}jE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:FE(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:FE(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const qE=function t(n){function e(t){return new jE(t,n)}return e.tension=function(n){return t(+n)},e}(0);function YE(t,n){this._context=t,this._k=(1-n)/6}YE.prototype={areaStart:$E,areaEnd:$E,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:FE(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const HE=function t(n){function e(t){return new YE(t,n)}return e.tension=function(n){return t(+n)},e}(0);function VE(t,n){this._context=t,this._k=(1-n)/6}VE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:FE(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const XE=function t(n){function e(t){return new VE(t,n)}return e.tension=function(n){return t(+n)},e}(0);function GE(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>gM){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>gM){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*s+t._x1*t._l23_2a-n*t._l12_2a)/f,a=(a*s+t._y1*t._l23_2a-e*t._l12_2a)/f}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function WE(t,n){this._context=t,this._alpha=n}WE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:GE(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const KE=function t(n){function e(t){return n?new WE(t,n):new jE(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function ZE(t,n){this._context=t,this._alpha=n}ZE.prototype={areaStart:$E,areaEnd:$E,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:GE(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const QE=function t(n){function e(t){return n?new ZE(t,n):new YE(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function JE(t,n){this._context=t,this._alpha=n}JE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:GE(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const tT=function t(n){function e(t){return n?new JE(t,n):new VE(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function nT(t){this._context=t}function eT(t){return new nT(t)}function rT(t){return t<0?-1:1}function iT(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(rT(o)+rT(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function oT(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function aT(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*n,o-u,a-u*e,o,a)}function uT(t){this._context=t}function cT(t){this._context=new sT(t)}function sT(t){this._context=t}function fT(t){return new uT(t)}function lT(t){return new cT(t)}function hT(t){this._context=t}function dT(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,a[n]-=e*a[n-1];for(i[r-1]=a[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function pT(t){return new hT(t)}function gT(t,n){this._context=t,this._t=n}function yT(t){return new gT(t,.5)}function mT(t){return new gT(t,0)}function vT(t){return new gT(t,1)}function bT(t,n){if((i=t.length)>1)for(var e,r,i,o=1,a=t[n[0]],u=a.length;o<i;++o)for(r=a,a=t[n[o]],e=0;e<u;++e)a[e][1]+=a[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]}function _T(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e}function xT(t,n){return t[n]}function wT(t){const n=[];return n.key=t,n}function MT(){var t=uM([]),n=_T,e=bT,r=xT;function i(i){var o,a,u=Array.from(t.apply(this,arguments),wT),c=u.length,s=-1;for(const t of i)for(o=0,++s;o<c;++o)(u[o][s]=[0,+r(t,u[o].key,s,i)]).data=t;for(o=0,a=NM(n(u));o<c;++o)u[a[o]].index=o;return e(u,a),u}return i.keys=function(n){return arguments.length?(t="function"==typeof n?n:uM(Array.from(n)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:uM(+t),i):r},i.order=function(t){return arguments.length?(n=null==t?_T:"function"==typeof t?t:uM(Array.from(t)),i):n},i.offset=function(t){return arguments.length?(e=null==t?bT:t,i):e},i}function ET(t,n){if((r=t.length)>0){for(var e,r,i,o=0,a=t[0].length;o<a;++o){for(i=e=0;e<r;++e)i+=t[e][o][1]||0;if(i)for(e=0;e<r;++e)t[e][o][1]/=i}bT(t,n)}}function TT(t,n){if((u=t.length)>0)for(var e,r,i,o,a,u,c=0,s=t[n[0]].length;c<s;++c)for(o=a=0,e=0;e<u;++e)(i=(r=t[n[e]][c])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)}function AT(t,n){if((e=t.length)>0){for(var e,r=0,i=t[n[0]],o=i.length;r<o;++r){for(var a=0,u=0;a<e;++a)u+=t[a][r][1]||0;i[r][1]+=i[r][0]=-u/2}bT(t,n)}}function kT(t,n){if((i=t.length)>0&&(r=(e=t[n[0]]).length)>0){for(var e,r,i,o=0,a=1;a<r;++a){for(var u=0,c=0,s=0;u<i;++u){for(var f=t[n[u]],l=f[a][1]||0,h=(l-(f[a-1][1]||0))/2,d=0;d<u;++d){var p=t[n[d]];h+=(p[a][1]||0)-(p[a-1][1]||0)}c+=l,s+=h*l}e[a-1][1]+=e[a-1][0]=o,c&&(o-=s/c)}e[a-1][1]+=e[a-1][0]=o,bT(t,n)}}function ST(t){var n=t.map(NT);return _T(t).sort((function(t,e){return n[t]-n[e]}))}function NT(t){for(var n,e=-1,r=0,i=t.length,o=-1/0;++e<i;)(n=+t[e][1])>o&&(o=n,r=e);return r}function CT(t){var n=t.map($T);return _T(t).sort((function(t,e){return n[t]-n[e]}))}function $T(t){for(var n,e=0,r=-1,i=t.length;++r<i;)(n=+t[r][1])&&(e+=n);return e}function PT(t){return CT(t).reverse()}function zT(t){var n,e,r=t.length,i=t.map($T),o=ST(t),a=0,u=0,c=[],s=[];for(n=0;n<r;++n)e=o[n],a<u?(a+=i[e],c.push(e)):(u+=i[e],s.push(e));return s.reverse().concat(c)}function IT(t){return _T(t).reverse()}nT.prototype={areaStart:$E,areaEnd:$E,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},uT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:aT(this,this._t0,oT(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,aT(this,oT(this,e=iT(this,t,n)),e);break;default:aT(this,this._t0,e=iT(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(cT.prototype=Object.create(uT.prototype)).point=function(t,n){uT.prototype.point.call(this,n,t)},sT.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},hT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=dT(t),i=dT(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},gT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};var LT="%Y-%m-%dT%H:%M:%S.%LZ",RT=Date.prototype.toISOString?function(t){return t.toISOString()}:Fb(LT);const BT=RT;var OT=+new Date("2000-01-01T00:00:00.000Z")?function(t){var n=new Date(t);return isNaN(n)?null:n}:jb(LT);const DT=OT;function UT(t,n,e){var r=new li,i=n;return null==n?(r.restart(t,n,e),r):(r._restart=r.restart,r.restart=function(t,n,e){n=+n,e=null==e?si():+e,r._restart((function o(a){a+=i,r._restart(o,i+=n,e),t(a)}),n,e)},r.restart(t,n,e),r)}const FT=t=>()=>t;function jT(t,{sourceEvent:n,target:e,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function qT(t,n,e){this.k=t,this.x=n,this.y=e}qT.prototype={constructor:qT,scale:function(t){return 1===t?this:new qT(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new qT(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var YT=new qT(1,0,0);function HT(t){for(;!t.__zoom;)if(!(t=t.parentNode))return YT;return t.__zoom}function VT(t){t.stopImmediatePropagation()}function XT(t){t.preventDefault(),t.stopImmediatePropagation()}function GT(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function WT(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function KT(){return this.__zoom||YT}function ZT(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function QT(){return navigator.maxTouchPoints||"ontouchstart"in this}function JT(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function tA(){var t,n,e,r=GT,i=WT,o=JT,a=ZT,u=QT,c=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],f=250,l=Dy,h=An("start","zoom","end"),d=0,p=10;function g(t){t.property("__zoom",KT).on("wheel.zoom",w,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",E).filter(u).on("touchstart.zoom",T).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",k).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(t,n){return(n=Math.max(c[0],Math.min(c[1],n)))===t.k?t:new qT(n,t.x,t.y)}function m(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new qT(t.k,r,i)}function v(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function b(t,n,e,r){t.on("start.zoom",(function(){_(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,a=_(t,o).event(r),u=i.apply(t,o),c=null==e?v(u):"function"==typeof e?e.apply(t,o):e,s=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),f=t.__zoom,h="function"==typeof n?n.apply(t,o):n,d=l(f.invert(c).concat(s/f.k),h.invert(c).concat(s/h.k));return function(t){if(1===t)t=h;else{var n=d(t),e=s/n[2];t=new qT(e,c[0]-n[0]*e,c[1]-n[1]*e)}a.zoom(null,t)}}))}function _(t,n,e){return!e&&t.__zooming||new x(t,n)}function x(t,n){this.that=t,this.args=n,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,n),this.taps=0}function w(t,...n){if(r.apply(this,arguments)){var e=_(this,n).event(t),i=this.__zoom,u=Math.max(c[0],Math.min(c[1],i.k*Math.pow(2,a.apply(this,arguments)))),f=Qr(t);if(e.wheel)e.mouse[0][0]===f[0]&&e.mouse[0][1]===f[1]||(e.mouse[1]=i.invert(e.mouse[0]=f)),clearTimeout(e.wheel);else{if(i.k===u)return;e.mouse=[f,i.invert(f)],Si(this),e.start()}XT(t),e.wheel=setTimeout((function(){e.wheel=null,e.end()}),150),e.zoom("mouse",o(m(y(i,u),e.mouse[0],e.mouse[1]),e.extent,s))}}function M(t,...n){if(!e&&r.apply(this,arguments)){var i=t.currentTarget,a=_(this,n,!0).event(t),u=Ue(t.view).on("mousemove.zoom",(function(t){if(XT(t),!a.moved){var n=t.clientX-f,e=t.clientY-l;a.moved=n*n+e*e>d}a.event(t).zoom("mouse",o(m(a.that.__zoom,a.mouse[0]=Qr(t,i),a.mouse[1]),a.extent,s))}),!0).on("mouseup.zoom",(function(t){u.on("mousemove.zoom mouseup.zoom",null),Ve(t.view,a.moved),XT(t),a.event(t).end()}),!0),c=Qr(t,i),f=t.clientX,l=t.clientY;He(t.view),VT(t),a.mouse=[c,this.__zoom.invert(c)],Si(this),a.start()}}function E(t,...n){if(r.apply(this,arguments)){var e=this.__zoom,a=Qr(t.changedTouches?t.changedTouches[0]:t,this),u=e.invert(a),c=e.k*(t.shiftKey?.5:2),l=o(m(y(e,c),a,u),i.apply(this,n),s);XT(t),f>0?Ue(this).transition().duration(f).call(b,l,a,t):Ue(this).call(g.transform,l,a,t)}}function T(e,...i){if(r.apply(this,arguments)){var o,a,u,c,s=e.touches,f=s.length,l=_(this,i,e.changedTouches.length===f).event(e);for(VT(e),a=0;a<f;++a)c=[c=Qr(u=s[a],this),this.__zoom.invert(c),u.identifier],l.touch0?l.touch1||l.touch0[2]===c[2]||(l.touch1=c,l.taps=0):(l.touch0=c,o=!0,l.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(l.taps<2&&(n=c[0],t=setTimeout((function(){t=null}),500)),Si(this),l.start())}}function A(t,...n){if(this.__zooming){var e,r,i,a,u=_(this,n).event(t),c=t.changedTouches,f=c.length;for(XT(t),e=0;e<f;++e)i=Qr(r=c[e],this),u.touch0&&u.touch0[2]===r.identifier?u.touch0[0]=i:u.touch1&&u.touch1[2]===r.identifier&&(u.touch1[0]=i);if(r=u.that.__zoom,u.touch1){var l=u.touch0[0],h=u.touch0[1],d=u.touch1[0],p=u.touch1[1],g=(g=d[0]-l[0])*g+(g=d[1]-l[1])*g,v=(v=p[0]-h[0])*v+(v=p[1]-h[1])*v;r=y(r,Math.sqrt(g/v)),i=[(l[0]+d[0])/2,(l[1]+d[1])/2],a=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!u.touch0)return;i=u.touch0[0],a=u.touch0[1]}u.zoom("touch",o(m(r,i,a),u.extent,s))}}function k(t,...r){if(this.__zooming){var i,o,a=_(this,r).event(t),u=t.changedTouches,c=u.length;for(VT(t),e&&clearTimeout(e),e=setTimeout((function(){e=null}),500),i=0;i<c;++i)o=u[i],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(o=Qr(o,this),Math.hypot(n[0]-o[0],n[1]-o[1])<p)){var s=Ue(this).on("dblclick.zoom");s&&s.apply(this,arguments)}}}return g.transform=function(t,n,e,r){var i=t.selection?t.selection():t;i.property("__zoom",KT),t!==i?b(t,n,e,r):i.interrupt().each((function(){_(this,arguments).event(r).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()}))},g.scaleBy=function(t,n,e,r){g.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)}),e,r)},g.scaleTo=function(t,n,e,r){g.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,a=null==e?v(t):"function"==typeof e?e.apply(this,arguments):e,u=r.invert(a),c="function"==typeof n?n.apply(this,arguments):n;return o(m(y(r,c),a,u),t,s)}),e,r)},g.translateBy=function(t,n,e,r){g.transform(t,(function(){return o(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),i.apply(this,arguments),s)}),null,r)},g.translateTo=function(t,n,e,r,a){g.transform(t,(function(){var t=i.apply(this,arguments),a=this.__zoom,u=null==r?v(t):"function"==typeof r?r.apply(this,arguments):r;return o(YT.translate(u[0],u[1]).scale(a.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof e?-e.apply(this,arguments):-e),t,s)}),r,a)},x.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var n=Ue(this.that).datum();h.call(t,this.that,new jT(t,{sourceEvent:this.sourceEvent,target:g,type:t,transform:this.that.__zoom,dispatch:h}),n)}},g.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:FT(+t),g):a},g.filter=function(t){return arguments.length?(r="function"==typeof t?t:FT(!!t),g):r},g.touchable=function(t){return arguments.length?(u="function"==typeof t?t:FT(!!t),g):u},g.extent=function(t){return arguments.length?(i="function"==typeof t?t:FT([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),g):i},g.scaleExtent=function(t){return arguments.length?(c[0]=+t[0],c[1]=+t[1],g):[c[0],c[1]]},g.translateExtent=function(t){return arguments.length?(s[0][0]=+t[0][0],s[1][0]=+t[1][0],s[0][1]=+t[0][1],s[1][1]=+t[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(t){return arguments.length?(o=t,g):o},g.duration=function(t){return arguments.length?(f=+t,g):f},g.interpolate=function(t){return arguments.length?(l=t,g):l},g.on=function(){var t=h.on.apply(h,arguments);return t===h?g:t},g.clickDistance=function(t){return arguments.length?(d=(t=+t)*t,g):Math.sqrt(d)},g.tapDistance=function(t){return arguments.length?(p=+t,g):p},g}HT.prototype=qT.prototype;const nA="Team Member";let eA=!1;function rA(){aM(".dimmed").classed("dimmed",!1),aM(".highlighted").classed("highlighted",!1),eA=!1}function iA(t,n=25){return t.length<=n?t:t.slice(0,n)+"..."}function oA(t,n,e="br"){t.insertAdjacentHTML("beforeend",`<${e}>`.repeat(n))}function aA(t,n,e){window.location.href=`mailto:${t.join(",")}?subject=${encodeURIComponent(n)}&body=${encodeURIComponent(e)}`}function uA(t,n){const e=document.createElement("a");return e.href=t,e.textContent=n??"External Link",e.target="_blank",e.style.color="#0078d4",e.style.textDecoration="underline",e}function cA(t,n){if(t.nodeType===Node.TEXT_NODE)return function(t){const n=[],e=/(https?:\/\/[^\s<>"')\]]+)/g;let r,i=0;for(;null!==(r=e.exec(t));){const o=t.slice(i,r.index);o&&n.push(document.createTextNode(o));let a=r[1];const u=/[.,;:!?)+\]]+$/;let c="";const s=a.match(u);s&&(c=s[0],a=a.slice(0,-c.length)),n.push(uA(a)),c&&n.push(document.createTextNode(c)),i=e.lastIndex}const o=t.slice(i);return o&&n.push(document.createTextNode(o)),n}(t.nodeValue||"");if(t.nodeType===Node.ELEMENT_NODE){const e=t.tagName.toLowerCase();if(n.has(e)){const r=document.createElement(e);return t.childNodes.forEach((t=>{cA(t,n).forEach((t=>r.appendChild(t)))})),[r]}const r=[];return t.childNodes.forEach((t=>{cA(t,n).forEach((t=>r.push(t)))})),r}return[]}function sA(t){let n=[];return t&&(n=function(t){const n=[],e=new Set(["b","i","ul","li","a"]);return t.forEach(((r,i)=>{const o=document.createElement("template");o.innerHTML=r,Array.from(o.content.childNodes).forEach((t=>{cA(t,e).forEach((t=>n.push(t)))})),i<t.length-1&&n.push(document.createElement("br"))})),n}(t.split("\n"))),n}function fA(t,n,e){const r=e.select("#legend");r.html(""),r.append("div").attr("class","legend-title").text(`${n} Legenda`);const i=r.append("div").attr("class","legend-items");t.domain().forEach((n=>{const e=n||"Unknown",r=i.append("div").attr("class","legend-item");r.append("span").attr("class","legend-swatch").style("background",t(e)),r.append("span").attr("class","legend-label").text(`${e}`)}))}function lA(t,n,e,r,i,o,a){if(void 0===o||t!==o){const i=Array.from(new Set(n.map((n=>(n?.[t]??"").toString().trim()||"Unknown"))));return e.scaleOrdinal(i,r)}const u=Array.from(a.values()).flat().map((t=>t.trim())).filter(Boolean),c=new Set;for(const t of n){const n=(t?.[o]??"").toString().toLowerCase();u.forEach((t=>{t&&n.includes(t.toLowerCase())&&c.add(t)}))}const s=[...c,nA],f=s.map(((t,n)=>n<c.size?r[n%r.length]:i)),l=e.scaleOrdinal(s,f);return l.isGuest=t=>{const n=(t||"").toString().toLowerCase();return u.some((t=>n.includes(t.toLowerCase())))},l}function hA(t,n=[],e="",r=""){const i=t.length>1?encodeURIComponent(t.join(";")):"",o=n.length>1?encodeURIComponent(n.join(";")):"";let a=`https://outlook.office.com/mail/deeplink/compose?subject=${encodeURIComponent(e)}&body=${encodeURIComponent(r)}`;return i&&(a+=`&to=${i}`),o&&(a+=`&cc=${o}`),a}function dA(t){return new URLSearchParams(window.location.search).get(t)}function pA(t){!function(t,n){const e=new URL(window.location);null!=n&&(e.searchParams.set("search",n),window.history.pushState({},"",e))}(0,t)}function gA(){const t=document.getElementById("side-drawer"),n=document.getElementById("side-overlay");t&&(t.classList.remove("open"),n?.classList.remove("visible"),document.body.classList.remove("side-drawer-open"),t.setAttribute("aria-hidden","true"))}let yA,mA="",vA=0,bA=[],_A=null;const xA="Team Stream",wA="Team Theme",MA="Team member of",EA=`No ${xA}`,TA=`No ${wA}`,AA=`No ${MA}`,kA=["#a0c4ff","#ffd6e0","#b2f7ef","#ffe066","#caffbf","#ffadad","#fdffb6","#bdb2ff","#9bf6ff","#ffc6ff"],SA="Role",NA="Location",CA="Company";let $A=SA;const PA=new Map([["Team Product Manager",["Product Manager"]],["Team Delivery Manager",["Delivery Manager"]],["Team Scrum Master",["Agile Coach/Scrum Master"]],["Team Solution Architect",["Solution Architect"]],["Team Development Manager",["Development Manager"]],["Team Security Champion",["Security Champion"]]]),zA=Array.from(PA.keys());let IA=new Map;const LA="Company email",RA=["teams@share.software.net"],BA="#fcfcfc";function OA(t){if("function"!=typeof _A)return BA;let n;if($A===SA){const e=(t.attr("data-role")||"").toString().toLowerCase();n=Array.from(PA.values()).flat().find((t=>t&&e.includes(t.toLowerCase())))||nA}else n=$A===CA?t.attr("data-company")||"Unknown":t.attr("data-location")||"Unknown";const e=_A(n);return"string"==typeof e&&e?e:BA}function DA(t){const e=document.getElementById("toggle-color-role"),r=document.getElementById("toggle-color-company"),i=document.getElementById("toggle-color-location");e&&r&&i&&(t===SA?(e.checked=!0,r.checked=!1,i.checked=!1):t===CA?(e.checked=!1,r.checked=!0,i.checked=!1):t===NA&&(e.checked=!1,r.checked=!1,i.checked=!0),$A=t,_A=lA($A,bA,n,kA,BA,SA,PA),fA(_A,$A,n),aM('g[data-key^="card::"]').each((function(){const t=Ue(this);t.select("rect.profile-box").transition().duration(200).attr("fill",OA(t))})))}const UA=Qu().on("start",(function(){Ue(this).raise()})).on("drag",(function(t){const n=Ue(this).attr("transform").match(/translate\(([^,]+),([^\)]+)\)/),e=parseFloat(n[1])+t.dx,r=parseFloat(n[2])+t.dy;Ue(this).attr("transform",`translate(${e},${r})`)}));let FA,jA,qA,YA,HA,VA,XA,GA,WA=1200,KA=800,ZA="dsm-layout-v1:default";function QA(t){return(t??"").toString().trim().toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_-]/g,"")}function JA(t){return function(){try{return JSON.parse(localStorage.getItem(ZA)||"{}")}catch{return{}}}()[t]}function tk(t){const n=t.attr("data-key");if(!n)return!1;const e=JA(n);return!!(e&&Number.isFinite(e.x)&&Number.isFinite(e.y))&&(t.attr("transform",`translate(${e.x},${e.y})`),!0)}function nk(t,n,e={}){const r=Number(e.minWidth)||200,i=Number(e.minHeight)||150,o=t.select("text"),a=function(t){const n=t.attr("data-key");if(!n)return null;const e=JA(n);return e&&Number.isFinite(e.width)&&Number.isFinite(e.height)?{w:e.width,h:e.height}:null}(t);let u=(a?.w??Number(n.attr("width")))||r,c=(a?.h??Number(n.attr("height")))||i;const s=14,f=t.append("g").attr("class","resize-handles");f.raise();const l=f.append("rect").attr("class","resize-handle e"),h=f.append("rect").attr("class","resize-handle s"),d=f.append("rect").attr("class","resize-handle se"),p=f.append("rect").attr("class","resize-hit e"),g=f.append("rect").attr("class","resize-hit s"),y=f.append("rect").attr("class","resize-hit se");function m(){n.attr("width",u).attr("height",c),o.empty()||"middle"===o.attr("text-anchor")&&o.attr("x",u/2),l.attr("x",u-7).attr("y",c/2-7).attr("width",s).attr("height",s),h.attr("x",u/2-7).attr("y",c-7).attr("width",s).attr("height",s),d.attr("x",u-7).attr("y",c-7).attr("width",s).attr("height",s),p.attr("x",u-17).attr("y",c/2-17).attr("width",34).attr("height",34),g.attr("x",u/2-17).attr("y",c-17).attr("width",34).attr("height",34),y.attr("x",u-17).attr("y",c-17).attr("width",34).attr("height",34),"function"==typeof e.onResize&&e.onResize({width:u,height:c})}function v(){let t=null;const n=t=>{const n=HT(jA.node()),[e,r]=Qr(t,jA.node());return n.invert([e,r])};return{start(e){t=n(e)},drag(e){const r=n(e);t||(t=r);const i=r[0]-t[0],o=r[1]-t[1];return t=r,{dx:i,dy:o}}}}const b=v(),_=v(),x=v(),w=Qu().on("start",(t=>{t.sourceEvent?.stopPropagation(),b.start(t)})).on("drag",(t=>{const{dx:n}=b.drag(t);u=Math.max(r,u+n),m()})),M=Qu().on("start",(t=>{t.sourceEvent?.stopPropagation(),_.start(t)})).on("drag",(t=>{const{dy:n}=_.drag(t);c=Math.max(i,c+n),m()})),E=Qu().on("start",(t=>{t.sourceEvent?.stopPropagation(),x.start(t)})).on("drag",(t=>{const{dx:n,dy:e}=x.drag(t);u=Math.max(r,u+n),c=Math.max(i,c+e),m()}));l.call(w),p.call(w),h.call(M),g.call(M),d.call(E),y.call(E),f.style("display",lk?null:"none").style("pointer-events",lk?"all":"none"),m()}function ek(t,n,e="Team Managed Services",r=!1){const i=function(t,n){const e=(n||"").trim().toLowerCase();return t.findIndex((t=>(t||"").trim().toLowerCase()===e))}(n,e);if(-1===i)return{exists:!1,items:[]};const o=n[i],a=new Set;t.forEach((t=>{const n=t[o];n&&(r?n.split(/\n|,/).map((t=>t.trim())).filter(Boolean).forEach((t=>a.add(t))):a.add(n))}));const u=r?[...a].sort(((t,n)=>t.localeCompare(n,"it",{sensitivity:"base"}))):[...a];return{exists:!0,items:u}}function rk(){document.getElementById("output").textContent="",FA="",document.getElementById("drawer-search-input").value=FA,pA(FA),rA(),ck(.9)}function ik({name:t,description:n,services:e,channels:r,email:i}){const o=document.getElementById("drawer"),a=document.getElementById("drawer-overlay"),u=document.getElementById("drawer-title"),c=document.getElementById("drawer-list"),s=document.getElementById("drawer-description");if(o&&u&&c&&s){if(u.textContent=`${t}`,s.innerHTML="",sA(n).forEach((t=>s.appendChild(t))),n&&oA(s,1,"hr"),r&&r.length>0){oA(s,1),s.appendChild(document.createTextNode("Channels ")),oA(s,1);const t=document.createElement("ul");r.forEach((n=>{const e=document.createElement("li"),r=uA(n,n?.includes("slack.com")?"Slack Channel":"Link");e.appendChild(r),t.appendChild(e)})),s.appendChild(t),oA(s,1),oA(s,1,"hr"),oA(s,1)}i&&""!==i&&(s.appendChild(document.createTextNode("Team Mailbox ")),oA(s,1),s.appendChild(uA(hA([i]),`${iA(i,25)}`)),oA(s,2),oA(s,1,"hr")),c.innerHTML="",e&&e.items&&0!==e.items.length&&(s.appendChild(document.createTextNode("Managed Services:")),e.items.forEach((t=>{const n=document.createElement("li"),e=document.createElement("a");e.href=`index.html?search=id%3A"${encodeURIComponent(t)}"`,e.textContent=t,e.target="_blank",n.appendChild(e),c.appendChild(n)}))),o.classList.add("open"),a?.classList.add("visible"),document.body.classList.add("drawer-open"),o.setAttribute("aria-hidden","false")}}function ok(){const t=document.getElementById("drawer"),n=document.getElementById("drawer-overlay");t&&(t.classList.remove("open"),n?.classList.remove("visible"),document.body.classList.remove("drawer-open"),t.setAttribute("aria-hidden","true"))}function ak(){const t=document.getElementById("canvas");t?(WA=t.clientWidth||+t.getAttribute("width")||1200,KA=t.clientHeight||+t.getAttribute("height")||800,Ue(t).selectAll("*").remove(),jA=Ue(t).attr("width",WA).attr("height",KA).attr("cursor","grab"),qA=jA.append("g").attr("id","viewport"),HA=qA.append("g").attr("id","streamLayer"),VA=qA.append("g").attr("id","themeLayer"),XA=qA.append("g").attr("id","teamLayer"),YA=qA.append("g").attr("id","cardLayer"),yA=qA.append("g").attr("id","logoLayer"),GA=tA().scaleExtent([.1,1.2]).on("start",(()=>jA.attr("cursor","grabbing"))).on("end",(()=>jA.attr("cursor","grab"))).on("zoom",(t=>{qA.attr("transform",t.transform)})),jA.call(GA)):console.error("canvas not found")}function uk(t,n=3e3){let e=document.querySelector(".toast-container");e||(e=document.createElement("div"),e.className="toast-container",document.body.appendChild(e));const r=document.createElement("div");r.className="toast",r.textContent=t,e.appendChild(r),setTimeout((()=>{r.classList.add("show")}),10),setTimeout((()=>{r.classList.remove("show"),setTimeout((()=>r.remove()),300)}),n)}function ck(t=.9){if(!qA)return;const n=qA.node().getBBox();if(!n||!isFinite(n.width)||!isFinite(n.height)||0===n.width||0===n.height)return void jA.call(GA.transform,YT);const e=Math.min(WA/n.width,KA/n.height)*t,r=WA/2-(n.x+n.width/2)*e,i=KA/2-(n.y+n.height/2)*e,o=YT.translate(r,i).scale(e);jA.call(GA.transform,o)}window.addEventListener("DOMContentLoaded",(function(){(function(){const t=document.getElementById("side-overlay"),n=document.getElementById("side-close");t?.addEventListener("click",gA),n?.addEventListener("click",gA),window.addEventListener("keydown",(t=>{"Escape"===t.key&&gA()}));const e=document.getElementById("toggle-cta");e?.addEventListener("click",(t=>{t.preventDefault(),function(){const t=document.getElementById("side-drawer"),n=document.getElementById("side-overlay");t&&(t.classList.add("open"),n?.classList.add("visible"),document.body.classList.add("side-drawer-open"),t.setAttribute("aria-hidden","false"),document.getElementById("act-upload")?.focus())}()})),document.getElementById("act-upload")?.addEventListener("click",(()=>{document.getElementById("fileInput")?.click(),gA()}))})(),document.getElementById("act-clear")?.addEventListener("click",(()=>{rk()})),document.getElementById("act-fit")?.addEventListener("click",(()=>{ck(.9)})),document.getElementById("toggle-color-role")?.addEventListener("change",(t=>{t.target.checked&&DA(SA)})),document.getElementById("toggle-color-company")?.addEventListener("change",(t=>{t.target.checked&&DA(CA)})),document.getElementById("toggle-color-location")?.addEventListener("change",(t=>{t.target.checked&&DA(NA)})),document.getElementById("act-about")?.addEventListener("click",(t=>{gA(),ik({name:"About Solitaire ",description:'Org charts highlight hierarchybut not how teams actually work. Much of the real collaboration that drives the Company operations happens across functions, services, and roles, yet remains invisible. This reinforces silos and hides the complexity of our shared work. More info on <a href="https://www.gamerdad.cloud/" target="_blank">my personal blog</a>\n\n<b><i>Our Vision</b></i>\nBy visualizing how teams operatethe people, services, and responsibilities behind daily activitieswe strengthen a culture that is collaborative, transparent, and serviceoriented. Visibility turns shared accountability into a tangible part of our operating model.\n\n<b><i>What we\'re building</b></i>\nA custom Visual People Database that brings together data from several systems into a single, interactive view.\n\n<b><i>It provides:</b></i>\n<ul><li>A clear map of team members (internal staff and suppliers)</li><li>The services each team manages</li><li>Roles and responsibilities across the organization</li><li>Quick access to Domino Service Catalog</li><li>A builtin Request an update feature to keep information fresh and accurate</li></ul>\n<b><i>The Benefits</b></i>\n<ul><li>Understand who works on what across projects and services</li><li>Make hidden operational networks visible</li><li>Consolidate data not available in systems like the one used by the HR</li><li>Strengthen transparency, alignment, and crossteam collaboration</li><li>Provide a single source of truth for service ownership and responsibilities</li></ul>'})})),document.getElementById("act-report")?.addEventListener("click",(()=>{const t="Request for People Database Update",n="\nHello,\n\nI would like to report the need for an update to the People Database:\n\nFIRST NAME: \nLAST NAME: \nCOMPANY NAME: \nTEAM: \nROLE: \nSTART DATE (for new Joiners or movers): \nEND DATE (for leavers): \nON-SITE/OFF-SITE: \nCITY/COUNTRY: \nROOM: \nLINE MANAGER: \nPHOTO: \n\nRegards,\n";try{!function(){try{if(navigator.userAgentData&&"boolean"==typeof navigator.userAgentData.mobile)return navigator.userAgentData.mobile}catch(t){}const t=(navigator.userAgent||navigator.vendor||window.opera||"").toLowerCase(),n=/android|iphone|ipod|ipad|iemobile|mobile|blackberry|opera mini|opera mobi|silk/.test(t)||(/macintosh/.test(t)||/mac os x/.test(t))&&"ontouchend"in document,e=Math.min(window.screen.width,window.screen.height)<=820;return n||e}()?function({to:t=[],cc:n=[],bcc:e=[],subject:r="",body:i=""}){window.open(hA(t,n,r,i),"_blank","noopener")}({to:RA,cc:[],bcc:[],subject:t,body:n}):aA(RA,t,n)}catch(e){console.log(e),aA(RA,t,n)}gA()})),document.getElementById("drawer-search-go")?.addEventListener("click",(()=>{const t=document.getElementById("drawer-search-input")?.value?.trim().toLowerCase();t&&pk(t)}))})),window.addEventListener("DOMContentLoaded",(function(){const t=document.getElementById("drawer-overlay"),n=document.getElementById("drawer-close");t?.addEventListener("click",ok),n?.addEventListener("click",ok),window.addEventListener("keydown",(t=>{"Escape"===t.key&&ok()}))})),window.addEventListener("load",(function(){fetch("https://francesconicolosi.github.io/domino-service-dependency-map/sample-people-database.csv").then((t=>t.text())).then((t=>{ak(),dk(t),FA=dA("search"),FA&&requestAnimationFrame((()=>{requestAnimationFrame((()=>{pk(FA)}))}))})).catch((t=>console.error("Error loading the CSV file:",t)))})),document.getElementById("act-save")?.addEventListener("click",(()=>{const t={};aM(".draggable").each((function(){const n=Ue(this),e=n.attr("data-key");if(!e)return;const{x:r,y:i}=function(t){if(!t)return{x:0,y:0};const n=t.match(/translate\(([^,]+),\s*([^)]+)\)/);return n?{x:+n[1]||0,y:+n[2]||0}:{x:0,y:0}}(n.attr("transform"));t[e]={x:r,y:i}})),aM(".draggable").each((function(){const n=Ue(this),e=n.attr("data-key");if(!e)return;const r=n.select("rect");if(!r.empty()){const n=+r.attr("width"),i=+r.attr("height");t[e]={...t[e]||{},width:n,height:i}}})),localStorage.setItem(ZA,JSON.stringify(t)),uk("Scenario successfully saved!")}));const sk=t=>t.replace(/[\s\t\r\n]+/g," ").trim(),fk=(t,n,e,r)=>{if(!t[n])return;const i=[...new Set(t[n].split(/\n|,/).map((t=>t.trim())).filter(Boolean))];i.forEach((t=>{const i=(o=t,a=r,Object.values(a).flatMap((t=>Object.values(t).flatMap((t=>Object.values(t).flatMap((t=>t)))))).find((t=>t.Name&&t.Name.trim().toLowerCase()===o.trim().toLowerCase()))||null);var o,a;i&&(e.some((n=>sk(n.Name)===sk(t)))||(i.guestRole=n,e.push(i)))}))};let lk=!1;function hk(){const t=aM(".draggable"),n=aM(".resize-handles");lk?(t.call(UA),n.style("display",null).style("pointer-events","all")):(t.on(".drag",null),n.style("display","none").style("pointer-events","none"))}function dk(t){if(!t)return void alert("Missing CSV File!");IA=new Map;const e=function(t){const n=[];let e=[],r=!1,i="";for(let o=0;o<t.length;o++){const a=t[o];'"'===a?r&&'"'===t[o+1]?(i+='"',o++):r=!r:","!==a||r?"\n"!==a&&"\r"!==a||r?i+=a:((i||e.length>0)&&(e.push(i),n.push(e),e=[],i=""),"\r"===a&&"\n"===t[o+1]&&o++):(e.push(i),i="")}return(i||e.length>0)&&(e.push(i),n.push(e)),n}(t);if(e.length<2)return;const r=e[0].map((t=>t.trim()));bA=e.slice(1).map((t=>{const n={};return r.forEach(((e,r)=>n[e]=(t[r]||"").trim())),n})).filter((t=>t.Status&&"inactive"!==t.Status.toLowerCase())),function(t,e){if($A=t,_A=lA($A,e.slice(),n,kA,BA,SA,PA),"function"!=typeof _A)throw new Error("colorScale was not created as a function")}(SA,bA),fA(_A,$A,n),DA(SA);let i="";if(r.includes("Last Update")){const t=r.indexOf("Last Update"),n=e.slice(1).map((n=>n[t]?.trim())).filter(Boolean).map((t=>new Date(t))).filter((t=>!isNaN(t)));if(n.length){const t=Math.max(...n.map((t=>t.getTime())));i=new Date(t).toISOString().slice(0,10)}}const o=bA.length;ZA=`dsm-layout-v1::people:${o}|lu:${i||"n/a"}`,function(t,n){if(t.includes("Last Update")){const e=t.indexOf("Last Update"),r=n.slice(1).map((t=>t[e]?.trim())).filter(Boolean).map((t=>new Date(t))).filter((t=>!isNaN(t.getTime())));if(r.length>0){const t=document.getElementById("side-last-update");t&&(t.textContent=`Last Update: ${function(t,n="it-IT",e="Europe/Rome"){return new Date(t).toLocaleString(n,{timeZone:e,day:"2-digit",month:"2-digit",year:"numeric"})}(new Date(Math.max(...r.map((t=>t.getTime())))).toISOString())}`)}}}(r,e);const a=function(t){const n={};for(const e of t){let t=(e[xA]||"").split(/\n|,/).map((t=>t.trim())).filter(Boolean);0===t.length&&(t=[EA]);let r=(e[wA]||"").split(/\n|,/).map((t=>t.trim())).filter(Boolean);0===r.length&&(r=[TA]);let i=(e[MA]||"").split(/\n|,/).map((t=>t.trim())).filter(Boolean);0===i.length&&(i=[AA]);for(const o of t){n[o]||(n[o]={});for(const t of r){n[o][t]||(n[o][t]={});for(const r of i){n[o][t][r]||(n[o][t][r]=[]),e.Name=e.Name?sk(e.Name):e.User;const i=Object.values(n[o][t][r]).map((t=>t.Name)),a=Object.values(n[o][t][r]).map((t=>t.User));i.includes(e.Name)||a.includes(e.User)||n[o][t][r].push(e)}}}}return n}(bA),u=function(t){const n={};for(const[e,r]of Object.entries(t))for(const[i,o]of Object.entries(r))for(const[r,a]of Object.entries(o)){n[e]||(n[e]={}),n[e][i]||(n[e][i]={}),n[e][i][r]||(n[e][i][r]=[]);for(const o of a)Object.values(n[e][i][r]).map((t=>t.Name)).includes(o.Name)||n[e][i][r].push(o),zA.forEach((a=>fk(o,a,n[e][i][r],t)));n[e][i][r].sort(((t,n)=>{const e=zA.includes(t.guestRole),r=zA.includes(n.guestRole);return e&&!r?1:!e&&r?-1:0}))}return n}(a),c=dA("stream"),s=c?new Set(c.split(",").map((t=>t.trim())).filter(Boolean)):null,f=["Role","Company","Location","Room Link","In team since","Name","User",LA],l=f.length,h=4*l*11,d=1060,p=Math.max(...Object.entries(u).filter((([t])=>t!==EA)).flatMap((([,t])=>Object.entries(t).filter((([t])=>t!==TA)).flatMap((([,t])=>Object.values(t).map((t=>new Set(t.map((t=>t.Name?.trim())).filter(Boolean)).size))))))),g=Math.ceil(p/6)*h*1.2+80,y=1.2*g+100;let m=40;Object.entries(u).forEach((([t,n])=>{if(t.includes(EA))return;if(s){const n=QA(t);if(!s.has(t)&&!s.has(n))return}const e=Object.values(a[t]||{}).flatMap((t=>Object.values(t))).flat(),i=ek(e,r,"Team Stream Description")?.items?.join("")??"",o=function(t,n,e,r,i,o=4,a=600,u=80){const c=Object.entries(t).filter((([t])=>!t.includes(e))).map((([,t])=>Object.keys(t).length)).map((t=>function(t,n,e){const r=Number(t)||0;return r<=0?120:r*n+(r-1)*e+120}(t,i,r)));if(!c||0===c.length)return a;let s=0;for(let t=0;t<c.length;t+=o){const e=c.slice(t,t+o),r=e.reduce(((t,n)=>t+(Number(n)||0)),0)+(e.length-1)*n+u;r>s&&(s=r)}return Math.max(s,a)}(n,60,TA,24,d);let u=60;const c=HA.append("g").attr("class","draggable").attr("transform",`translate(40,${m})`).attr("data-key",`stream::${QA(t)}`);tk(c);const l=Object.entries(n).filter((([t])=>!t.includes(TA))).length,p=Math.ceil(l/4)*(y+60)+140,v=c.append("rect").attr("class","stream-box").attr("width",o).attr("height",p).attr("rx",40).attr("ry",40);nk(c,v,{minWidth:600,minHeight:300,onResize:()=>{console.log("resizing")}}),c.append("text").attr("x",50).attr("y",70).attr("text-anchor","start").attr("class","stream-title").text(`${t} ${""!==i?"  ":""}`),""!==i&&(c.select("rect.stream-box").style("cursor","pointer").on("click",(()=>ik({name:t,description:i}))),c.select("text.stream-title").style("cursor","pointer").on("click",(()=>ik({name:t,description:i}))));let b=0;Object.entries(n).forEach((([n,e])=>{if(n.includes(TA))return;const i=Math.floor(b/4),o=b%4,c=Object.values(a[t]?.[n]||{}).flat(),s=ek(c,r,"Team Theme Description")?.items?.join("")??"";0===o&&(u=60);const l=Object.keys(e).length*d+120,p=m+100+i*(y+60),v=VA.append("g").attr("class","draggable").attr("transform",`translate(${40+u},${p})`).attr("data-key",`theme::${QA(t)}::${QA(n)}`);tk(v);const _=v.append("rect").attr("class","theme-box").attr("width",l).attr("height",y).attr("rx",30).attr("ry",30);nk(v,_,{minWidth:400,minHeight:250}),v.append("text").attr("x",l/2).attr("y",85).attr("text-anchor","middle").attr("class","theme-title").text(`${iA(n)} ${""!==s?"  ":""}`),""!==s&&(v.select("rect.theme-box").style("cursor","pointer").on("click",(()=>ik({name:n,description:s}))),v.select("text.theme-title").style("cursor","pointer").on("click",(()=>ik({name:n,description:s})))),Object.entries(e).forEach((([e,i],o)=>{const c=a[t]?.[n]?.[e]||[],s=ek(c,r,"Team Managed Services",!0),l=ek(c,r,"Team Description")?.items?.join("")??"",y=ek(c,r,"Team Channels",!0)?.items,m=ek(c,r,"Team Email")?.items?.join("")??"",v=1084*o+50,b=XA.append("g").attr("class","draggable").attr("transform",`translate(${40+u+v},${p+130})`).attr("data-key",`team::${QA(t)}::${QA(n)}::${QA(e)}`);tk(b);const _=b.append("rect").attr("class","team-box").attr("width",d).attr("height",g).attr("rx",20).attr("ry",20);nk(b,_,{minWidth:360,minHeight:220});const x=`${e} -  (${s?.items?.length||0})`;b.append("text").attr("x",530).attr("y",70).attr("text-anchor","middle").attr("data-services",s?.items?.filter(Boolean).join(", ")||"").attr("class","team-title").text(iA(x)),b.select("rect.team-box").style("cursor","pointer").on("click",(()=>ik({name:e,description:l,services:s,channels:y,email:m}))),b.select("text.team-title").style("cursor","pointer").on("click",(()=>ik({name:e,description:l,services:s,channels:y,email:m}))),i.forEach(((r,i)=>{const a=i%6,c=Math.floor(i/6),s=40+u+1084*o+50+20+170*a,l=p+70+45+c*(h+10)+130,d=YA.append("g").attr("data-role",(r[SA]||"").toString().trim()).attr("data-company",(r[CA]||"").toString().trim()).attr("data-location",(r[NA]||"").toString().trim()).attr("class","draggable").attr("transform",`translate(${s},${l})`).attr("data-key",`card::${QA(t)}::${QA(n)}::${QA(e)}::${QA(r.Name||r.User||i)}`),g=$A===SA?d.attr("data-role"):$A===CA?d.attr("data-company"):d.attr("data-location");IA.set($A,(IA.get($A)??new Set).add(g)),tk(d);const y=d.append("rect").attr("class","profile-box").attr("width",160).attr("height",h).attr("rx",14).attr("ry",14).attr("fill",OA(d)?OA(d):BA);r.guestRole&&y.attr("stroke","#333").attr("stroke-width",1.5).attr("stroke-dasharray","4 2"),function(t,n="./assets/user-icon.png",e=4e3){const r=function(t){const n=`./assets/photos/${(t.split("@")[0]||"").replace("-ext","").replace(".","-")}`;return[`${n}.jpg`,`${n}.png`,`${n}.jpeg`]}(t);return r.reduce(((t,n)=>t.catch((()=>(t=>new Promise(((n,r)=>{const i=new Image,o=setTimeout((()=>{i.onload=i.onerror=null,r(new Error("timeout"))}),e);i.onload=()=>{clearTimeout(o),n(t)},i.onerror=()=>{clearTimeout(o),r(new Error("error"))},i.src=t})))(n)))),Promise.reject()).catch((()=>n))}(r[LA]).then((t=>{d.append("foreignObject").attr("x",50).attr("y",8).attr("width",60).attr("height",60).append("xhtml:img").attr("class","profile-photo").attr("src",t).attr("alt","Profile photo")})),d.append("foreignObject").attr("x",0).attr("y",72).attr("width",160).attr("height",24).append("xhtml:div").attr("class","profile-name").html(r.Name);const m=d.append("foreignObject").attr("x",8).attr("y",98).attr("width",144).attr("height",h-102).append("xhtml:div").attr("class","info");if(r[LA]){const t=r[LA];m.append("div").html(`<a href="https://teams.microsoft.com/l/chat/0/0?users=${encodeURIComponent(t)}" target="_blank" style="text-decoration:none; color:inherit;"></a> <a href="mailto:${encodeURIComponent(t)}" target="_blank" style="text-decoration:none; color:inherit;"></a>`)}Object.entries(r).forEach((([t,n])=>{"Name"!==t&&f.includes(t)&&void 0!==n&&m.append("div").attr("class",t.toLowerCase()+"-field").html(`<strong>${t}:</strong> ${n}`)}))}))})),u+=l+60,b++})),m+=p+100})),requestAnimationFrame((()=>{!function(t="./assets/company-logo.png",n=240,e=40){if(!qA||!yA)return;const r=function(){const t=void 0,n=YA?.node()?.getBBox();if(!t&&!n)return null;const e=[t,n].filter(Boolean),r=Math.min(...e.map((t=>t.x))),i=Math.min(...e.map((t=>t.y)));return{x:r,y:i,width:Math.max(...e.map((t=>t.x+t.width)))-r,height:Math.max(...e.map((t=>t.y+t.height)))-i}}();if(!r)return void console.warn("Visual outcome not found");yA.selectAll("*").remove();const i=new Image;i.onload=()=>{const o=i.height/i.width||.35,a=n,u=Math.round(a*o),c=r.x+(r.width-a)/2,s=r.y+r.height+Math.max(300,.12*r.height);yA.append("image").attr("href",t).attr("x",c).attr("y",s).attr("width",a).attr("height",u).attr("preserveAspectRatio","xMidYMid meet").style("pointer-events","none"),yA.append("foreignObject").attr("x",c).attr("y",s+u+e).attr("width",a).attr("height",100).append("xhtml:div").style("font-size","10px").style("font-family","Arial, sans-serif").style("text-align","center").style("color","#333").html('<p>Author: Francesco Nicolosi</p><p>Personal Blog: <a href="https://www.gamerdad.cloud" target="_blank">www.gamerdad.cloud</a></p><p><img src="https://img.shields.io/badge/license-NonCommercial-blue.svg"></p>'),!dA("search")&&ck(.9)},i.onerror=()=>{console.warn("Logo not found:",t)},i.src=t}("./assets/company-logo.png",200,50)})),ck(.9),hk()}function pk(t){if(!t)return;const n=document.getElementById("drawer-search-input");n.value||(n.value=t);const e=Array.from(document.querySelectorAll(".profile-name, .team-title, .theme-title, .stream-title, .role-field, [data-services]")).filter((n=>{const e=!!n.textContent&&(n.textContent.toLowerCase().includes(t)||n.textContent.toLowerCase().includes(iA(t))),r=n.getAttribute("data-services")?.toLowerCase().includes(t);return e||r}));if(0===e.length)return rA(),void uk(`No result found for ${t}`);0!==e.length?(t===mA?vA=(vA+1)%e.length:(mA=t,vA=0),function(t,n=1.5,e=500){if(!t||!jA)return;const r=jA.node(),i=HT(r),o=t.getBoundingClientRect(),a=r.getBoundingClientRect(),u=o.left+o.width/2-a.left,c=o.top+o.height/2-a.top,[s,f]=i.invert([u,c]),l=n,h=WA/2-s*l,d=KA/2-f*l-190,p=YT.translate(h,d).scale(l);jA.transition().duration(e).call(GA.transform,p);const g=t.closest("g");g&&function(t){!function(t){t.selectAll("rect").attr("stroke",null).attr("stroke-width",null)}(t);const n=t.select("rect.profile-box").node()?t.select("rect.profile-box"):t.select("rect");n.node()&&n.attr("stroke","#ff9900").attr("stroke-width",3)}(Ue(g))}(e[vA],1.1,600),function(t){if(rA(),!t||0===t.length)return;eA=!0;const n={streams:new Set,themes:new Set,teams:new Set,cards:new Set},e=t.map((t=>function(t){const n=t instanceof Element?t:t?.node?.();if(!n)return null;const e=n.closest('g[data-key^="card::"]');if(e){const t=e.getAttribute("data-key"),n=t.split("::"),r=n[1],i=n[2];return{mode:"member",streamKey:`stream::${r}`,themeKey:`theme::${r}::${i}`,teamKey:`team::${r}::${i}::${n[3]}`,cardKey:t}}const r=n.closest('g[data-key^="team::"]');if(r){const t=r.getAttribute("data-key"),n=t.split("::"),e=n[1];return{mode:"team",streamKey:`stream::${e}`,themeKey:`theme::${e}::${n[2]}`,teamKey:t}}const i=n.closest('g[data-key^="theme::"]');if(i){const t=i.getAttribute("data-key");return{mode:"theme",streamKey:`stream::${t.split("::")[1]}`,themeKey:t}}const o=n.closest('g[data-key^="stream::"]');return o?{mode:"stream",streamKey:o.getAttribute("data-key")}:null}(t))).filter(Boolean);e.forEach((t=>{switch(t.mode){case"stream":n.streams.add(t.streamKey);break;case"theme":n.themes.add(t.themeKey);break;case"team":n.teams.add(t.teamKey);break;case"member":n.cards.add(t.cardKey)}})),aM("#streamLayer > g, #themeLayer > g, #teamLayer > g, #cardLayer > g").classed("dimmed",!0).classed("highlighted",!1);const r=t=>Ue(`g[data-key="${t}"]`).classed("dimmed",!1),i=t=>Ue(`g[data-key="${t}"]`).classed("highlighted",!0),o=t=>t.classed("dimmed",!1);n.streams.forEach((t=>{const n=t.split("::")[1];r(t),i(t),o(aM(`g[data-key^="theme::${n}::"]`)),o(aM(`g[data-key^="team::${n}::"]`)),o(aM(`g[data-key^="card::${n}::"]`))})),n.themes.forEach((t=>{const n=t.split("::"),e=`stream::${n[1]}`,a=n.slice(1).join("::");r(e),i(e),r(t),i(t),o(aM(`g[data-key^="team::${a}::"]`)),o(aM(`g[data-key^="card::${a}::"]`))})),n.teams.forEach((t=>{const n=t.split("::"),e=`stream::${n[1]}`,a=`theme::${n[1]}::${n[2]}`,u=n.slice(1).join("::");r(e),i(e),r(a),i(a),r(t),i(t),o(aM(`g[data-key^="card::${u}::"]`))})),n.cards.forEach((t=>{const n=t.split("::"),e=`stream::${n[1]}`,o=`theme::${n[1]}::${n[2]}`,a=`team::${n[1]}::${n[2]}::${n[3]}`;r(e),i(e),r(o),i(o),r(a),i(a),r(t),i(t)}))}(e),uk(`Found ${e.length} result(s). Showing ${vA+1}/${e.length}.`),pA(t)):uk(`No result found for ${t}`)}document.getElementById("act-reset-layout")?.addEventListener("click",(()=>{localStorage.removeItem(ZA),window.location.reload()})),document.getElementById("toggle-draggable")?.addEventListener("change",(t=>{lk=t.target.checked,hk()})),document.getElementById("fileInput")?.addEventListener("change",(function(t){const n=t.target.files[0];if(!n)return;const e=new FileReader;e.onload=function(t){ak(),dk(t.target.result)},e.readAsText(n,"UTF-8")})),document.getElementById("drawer-search-input")?.addEventListener("keydown",(function(t){if("Enter"===t.key){const n=t.target.value.trim().toLowerCase();n?pk(n):rk(),t.preventDefault()}}))})();